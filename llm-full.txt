# https://developer.getrecharge.com/2021-11 llms-full.txt

## Recharge API Documentation
v.2021-01v.2021-11

# API Reference

The Recharge API is primarily a REST API with some RPC endpoints to support common operations. It has predictable, resource-oriented URLs, accepts JSON-encoded request bodies, returns JSON-encoded responses, and uses standard HTTP response codes, authentication, and methods.

Related guides: [Generate API tokens](https://docs.rechargepayments.com/docs/recharge-api-key), [Using the API](https://docs.rechargepayments.com/docs/using-the-api)

## API and Platforms compatibility

Recharge offers hosted solutions and integrates with various ecommerce platforms to process recurring transactions with the setup of your choice. In order to be compatible with those platforms some of our API resources and endpoints may be limited in use to a subset of platforms. When that is the case we will flag with the help of tags the checkout/platform association for which that feature is compatible.

**When there is no restriction of compatibility no tags will appear.**

Below is a legend of the tags you may come across:

| Tag | Checkout solution | Ecommerce platform |
| --- | --- | --- |
| BigCommerce | Recharge hosted | BigCommerce |
| Custom | Recharge hosted or API-first | Custom |
| RCS | Recharge hosted | Shopify |
| SCI | Shopify hosted | Shopify |

You may also come across other tags specifying regional restrictions (e.g. USA Only) or new releases (e.g. Alpha, Beta).

![Intro image](https://developer.getrecharge.com/images/intro_v2.png)

Base URL

```hljs
https://api.rechargeapps.com
```

# Authentication

Recharge uses API keys to authenticate requests.

Each request to the API should contain an API token in the following header:

`X-Recharge-Access-Token:store_api_token`

Replace `store_api_token` with your API key.

All requests must be made over HTTPS.

## API Token Scopes

Scopes can be set up from the API token edit page in Recharge to control the level of access of an API token.

The API currently supports the scopes below:

| Write | Read |
| --- | --- |
|  | `read_accounts` |
| `write_batches` | `read_batches` |
| `write_customers` | `read_customers` |
| `write_discounts` | `read_discounts` |
|  | `read_events` |
| `write_notifications` |  |
| `write_orders` | `read_orders` |
| `write_payment_methods` | `read_payment_methods` |
| `write_products` | `read_products` |
| `write_subscriptions` | `read_subscriptions` |
|  | `read_store` |
|  | `read_credit_accounts` |
|  | `read_credit_adjustments` |

GET /

cURLPythonPHPRuby

```hljs bash
curl -i -H 'X-Recharge-Access-Token: your_api_token'
-X GET
```

# Versioning

All requests will use your account API settings, unless you send a `X-Recharge-Version` header to specify the version.

You can use the same token to make calls to all versions. When no version is specified it will default to the default version on your store.

| Existing API Versions | Release notes |
| --- | --- |
| `2021-11` | 2021-11 [release notes](https://changelog.rechargepayments.com/recharge-api-v2021-11-is-now-available-4syNNK) |
| `2021-01` |  |

# Responses

Recharge uses conventional `HTTP` response codes to indicate the success or failure of an API request. In general, codes in the `2xx` range indicate success, codes in the `4xx` range indicate an error that failed given the information provided ( e.g. a required parameter was omitted, a charge failed, etc ), and codes in the `5xx` range indicate an error with Recharge’s servers.

```hljs
200 - OK: Everything worked as expected.
201 - OK: The request was successful, created a new resource, and resource created is in the body.
202 - OK: The request has been accepted and is in processing.
204 - OK: The server has successfully fulfilled the request and there is no content to send in the response body.
400 - Bad Request: The request was unacceptable, often due to a missing required parameter.
401 - Unauthorized: No valid API key was provided.
402 - Request Failed: The parameters were valid but the request failed.
403 - The request was authenticated but not authorized for the requested resource (permission scope error).
403 - Uninstalled Store.
404 - Not Found: The requested resource doesn’t exist.
405 - Method Not Allowed: The method is not allowed for this URI.
406 - The request was unacceptable, or requesting a data source which is not allowed although permissions permit the request.
409 - Conflict: You will get this error when you try to send two requests to edit an address or any of its child objects at the same time, in order to avoid out of date information being returned.
415 - The request body was not a JSON object.
422 - The request was understood but cannot be processed due to invalid or missing supplemental information.
426 - The request was made using an invalid API version.
429 - The request has been rate limited.
500 - Internal server error.
501 - The resource requested has not been implemented in the current version but may be implemented in the future.
503 - A 3rd party service on which the request depends has timed out.
```

# Extending responses

Our API endpoints and webhooks allow developers to extend responses with additional data in order to optimize calls, allowing for simpler and more efficient implementations.

The API supports including additional objects when using a `GET` request to retrieve a list or a `GET` request to retrieve a record by a specific id. This is achieved by using an `include` query parameter in the request URL. The `include` value contains the object or objects you want to include in the response of your request. On routes where multiple includes are available, you are able to pass multiple values separated by a comma ( `include=customer,metafields`). The below table defines available `include` values for commonly used resources of the API.

Webhooks support `included_objects` on the topics listed below. Webhook `included_objects` accepts an array of supported values ( `"included_objects": [ "customer", "metafields"]`). Specifying `included_objects` will return an enriched payload, containing the original resource and the associated included objects.

When including `charge_activities` in API calls or webhooks, note that only the last 90 days of activities will be included in the response.

| Resource | Endpoints | Webhook topics | Supported `include` values | Supported `included_objects` values |
| --- | --- | --- | --- | --- |
| `Addresses` | `GET /addresses`<br>`GET /addresses/{id}` | `address/created`<br>`address/updated` | `charge_activities`<br>`customer`<br>`discount`<br>`payment_methods`<br>`subscriptions` | `customer`<br>`payment_methods` |
| `Charges` | `GET /charges`<br>`GET /charges/{id}` | `charge/created`<br>`charge/failed`<br>`charge/max_retries_reached`<br>`charge/paid`<br>`charge/refunded`<br>`charge/uncaptured`<br>`charge/upcoming`<br>`charge/updated`<br>`charge/deleted` | `charge_activities` (beta)<br>`customer`<br>`metafields`<br>`payment_methods` | `customer`<br>`metafields`<br>`payment_methods` |
| `Customers` | `GET /customers`<br>`GET /customers/{id}` | `customer/activated`<br>`customer/created`<br>`customer/deactivated`<br>`customer/payment_method_updated`<br>`customer/updated`<br>`customer/deleted` | `addresses`<br>`metafields`<br>`payment_methods`<br>`subscriptions` | `addresses`<br>`metafields`<br>`payment_methods` |
| `Orders` | `GET /orders`<br>`GET /orders/{id}` | `order/cancelled`<br>`order/created`<br>`order/deleted`<br>`order/processed`<br>`order/payment_captured`<br>`order/upcoming`<br>`order/updated`<br>`order/success` | `customer`<br>`metafields` | `customer`<br>`metafields` |
| `Payment Methods` | `GET /payment_methods`<br>`GET /payment_methods/{id}` |  | `addresses` | `addresses` |
| `Subscriptions` | `GET /subscriptions`<br>`GET /subscriptions/{id}` | `subscription/activated`<br>`subscription/cancelled`<br>`subscription/created`<br>`subscription/deleted`<br>`subscription/skipped`<br>`subscription/updated`<br>`subscription/unskipped`<br>`subscription/paused` | `address`<br>`charge_activities`<br>`customer`<br>`metafields`<br>`bundle_product`<br>`bundle_selections` | `customer`<br>`metafields` |

# Cursor Pagination

By default, calls for a list of objects will return 50 results. Using the `limit` parameter, that can be increased to 250 results per response.

When there are more results than the current `limit` a cursor may be used to request additional results.

The `next_cursor` and `previous_cursor` attributes are are included in all list responses.

To request the next set of results, find the `next_cursor` in the list response and include it in the url with the cursor parameter e.g. `GET https://api.rechargeapps.com/subscriptions?limit=250&cursor=<next_cursor>`

To request the previous set of results, find the `previous_cursor` in the list response and include it in the url with the cursor parameter e.g. `GET https://api.rechargeapps.com/subscriptions?limit=250&cursor=<previous_cursor>`

## Retrieving total number of records

Starting with the `2021-11` version of the API, you will not be able to retrieve a count of total records for a given `GET` request. If you are building a UI page that allows end users to paginate through result sets (such as paginating through a list of orders or subscriptions), we recommend that your pagination implementation allow users to go to the next and previous page of results (as opposed to allowing users to jump to specific page in the results). This aligns well with the `previous_cursor` and the `next_cursor` fields included in all list responses.

Example Request

cURLPythonPHPRuby

```hljs bash
URL="https://api.rechargeapps.com/charges?limit=5"

response=$(curl -s -w "%{http_code}"\
    -H 'X-Recharge-Access-Token: your_api_token' \
    -H 'X-Recharge-Version: 2021-11' \    -X GET $URL)

content=$(sed '$ d' <<< "$response") # get all but the last line which contains the status code

# Display results
echo $content | jq "."

# parse next url
echo "Next URL"
next_cursor=$(jq ".next_cursor" <<< "${content}")

# Notice next_cursor value is passed as page_info query param
echo "$URL&page_info=$next_cursor"
```

# Sorting

The API supports sorting of results when using a `GET` request to retrieve a list. Sorting is achieved using a `sort_by` query parameter in the request URL. The `sort_by` value contains the parameter and sort direction for your results (ascending or descending), and available sort\_by values vary between resources. The below table defines available `sort_by` options for commonly used resources.

| Resource | Supported `sort_by_values` |
| --- | --- |
| **`Address`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` |
| **`Async Batch`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` |
| **`Charge`** | **Default: `id-asc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` `scheduled_at-asc` `scheduled_at-desc` |
| **`Customer`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Discount`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Metafield`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` |
| **`Onetime`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Order`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` `processed_at-asc` `processed_at-desc` `scheduled_at-asc` `scheduled_at-desc` |
| **`Plan`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` |
| **`Subscription`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Webhook`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` |

# Addresses

An Addresses record represents a shipping address. Each customer can have multiple addresses. Subscriptions are a child object of an address. ![](https://developer.getrecharge.com/images/address.png)

Endpoints

POST

/addresses


GET

/addresses/{id}


PUT

/addresses/{id}


DELETE

/addresses/{id}


GET

/addresses


POST

/addresses/merge


POST

/addresses/{id}/charges/skip


Expand

# The address object

An Addresses record represents a shipping address. Each customer can have multiple addresses. Subscriptions are a child object of an address.

##### Attributes

- id







integer














Unique numeric identifier for the `Address`.

- payment\_method\_id







integer














Unique numeric identifier for the `Payment Method` associated to the `Address`.

- address1







string














The street associated with the `Address`.

- address2







string














Any additional information associated with the `Address`.

- city







string














The city associated with the address.

- company







string














The company associated with the address.

- country\_code







string














2-letter country code.

- customer\_id







integer














Unique numeric identifier for the customer associated with the address.

- discounts







array














A list of discounts applied on the address. These discounts will apply to future recurring charges associated with this address.










Show object attributes


- first\_name







string














The customer’s first name associated with the address.

- last\_name







string














The customer’s last name associated with the address.

- order\_attributes







array












[BigCommerce](https://developer.getrecharge.com/2021-11#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11#tags_legend)

















Replaces cart\_attributes. Extra information that is added to the order.










Show object attributes


- order\_note







string














Notes to be added to all orders associated with the address.

- phone







string














The phone number associated with the address.

- presentment\_currency







string












[SCI](https://developer.getrecharge.com/2021-11#tags_legend)

















The currency on the subscription contract in Shopify.







Only set if the currency is different from the store-level currency. Else, will default to store-level currency.

- province







string














The state or province associated with the address.

- shipping\_lines\_conserved







array














Shipping rates that have previously been overridden via `shipping_lines_override` but are currently inactive.










Show object attributes


- shipping\_lines\_override







array














Used when shipping rates need to be overridden.







If this parameter has value `null`, rates will be fetched when `Charge` is created or regenerated










Show object attributes


- zip







string














The zip or postal code associated with the address.

- created\_at







datetime














The date and time when the address was created.

- updated\_at







datetime














The date and time when the address was last updated.


##### Error related attributes

##### More Attributes

The address object

```hljs json
{
  "address": {
    "id": 21317826,
    "payment_method_id": 17874235,
    "address1": "1776 Washington Street",
    "address2": "",
    "city": "Los Angeles",
    "company": "Recharge",
    "country_code": "US",
    "created_at": "2018-11-14T09:00:01+00:00",
    "customer_id": 18819267,
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "first_name": "John",
    "last_name": "Doe",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note.",
    "phone": "5551234567",
    "presentment_currency": "USD",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [\
      {\
        "code": "Standard Shipping",\
        "price": "0.00",\
        "title": "Standard Shipping"\
      }\
    ],
    "updated_at": "2018-11-14T09:00:01+00:00",
    "zip": "90404"
  }
}
```

# Create an address

Create a new address for a customer.

Scopes:
write\_customers


##### Body Parameters

- customer\_id







integer





\\* Required














Unique numeric identifier for the customer associated with the address.

- address1







string





\\* Required














The street associated with the `Address`. Minimum length is 1 character.

- address2







string














Any additional information associated with the shipping address.

- city







string





\\* Required














The city associated with the shipping address.

- company







string














The company associated with the shipping address.

- country\_code







string





\\* Required














2-letter country code.







Check if the store supports shipping to this country. This is set by the merchant in their Shipping Settings page.

- discounts







array














List of discounts applied on the `Address`.










Show object attributes


- first\_name







string





\\* Required














The customer’s first name associated with the address. Minimum length is 1 character.

- last\_name







string





\\* Required














The customer’s last name associated with the address. Minimum length is 1 character.

- order\_attributes







array












[BigCommerce](https://developer.getrecharge.com/2021-11#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11#tags_legend)

















Extra information that is added to the order.










Show object attributes


- order\_note







string














Notes to be added to all orders associated with the address.

- payment\_method\_id







integer














Payment method id for the `Payment_method` to be associated to this address.

- phone







string





\\* Required














The phone number associated with the address. Must be included in the request schema but can be an empty string.

- presentment\_currency







string














The currency that charges on this address will be processed in. If no presentment\_currency is passed, it will be set to your default store currency.

- province







string





\\* Required














The state or province associated with the address. Check if country requires a province `COUNTRIES_REQUIRING_PROVINCE`.

- shipping\_lines\_override







array














Used when shipping rates need to be overridden. If this parameter has value `null`, rates will be fetched when a related `Charge` is created or regenerated










Show object attributes


- zip







string





\\* Required














The zip or postal code associated with the address.







Check if the `country` requires a `zip` code `COUNTRIES_NOT_REQUIRING_ZIP`. If not included in the list then a zip code with the minimum length of 1 character is required. If the country is `United States` validate against regex `UNITED_STATES_ZIP_REGEX`. If country is `United Kingdom` then validate against regex `UNITED_KINGDOM_ZIP_REGEX`.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/addresses


cURLPythonPHPRuby

```hljs js
curl https://api.rechargeapps.com/addresses \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "customer_id": 22152215,
  "address1": "1776 Washington Street",
  "address2": "",
  "city": "Los Angeles",
  "company": "Recharge",
  "country_code": "US",
  "first_name": "John",
  "last_name": "Doe",
  "order_attributes": [\
    {\
      "name": "custom name",\
      "value": "custom value"\
    }\
  ],
  "phone": "5551234567",
 "presentment_currency": "USD",
  "province": "California",
  "zip": "90404"
}'
```

Response

201


```hljs json
{
  "address": {
    "id": 42171447,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Retrieve an address

Retrieves address for customer based on specified address id.

Scopes:
read\_customers


##### Responses

- 200




















successful response










Show response object



GET

/addresses/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/addresses/21317826' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "address": {
    "id": 42171447,
    "payment_method_id": 17874235,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Update an address

Updates an existing address to match the specified parameters.

## Example: remove discounts from an address

To remove all discounts from an address, set the `discounts` parameter to an empty array: `{"discounts": []}`

Note: When updating the `country` property you will have to update the `zip` property as well, otherwise you will receive an error.

Scopes:
write\_customers


##### Body Parameters

- address1







string














The street associated with the `Address`. Minimum length is 1 character.

- address2







string














Any additional information associated with the shipping address.

- city







string














The city associated with the shipping address. Minimum length is 1 character.

- company







string














The company associated with the shipping address.

- country\_code







string














2-letter country code.







Check if the `store` supports shipping to this country. This is set by the merchant in their Shipping Settings page.

- discounts







array














A list of discounts applied on the address. These discounts will apply to future recurring charges associated with this address.










Show object attributes


- first\_name







string














The customer’s first name associated with the address. Minimum length is 1 character.

- last\_name







string














The customer’s last name associated with the address. Minimum length is 1 character.

- order\_attributes







array












[BigCommerce](https://developer.getrecharge.com/2021-11#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11#tags_legend)

















Extra information that is added to the order.










Show object attributes


- order\_note







string














Notes to be added to all orders associated with the address.

- payment\_method\_id







integer














Payment method id for the `Payment_method` to be associated to this address.

- phone







string














The phone number associated with the address. Must be included in the request schema but can be an empty string.

- province







string














The state or province associated with the address. Check if country requires a province `COUNTRIES_REQUIRING_PROVINCE`.

- shipping\_lines\_override







array












[BigCommerce](https://developer.getrecharge.com/2021-11#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11#tags_legend)











[SCI](https://developer.getrecharge.com/2021-11#tags_legend)

















Used when shipping rates need to be overridden. If this parameter has value `null`, rates will be fetched when a related `Charge` is created or regenerated.










Show object attributes


- zip







string














The zip or postal code associated with the address. Check if the country requires a zip code `COUNTRIES_NOT_REQUIRING_ZIP`. If not included in the list then a zip code with the minimum length of 1 character is required. If the country is `United States` then validate against regex `UNITED_STATES_ZIP_REGEX`. If country is `United Kingdom` then validate against regex `UNITED_KINGDOM_ZIP_REGEX`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/addresses/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/addresses/38700614' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"address1": "1776 Washington Street"}'
```

Response

200


```hljs json
{
  "address": {
    "id": 42171447,
    "payment_method_id": 17874235,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Delete an address

It is possible to delete certain addresses from the store using API.

Only `Addresses` with no active `Subscriptions` can be deleted.

Scopes:
write\_customers


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/addresses/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/addresses/38700614'\
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List addresses

Returns all addresses from the store, or addresses for the user given in the parameter.

## HTTP examples

`GET /addresses`

`GET /addresses?customer_id=<customer_id>`

`GET /addresses?discount_id=<discount_id>`

`GET /addresses?discount_code=<discount_code>`

You can combine `created_at_min` and `created_at_max` to return all addresses created in the given timespan. This also applies to `updated_at_min` and `updated_at_max` parameters.

Scopes:
read\_customers


##### Query Parameters

- created\_at\_max







datetime














Returns addresses created before the given time.

- created\_at\_min







datetime














Returns addresses created after the given time.

- customer\_id







integer














Unique identifier of the customer.

- discount\_code







string














Returns addresses that have the provided discount\_code.

- discount\_id







string














Returns addresses that have the provided discount\_id.

- ids







string














Filter addresses by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










The amount of results. Default is 50 while the maximum is 250.

- page







string





\*Deprecated













Default: 1










The page to show. Default is 1.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- updated\_at\_max







string














Returns addresses updated before the given date.

- updated\_at\_min







string














Returns addresses updated after the given time.

- is\_active







boolean














Returns active addresses.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/addresses


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/addresses' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "addresses": [\
    {\
      "id": 42171447,\
      "payment_method_id": 17874235,\
      "address1": "1030 Barnum Ave",\
      "address2": "Suite 101",\
      "city": "Stratford",\
      "company": "Fake Company",\
      "country_code": "US",\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "customer_id": 37657002,\
      "discounts": [\
        {\
          "id": 123456\
        }\
      ],\
      "first_name": "Fake First",\
      "last_name": "Fake Last",\
      "order_attributes": [\
        {\
          "name": "custom name",\
          "value": "custom value"\
        }\
      ],\
      "order_note": "My recurring order note",\
      "phone": "999-999-9999",\
      "presentment_currency": "USD",\
      "province": "Connecticut",\
      "shipping_lines_conserved": [],\
      "shipping_lines_override": [\
        {\
          "code": "Standard Shipping",\
          "price": "0.00",\
          "title": "Standard Shipping"\
        }\
      ],\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "zip": "06614"\
    }\
  ]
}
```

# Merge addresses

Merges up to 10 source addresses into 1 target address.

If one of the `Addresses` being merged has a different presentment currency, the entire merge will fail and throw an error.

Scopes:
write\_customers


##### Body Parameters

- delete\_source\_addresses







boolean














Indicates whether source addresses should be deleted.

- next\_charge\_date







string














Specifies the next charge date of the associated subscriptions on the target address.

- target\_address







object





\\* Required














The address all of the subscriptions should be moved to.










Show object attributes


- source\_addresses







array





\\* Required














The list of addresses that the subscriptions should move from.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/addresses/merge


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/addresses/merge' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"target_address": {"id": 42171447}, "source_addresses": [{"id": 42171446}, {"id": 42171445}]}'
```

Response

200


```hljs json
{
  "address": {
    "id": 42171447,
    "payment_method_id": 17874235,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Skip future charge

Skip a `Charge` in the future for one or multiple `Subscriptions` associated with the `Address`.

If the `Charge` does not exist on the date, it will be created with a `SKIPPED` status.

Scopes:
write\_orders


##### Body Parameters

- date







datetime





\\* Required














The date in the future of the `Charge` to be skipped.







This date must be within the delivery schedules of the `Customer`.

- subscription\_ids







array





\\* Required














A list containing the `Subscription` IDs to be skipped.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 404




















the `Address` with `id` does not exist










Show response object


- 422




















invalid data passed to the endpoint










Show response object



POST

/addresses/{id}/charges/skip


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/addresses/91977136/charges/skip' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"date": "2022-09-15", "purchase_item_ids": [27363808, 27363809]}'
```

Response

200

404

422


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": null,
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "skipped",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Bundle Selections

Pro plan

[SCI](https://developer.getrecharge.com/2021-11#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11#tags_legend)

A bundle selection represents the contents within a Bundle linked to an individual Subscription. It can represent the selection for upcoming orders or past orders. A `BundleSelection` is associated with a corresponding `Subscription` and a `BundleVariant` (the `BundleVariant` is used to validate contents in the selection). When a new order for the associated `Subscription` occurs, it will extract the current contents of the `BundleSelection` for the Bundle item in the order.

Endpoints

GET

/bundle\_selections


GET

/bundle\_selections/{id}


POST

/bundle\_selections


PUT

/bundle\_selections/{id}


DELETE

/bundle\_selections/{id}


Expand

# The bundle selection object

Pro plan

[RCS](https://developer.getrecharge.com/2021-11#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11#tags_legend)

A bundle selection represents the contents within a Bundle linked to an individual Subscription. It can represent the selection for upcoming orders or past orders. A `BundleSelection` is associated with a corresponding `Subscription` and a `BundleVariant` (the `BundleVariant` is used to validate contents in the selection).

##### Attributes

- id







integer














The unique numeric identifier for the `BundleSelection`.

- bundle\_variant\_id







integer














The ID of the `BundleVariant` associated with the `BundleSelection`.

- purchase\_item\_id







integer














The ID of the `PurchaseItem` associated with the `BundleSelection`.

- created\_at







datetime














The date and time when the contents were selected.

- external\_product\_id







string














The product id as it appears in the external e-commerce platform. The `external_product_id` of the `Product` record in Recharge, linking the `BundleSelection` to a `Product` associated with a Bundle.

- external\_variant\_id







string














The variant id as it appears in the external e-commerce platform. The `external_variant_id` of the `Product` record in Recharge, linking the `BundleSelection` to a `Product` associated with a Bundle.

- items







array














A list of `item` objects, each containing information about a distinct product selected as part of the Bundle.










Show object attributes


- updated\_at







datetime














The date and time at which the `BundleSelection` was most recently updated.


##### Error related attributes

##### More Attributes

The bundle selection object

```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# List bundle selections

Pro plan

[RCS](https://developer.getrecharge.com/2021-11#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11#tags_legend)

Returns a list of `BundleSelections`.

## HTTP request examples

`GET /bundle_selections?purchase_item_ids=:purchase_item_id_1,:purchase_item_id_2`

`GET /bundle_selections?bundle_variant_ids=:bundle_variant_id_1,:bundle_variant_id_2`

`GET /bundle_selections?limit=1`

`GET /bundle_selections?limit=1&page=2`

`GET /bundle_selections?sort_by=updated_at-desc`

Returned `BundleSelections` are sorted descending by ID value by default.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
read\_subscriptions


##### Query Parameters

- purchase\_item\_ids







string














Filter `BundleSelections` by `Subscription` or `Onetime` ID.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- bundle\_variant\_ids







string














Filter `BundleSelections` by `BundleVariants`.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- item\_external\_variant\_ids







string














Filter `BundleSelections` by contents. If the Variant ID exists as a content of the `BundleSelection` it will appear as a result.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- item\_external\_product\_ids







string














Filter `BundleSelections` by contents. If the Product ID exists as a content of the `BundleSelection` it will appear as a result.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- limit







string













Default: 50





Max: 250










The amount of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- sort\_by







string














Sort listed `BundleSelections` in a specific order.

Available sort options: `id-asc`, `id-desc`, `updated_at-asc`, `updated_at-desc`.

- active\_purchase\_items







boolean














Bundle selections are not directly linked to Subscriptions. By default, the endpoint returns Bundle Selections, even those associated with cancelled subscriptions, unless the Bundle Selection has been deleted.

_To exclude cancelled subscriptions from your results, include `active_purchase_items=true` in your query._


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/bundle\_selections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/bundle_selections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "bundle_selections": [\
    {\
      "id": 100714428,\
      "bundle_variant": 382417,\
      "purchase_item_id": 199820883,\
      "created_at": "2022-08-26T18:31:28+00:00",\
      "external_product_id": "7121697210548",\
      "external_variant_id": "41450875650228",\
      "items": [\
        {\
          "id": 541,\
          "collection_id": "287569608884",\
          "collection_source": "shopify",\
          "created_at": "2022-08-26T18:31:28+00:00",\
          "external_product_id": "7121693671604",\
          "external_variant_id": "41450853105844",\
          "quantity": 3,\
          "updated_at": "2022-08-26T18:52:41+00:00"\
        }\
      ],\
      "updated_at": "2022-08-26T18:31:28+00:00"\
    }\
  ]
}
```

# Retrieve a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11#tags_legend)

Retrieve a `BundleSelection` using the `bundle_selection_id`.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object


- 404




















the `BundleSelection` with `bundle_selection_id` does not exist










Show response object



GET

/bundle\_selections/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/bundle_selections/100714428' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200

404


```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# Create a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11#tags_legend)

Create a `BundleSelection`.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_subscriptions


##### Body Parameters

- purchase\_item\_id







integer





\\* Required














The ID of the `PurchaseItem` associated with the `BundleSelection`.

- plan\_id







integer














A Recharge Plan ID. If provided in a dynamically-priced Bundle, the unit price of each product variant will be inferred from the plan associated with the ID; otherwise, it will be inferred from the plan with the greatest discount for each product in the selection. This is not used in fixed-priced Bundles.

- items







array





\\* Required














A list of `item` objects, each containing information about a distinct product selected as part of the Bundle.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 422




















missing required field or invalid items passed










Show response object



POST

/bundle\_selections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/bundle_selections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "purchase_item_id": 199820883,
  "items": [\
    {\
      "collection_id": "287569608884",\
      "collection_source": "shopify",\
      "external_product_id": "7121693671604",\
      "external_variant_id": "41450853105844",\
      "quantity": 3\
    }\
  ]
}'
```

Response

200

422


```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# Update a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11#tags_legend)

Modify an existing `BundleSelection` to match the specified parameters.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_subscriptions


##### Body Parameters

- purchase\_item\_id







integer














The ID of the `PurchaseItem` associated with the `BundleSelection`.

- plan\_id







integer














A Recharge Plan ID. If provided in a dynamically-priced Bundle, the unit price of each product variant will be inferred from the plan associated with the ID; otherwise, it will be inferred from the plan with the greatest discount for each product in the selection. This is not used in fixed-priced Bundles.

- items







array














A list of `item` objects, each containing information about a distinct product selected as part of the Bundle.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 404




















the `BundleSelection` with `bundle_selection_id` does not exist










Show response object


- 422




















invalid items passed










Show response object



PUT

/bundle\_selections/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/bundle_selections/100714428' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "purchase_item_id": 199820883,
  "items": [\
    {\
      "collection_id": "287569608884",\
      "collection_source": "shopify",\
      "external_product_id": "7121693671604",\
      "external_variant_id": "41450853105844",\
      "quantity": 3\
    }\
  ]
}'
```

Response

200

404

422


```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# Delete a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11#tags_legend)

Delete a `BundleSelection`

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_subscriptions


##### Responses

- 204




















the `BundleSelection` has been removed and there is no content to send back in the response body.










Show response object


- 404




















the `BundleSelection` with `id` does not exist










Show response object



DELETE

/bundle\_selections/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/bundle_selections/100714428' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204

404


```hljs json
{}
```

# Charges

A charge is the representation of a financial transaction linked to the purchase of an item (past or future). It can be a transaction that was processed already or the representation of an upcoming transaction. A `Charge` is linked to its corresponding `Orders` (one `Order` for pay as you go subscriptions and several for pre-paid). `Orders` are created once the corresponding `Charge` is successful. After successful payment, the first `Order` will be immediately submitted to the external platform if applicable (e.g. Shopify, BigCommerce). ![](https://developer.getrecharge.com/images/charge.png)

Endpoints

GET

/charges/{id}


GET

/charges


POST

/charges/{id}/apply\_discount


POST

/charges/{id}/remove\_discount


POST

/charges/{id}/skip


POST

/charges/{id}/unskip


POST

/charges/{id}/refund


POST

/charges/{id}/process


POST

/charges/{id}/capture\_payment


Expand

# The charge object

A `Charge` is the representation of the financial transaction linked to a purchase (past or future). It can be a transaction that was processed already or the representation of an upcoming transaction. A charge is linked to its corresponding `Orders` (one for pay as you go subscriptions and several for pre-paid).

A `Charge` can have many parent subscriptions. All subscriptions on a given `Address` with the same `next_charge_date` date will be merged into one `Charge` and that charge will contain one `line_item` per `Subscription`.

##### Attributes

- id







integer














The unique numeric identifier for the `Charge`.

- address\_id







integer














The ID of the shipping `Address` tied to the `Charge`.

- analytics\_data







object














An object containing analytics data associated with the `Charge`.










Show object attributes


- billing\_address







object














All the billing information related to the charge.










Show object attributes


- client\_details







object














Details of the access method used by the purchaser.










Show object attributes


- created\_at







datetime














The date and time when the transaction was created.

- currency







string














The code of the currency for this `Charge`, such as `USD`.







Related guides: [Supported currencies](https://support.rechargepayments.com/hc/en-us/articles/360037897534-Supported-currencies)

- customer







object














An object containing `Customer` information associated with this `Charge`.










Show object attributes


- discounts







array














An array of `Discounts` associated with the `Charge`.










Show object attributes


- external\_order\_id







object














An object containing the associated external order ID.










Show object attributes


- external\_transaction\_id







object














An object containing the associated external transaction ID.










Show object attributes


- line\_items







array














A list of `line_item` objects, each containing information about a distinct purchase item.










Show object attributes


- note







string














Notes associated with the `Charge`.

- order\_attributes







array














An array of name-value pairs of order attributes on the `Charge`.










Show object attributes


- orders\_count







integer














The number of `Orders` generated from this `Charge` (>1 for prepaid `Subscriptions`).

- payment\_processor







string














The payment processor used for this `Charge`.

- processed\_at







datetime














The date and time when the transaction was processed.

- scheduled\_at







date














The date time of when the `Charge` is/was scheduled to process.

- shipping\_address







object














The shipping `Address` of the `Charge`.










Show object attributes


- shipping\_lines







array














An array of shipping lines associated with the `Charge`.










Show object attributes


- status







string













Possible values:

success,

error,

queued,

skipped,

refunded,

partially\_refunded,

pending\_manual\_payment,

pending










The status of the `Charge`.

- subtotal\_price







string














The combined price of all `line_items` without taxes and shipping.

- tags







string














A comma-separated list of tags on the `Charge`.

- tax\_lines







array














An array of tax lines that apply to the `Charge`.










Show object attributes


- taxable







boolean














A boolean indicator of the taxability of the `Charge`.

- taxes\_included







boolean














Whether taxes are included in the order subtotal.

- total\_discounts







string














The sum of the `Discounts` applied to the `Charge`.

- total\_line\_items\_price







string














The total price of all line items of the `Charge`.

- total\_price







string














The sum of all the prices of all the items in the `Charge`, taxes and discounts included (must be positive).

- total\_refunds







string














The sum of all refunds that were applied to the `Charge`.

- total\_tax







string














The total tax due associated with the `Charge`.

- total\_weight\_grams







integer














The total weight of the `Charge`’s line items in grams.

- type







string













Possible values:

checkout,

recurring










An indicator of the `Charge`’s type, either checkout or recurring.

- updated\_at







datetime














The date time at which the `Charge` was most recently updated.


##### Error related attributes

- error







string














Error reason as sentence text (typically returned direct from the payment processor). e.g. `"error": "Customer needs to update credit card"`

- error\_type







string














Structured reason why the charge failed such as `CUSTOMER_NEEDS_TO_UPDATE_CARD`.

- charge\_attempts







integer














Shows how many times an attempt to charge was placed.

- external\_variant\_id\_not\_found







boolean














Indicates if Recharge was able to find the `external_variant_id` from the `Charge`.

- retry\_date







date














The date when the next attempt will be placed.


##### More Attributes

- has\_uncommited\_changes







boolean














Specifies whether the `Charge` is scheduled for a regeneration (if the `Subscription` related to the charge was updated in the last 5 seconds using `commit=false`).


The charge object

```hljs json
{
  "charge": {
    "id": 100714428,
    "address_id": 21317826,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "differentiate-content",\
          "utm_data_source": "cookie",\
          "utm_medium": "email",\
          "utm_source": "newsletter",\
          "utm_term": "test-term",\
          "utm_time_stamp": "2019-12-16T23:57:28.752Z"\
        }\
      ]
    },
    "billing_address": {
      "address1": "3030 Nebraska Avenue",
      "address2": null,
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Mike",
      "last_name": "Flynn",
      "phone": "3103843698",
      "province": "California",
      "zip": "90404"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2018-11-14T09:45:44+00:00",
    "currency": "USD",
    "customer": {
      "id": 12345,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "10DOLLAROFF",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_XXXXXXXXXXXXXXX"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "99999999999"\
        },\
        "grams": 4536,\
        "images": {\
          "large": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee_large.png",\
          "medium": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee__medium.png",\
          "original": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee_.png",\
          "small": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee__small.png"\
        },\
        "original_price": "12.00",\
        "properties": [\
          {\
            "name": "grind",\
            "value": "drip"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "MILK-1",\
        "tax_due": "1.14",\
        "tax_lines": [\
          {\
            "price": "0.870",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.270",\
            "rate": 0.0225,\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "12.00",\
        "title": "Sumatra Coffee",\
        "total_price": "13.14",\
        "unit_price": "12.00",\
        "variant_title": "Milk - a / b"\
      }\
    ],
    "note": "next order #1",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "processor_name": "stripe",
    "scheduled_at": "2018-12-12",
    "shipping_address": {
      "address1": "3030 Nebraska Avenue",
      "address2": "",
      "city": "Los Angeles",
      "company": "Recharge",
      "country": "United States",
      "first_name": "Mike",
      "last_name": "Flynn",
      "phone": "3103843698",
      "province": "California",
      "zip": "90404"
    },
    "shipping_lines": [\
      {\
        "code": "Standard Shipping",\
        "price": "0.00",\
        "title": "Standard Shipping"\
      }\
    ],
    "status": "queued",
    "subtotal_price": "12.00",
    "tags": "Subscription",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles County Tax"\
      }\
    ],
    "taxes_included": true,
    "total_discounts": "0.00",
    "total_line_items_price": "12.00",
    "total_price": "13.14",
    "total_refunds": null,
    "total_tax": "1.14",
    "total_weight_grams": 4536,
    "type": "recurring",
    "updated_at": "2018-11-14T09:45:44+00:00"
  }
}
```

# Retrieve a charge

Retrieve a `Charge` using the `charge_id`.

Starting March 19th, 2025, processed charges (those where status equals success, refunded, or partially-refunded) that have a value for processed\_at greater than 90 days in the past will no longer appear in responses. As a result, you may receive an error.

Charge data processed over 90 days ago will remain available through the [Exports tool](https://support.getrecharge.com/hc/en-us/articles/360049725373-Available-exports-in-the-Export-Builder#h_9ade00c9-7cdb-474d-9d91-1e976689eca9) in the Recharge merchant portal and within the [Merchant portal UI](https://support.getrecharge.com/hc/en-us/articles/360008829113-Viewing-order-information-in-the-merchant-portal).

Example of unaffected API calls:

\[RETRIEVE A CHARGE\] `/charges/{id}` (if it’s a charge that does not have a processed\_at date or the processed\_at date is within the last 90 days)

Example of API calls that will result in an error:

\[RETRIEVE A CHARGE\] `/charges/{id}` (if it’s a charge with a processed\_at date older than 90 days)

Scopes:
read\_orders


##### Responses

- 200




















successful response










Show response object



GET

/charges/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": "2021-01-01",
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "taxes_included": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# List charges

Returns a list of `Charges`.

## HTTP request examples

`GET /charges?address_id=:address_id`

`GET /charges?created_at_min=2016-05-18&created_at_max=2016-06-18`

`GET /charges?customer_id=:customer_id`

`GET /charges?discount_code=10PERCENTOFF`

`GET /charges?discount_id=:discount_id`

`GET /charges?external_order_id=:external_order_id`

`GET /charges?ids=1123551,262667345,12341535`

`GET /charges?purchase_item_id=:purchase_item_id`

`GET /charges?scheduled_at=2016-06-18`

`GET /charges?scheduled_at_min=2016-05-18&scheduled_at_max=2016-06-18`

`GET /charges?sort_by=id-desc`

`GET /charges?status=queued`

`GET /charges?status=queued,refunded,partially_refunded`

`GET /charges?updated_at_min=2016-05-18&updated_at_max=2016-06-18`

`GET /charges?processed_at_min=2022-01-18&processed_at_max=2022-02-18`

Starting March 19th, 2025, processed charges (those where status equals success, refunded, or partially- refunded) that have a value for processed\_at greater than 90 days in the past will no longer appear in responses. As a result, you may receive a partial data set or an empty list.

Charge data processed over 90 days ago will remain available through the [Exports tool](https://support.getrecharge.com/hc/en-us/articles/360049725373-Available-exports-in-the-Export-Builder#h_9ade00c9-7cdb-474d-9d91-1e976689eca9) in the Recharge merchant portal and within the [Merchant portal UI](https://support.getrecharge.com/hc/en-us/articles/360008829113-Viewing-order-information-in-the-merchant-portal).

Examples of unaffected API calls:

\[LIST CHARGES\] `/charges?status=queued`

\[LIST CHARGES\] `/charges?status=error`

Examples of API calls that may return partial results:

\[LIST CHARGES\] `/charges?processed_at_min=2024-01-01` (this would only return results that have a processed\_at date in the last 90 days)

\[LIST CHARGES\] `/charges?status=success,queued` (this would return all queued charges but only return success charges that have a processed\_at date in the last 90 days)

Example of API calls that will result in an empty list:

\[LIST CHARGES\] `/charges?processed_at_max=2024-01-01` (any date over 90 days old)

Reminder: returned charges are sorted ascending by id value by default.

Scopes:
read\_orders


##### Query Parameters

- address\_id







string














Filter `Charges` by `Address`.

- created\_at\_max







string














Show `Charges` created before the given date.

- created\_at\_min







string














Show `Charges` created after the given date.

- customer\_id







string














Filter `Charges` by `Customer`.

- discount\_code







string














List `Charges` that contain the given `discount_code`.

- discount\_id







string














List `Charges` that contain the given `discount_id`.

- external\_order\_id







string














Filter `Charges` by the associated order ID in the external e-commerce platform.

- ids







string














Filter `Charges` by ID.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- limit







string













Default: 50





Max: 250










The amount of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- purchase\_item\_id







string














Filter `Charges` by a `Subscription` or `Onetime` ID.

- purchase\_item\_ids







string














Filter `Charges` by a comma-separated list of `Subscription` or `Onetime` IDs.

- scheduled\_at







string














Filter `Charges` by specific scheduled charge date.

- scheduled\_at\_max







string














Show `Charges` scheduled to be processed before the given date.

- scheduled\_at\_min







string














Show `Charges` scheduled to be processed after the given date.

- sort\_by







string














Sort listed `Charges` in a specific order.

Available sort options: `id-asc`, `id-desc`, `updated_at-asc`, `updated_at-desc`, `scheduled_at-asc`, `scheduled_at-desc`.

- status







string














Filter charges by status.

Available status: `success`, `queued`, `error`, `refunded`, `partially_refunded`, `skipped`, `pending_manual_payment`, `pending`.

- updated\_at\_max







string














Show charges updated before the given date.

- updated\_at\_min







string














Show charges updated after the given date.

- processed\_at\_min







string














Show charges processed after, and including, the given date.

- processed\_at\_max







string














Show charges processed before, and including, the given date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/charges


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next": "next_cursor",
  "previous": "previous_cursor",
  "charges": [\
    {\
      "id": 377749210,\
      "address_id": 42171447,\
      "analytics_data": {\
        "utm_params": [\
          {\
            "utm_source": "facebook",\
            "utm_medium": "cpc"\
          }\
        ]\
      },\
      "billing_address": {\
        "address1": "601 SW Washing St.",\
        "address2": "Suite 101",\
        "city": "Portland",\
        "company": "Acme Corp",\
        "country_code": "US",\
        "first_name": "Jane",\
        "last_name": "Doe",\
        "phone": "888-888-8888",\
        "province": "Oregon",\
        "zip": "97205"\
      },\
      "client_details": {\
        "browser_ip": "192.168.0.1",\
        "user_agent": "safari webkit"\
      },\
      "created_at": "2021-11-09T19:22:13+00:00",\
      "currency": "USD",\
      "customer": {\
        "id": 37657002,\
        "email": "test@test.com",\
        "external_customer_id": {\
          "ecommerce": "2879413682227"\
        },\
        "hash": "7e706455cbd13e40"\
      },\
      "discounts": [\
        {\
          "id": 12345,\
          "code": "TESTCODE10",\
          "value": 10,\
          "value_type": "fixed_amount"\
        }\
      ],\
      "error": null,\
      "error_type": null,\
      "external_order_id": {\
        "ecommerce": "2541635698739"\
      },\
      "external_transaction_id": {\
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"\
      },\
      "has_uncommitted_changes": false,\
      "line_items": [\
        {\
          "purchase_item_id": 63898947,\
          "external_product_id": {\
            "ecommerce": "4381728735283"\
          },\
          "external_variant_id": {\
            "ecommerce": "999999999999"\
          },\
          "grams": 454,\
          "handle": "shirt-package",\
          "images": {\
            "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
            "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
            "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
            "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
          },\
          "original_price": "10.00",\
          "properties": [\
            {\
              "name": "Color",\
              "value": "Blue"\
            }\
          ],\
          "purchase_item_type": "subscription",\
          "quantity": 1,\
          "sku": "TOM0001",\
          "tax_due": "1.30",\
          "tax_lines": [\
            {\
              "price": "0.9931",\
              "rate": "0.0725",\
              "title": "CA State Tax",\
              "unit_price": "0.3310"\
            },\
            {\
              "price": "0.3082",\
              "rate": "0.0225",\
              "title": "LA County Tax",\
              "unit_price": "0.1027"\
            }\
          ],\
          "taxable": true,\
          "taxable_amount": "10.00",\
          "title": "Shirt package",\
          "total_price": "11.30",\
          "unit_price": "10.00",\
          "unit_price_includes_tax": false,\
          "variant_title": "Blue T-shirt"\
        }\
      ],\
      "note": "next order in sequence 3",\
      "order_attributes": [\
        {\
          "name": "Checkout-Method",\
          "value": "delivery"\
        }\
      ],\
      "orders_count": 1,\
      "payment_processor": "stripe",\
      "processed_at": "2021-11-09T23:59:31+00:00",\
      "retry_date": "2021-01-01",\
      "scheduled_at": "2021-12-09",\
      "shipping_address": {\
        "address1": "1030 Barnum Ave",\
        "address2": "Suite 101",\
        "city": "Stratford",\
        "company": "Fake Company",\
        "country_code": "US",\
        "first_name": "Fake First",\
        "last_name": "Fake Last",\
        "phone": "999-999-9999",\
        "province": "Connecticut",\
        "zip": "06614"\
      },\
      "shipping_lines": [\
        {\
          "code": "Standard",\
          "price": "4.90",\
          "source": "shopify",\
          "taxable": true,\
          "tax_lines": [\
            {\
              "price": "0.355",\
              "rate": 0.0725,\
              "title": "CA State Tax"\
            },\
            {\
              "price": "0.110",\
              "rate": 0.0225,\
              "title": "Los Angeles  County Tax"\
            }\
          ],\
          "title": "Standard"\
        }\
      ],\
      "status": "success",\
      "subtotal_price": "10.00",\
      "tags": "Subscription, Subscription Recurring Order",\
      "tax_lines": [\
        {\
          "price": "0.950",\
          "rate": 0.0725,\
          "title": "CA State Tax"\
        },\
        {\
          "price": "0.335",\
          "rate": 0.0225,\
          "title": "Los Angeles  County Tax"\
        }\
      ],\
      "taxable": true,\
      "taxes_included": true,\
      "total_discounts": "10.0",\
      "total_line_items_price": "10.00",\
      "total_price": "11.29",\
      "total_refunds": "0.00",\
      "total_tax": "1.29",\
      "total_weight_grams": 454,\
      "type": "recurring",\
      "updated_at": "2021-11-09T23:59:32+00:00"\
    }\
  ]
}
```

# Apply a discount

Endpoint for adding `Discount` to an existing queued `Charge`.

You cannot add a `Discount` to an existing queued `Charge` if the `Charge` or the associated `Address` already has one.

You can provide either `discount_id` or `discount_code`. If both parameters are passed, the value for `discount_id` will take precedence.

If a `Charge` has a `Discount` and it gets updated, or a regeneration occurs, the `Discount` will be lost. Regeneration is a process that refreshes the `Charge` JSON with new data in the case of the `Subscription` or `Address` being updated.

Scopes:
write\_orders


##### Body Parameters

- discount\_code







string














Code of the `Discount` you want to apply to a `Charge`.

- discount\_id







integer














ID of the `Discount` you want to apply to a `Charge`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/apply\_discount


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/105805051/apply_discount' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"discount_code": "test"}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": "2021-01-01",
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Remove a discount

Remove a `Discount` from a `Charge` without destroying the `Discount`.

## HTTP request examples

`POST /charges/<charge_id>/remove_discount/`

In most cases the `Discount` should be removed from the `Address`. When the `Discount` is removed from the `Address`, the `Discount` is also removed from any future `Charges`.

If the `Discount` is on the parent `Address`, you cannot remove it using `charge_id`. When removing your `Discount`, it is preferable to pass the `address_id` so that the `Discount` stays removed if the `Charge` is regenerated. Only pass `charge_id` in edge cases in which there are two or more `Charges` on a parent `Address` and you only want to remove the `Discount` from one `Charge`. If you pass both parameters, it will remove the `Discount` from the `Address`.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/remove\_discount


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/459904607/remove_discount' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": "2021-01-01",
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Skip a charge

Skip a `Charge`.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/skip


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210/skip' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"purchase_item_ids": [27363808, 27363809]}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": null,
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "skipped",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Unskip a charge

Unskip a `Charge`.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object


- 422




















Unprocessable










Show response object



POST

/charges/{id}/unskip


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210/unskip' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"purchase_item_ids": [27363808]}'
```

Response

200

422


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": null,
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "queued",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Refund a charge

[BigCommerce](https://developer.getrecharge.com/2021-11#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11#tags_legend)

Refund a `Charge`.

After the `POST` request, that particular `Charge` will have `status` parameter updated to `refunded` or `partially_refunded` depending on the value of the `amount` parameter. If `retry` is `true`, `error` and `error_type` are required, the `Charge` will have `status` parameter updated to `error`. This means a new transaction would occur if the charge dunning process succeeds again. This functionality is used when the order submission attempt on the remote platform failed after the transaction succeeded.

Scopes:
write\_orders

write\_payment\_methods


##### Body Parameters

- amount







string





\\* Required














Amount of money that will be refunded. It can be fully or partially refunded.

- full\_refund







boolean














If this parameter has value `true`, the `Charge` will be totally refunded.

- retry







boolean














If this parameter has value `true` and `full_refund` has value `true`, the `Charge` will be retried. The `status` on the `Charge` will be returned as “error”.

- error







string














If the `retry` parameter has value `true`, this value is required. Valid values are “insufficient\_inventory”.

- error\_type







string














If the `retry` parameter has value `true`, this value is required.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/refund


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210/refund' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"amount": 11.00}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "refunded",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "11.29",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Process a charge

Pro only

The charge processing route can be used to process `Charges` that are in a `queued` or `error` status.

Related guides:
[Charges FAQ](https://docs.rechargepayments.com/docs/charges#charges-faq)

The `/charges/{id}/process` endpoint is available to Recharge Pro merchants on a request basis. If you’re interested in leveraging the Recharge `Charge` processing API, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_payments


##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/process


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/100714428/process' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Capture a charge

If you are leveraging the authorize/capture workflow with Recharge, the `charge/{id}/capture_payment` endpoint is how to capture the funds of a previously authorized `Charge`.

## Capture Window

You can only capture payment on `Charges` that have been authorized within the last 7 days. This is a limitation of payment providers/financial institutions and Recharge cannot configure or override this limit. Any `Charges` that are attempted to be captured beyond that 7 day window may result in an error indicating the `Charge` cannot be captured.

As a result, Recharge provides a `charge/uncaptured` `Webhook`. If subscribed, this `Webhook` will notify you of any `Charges` that are not captured 6 days after authorization. Please refer to the [webhooks section](https://developer.getrecharge.com/2021-01/webhooks_endpoints) for more information.

The `/charges/{id}/capture_payment` endpoint is available to Recharge Pro merchants in the Recharge Closed Beta group. If you’re interested in leveraging the Recharge `capture_payment` endpoint, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_customers

write\_orders

write\_payment\_methods

write\_subscriptions


##### Responses

- 200




















Charge captured successfully










Show response object


- 400




















Bad Request










Show response object


- 404




















Not Found










Show response object


- 422




















Unprocessable










Show response object



POST

/charges/{id}/capture\_payment


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/100714428/capture_payment' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200

400

404

422


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Checkouts

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11#tags_legend)

`Checkouts` allow you to create, update, and process a `Checkout` programmatically. Shipping cost and sales tax determination are automatic functions of the Recharge Checkout resource.

Related guides: [Recharge checkout integrations](https://docs.rechargepayments.com/docs/checkout), [How to use the Checkout resource](https://docs.rechargepayments.com/docs/checkouts#how-to-use-checkout-api)

**Important -** The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Endpoints

POST

/checkouts


GET

/checkouts/{token}


POST

/checkouts


PUT

/checkouts/{token}


GET

/checkouts/{token}/shipping\_rates


POST

/checkouts/{token}/charge


Expand

# The checkout object

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11#tags_legend)

`Checkouts` resource allows you to create, update, and process a checkout programmatically. Shipping cost and sales tax determination are automatic functions of the Recharge Checkout resource.

The `Checkout` endpoints are only available for BigCommerce and Custom. `Checkouts` on Shopify must go through Shopify.

##### Attributes

- charge\_id







integer














ID for the `Charge` resulting from processing the `Checkout`.

- analytics\_data







object














Urchin Tracking Module (UTM) parameters are used for online marketing campaigns.










Show object attributes


- applied\_discounts







array














`Discount` details, populated once the `Discount` has been applied successfully to the `Checkout`.










Show object attributes


- applied\_shipping\_rate







object














Shipping rates details, populated once the rates have been selected and applied successfully to the `Checkout`.










Show object attributes


- available\_shipping\_rates







array














Shipping rates available for the shipping address provided in the `Checkout`.







`Checkout` object must contain the `shipping_address` before the `available_shipping_rates` are populated.










Show object attributes


- billing\_address







object














Billing `Address` for the `Checkout`.










Show object attributes


- completed\_at







datetime














Timestamp for when the `Checkout` was processed.

- created\_at







datetime














Timestamp for when the `Checkout` was created.

- currency







string














Currency of the `Checkout`.

- email







string














Email address for the `Customer`.

- external\_checkout\_id







string














External checkout reference, if one exists.

- external\_checkout\_source







string














External checkout platform, if one exists.

- external\_customer\_id







object














External customer reference, if one exists.










Show object attributes


- external\_transaction\_id







object














The ID of the associated transaction in a payment processor system (like Stripe).










Show object attributes


- line\_items







array














A list of items included in the `Checkout`







`quantity` and `external_variant_id` are required parameters in `line_items`.










Show object attributes


- note







string














Custom note.

- notification\_preferences







object














Notification preferences for the `Customer`.










Show object attributes


- order\_attributes







array














List of name-value pairs for custom attributes.










Show object attributes


- payment\_processor







string














Name of the payment processor.

- requires\_shipping







boolean














Whether or not the `Checkout` contains items that require shipping.

- shipping\_address







object














Shipping `Address` for the `Checkout`.










Show object attributes


- shipping\_lines







object














Details of shipping rate, cost…










Show object attributes


- subtotal\_price







string














Value of the `Checkout` minus shipping and tax.

- tax\_lines







array














Array of `tax_line` objects.










Show object attributes


- taxable







boolean














Whether the `Checkout` contains items that are taxable.

- taxes\_included







boolean














Whether the tax is included in the price of the items.

- token







string














Unique token for the `Checkout`.

- total\_price







string














Full price of the `Checkout` including shipping and tax.

- total\_tax







string














Tax charged on the `Checkout`.

- updated\_at







datetime














Timestamp for the latest `Checkout` update.


##### Error related attributes

##### More Attributes

The checkout object

```hljs json
{
  "checkout": {
    "charge_id": null,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discounts": [\
      {\
        "amount": "5.00",\
        "applicable": true,\
        "discount_code": "5_DOLLARS_OFF",\
        "non_redeemable_reason": null,\
        "value": "5.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "applied_shipping_rate": {
      "checkout": {
        "subtotal_price": null,
        "total_price": null,
        "total_tax": null
      },
      "code": "Flat rate (3 - 7 Business Days)",
      "delivery_range": null,
      "description": null,
      "handle": "recharge-Flat%20rate%20%283%20-%207%20Business%20Days%29-7.49",
      "name": "Flat rate (3 - 7 Business Days)",
      "phone_required": null,
      "price": "7.49",
      "tax_lines": [],
      "title": "Flat rate (3 - 7 Business Days)"
    },
    "available_shipping_rates": [\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "Flat rate (3 - 7 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-Flat%20rate%20%283%20-%207%20Business%20Days%29-7.49",\
        "name": "Flat rate (3 - 7 Business Days)",\
        "phone_required": null,\
        "price": "7.49",\
        "tax_lines": [],\
        "title": "Flat rate (3 - 7 Business Days)"\
      },\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "3 Days (3 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-3%20Days%20%283%20Business%20Days%29-11.75",\
        "name": "3 Days (3 Business Days)",\
        "phone_required": null,\
        "price": "11.75",\
        "tax_lines": [],\
        "title": "3 Days (3 Business Days)"\
      }\
    ],
    "billing_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "completed_at": null,
    "created_at": "2021-11-16T00:51:28+00:00",
    "currency": "USD",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "<external_cart_id>",
    "external_checkout_source": "custom",
    "external_customer_id": {
      "ecommerce": null,
      "payment_processor": null
    },
    "external_transaction_id": {
      "payment_processor": null
    },
    "line_items": [\
      {\
        "id": 0,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "12345"\
        },\
        "external_variant_id": {\
          "ecommerce": "123456"\
        },\
        "handle": "shirt-with-design",\
        "images": {\
          "small": "https://veryniceimage.jpg"\
        },\
        "properties": [\
          {\
            "name": "size",\
            "value": "xl"\
          }\
        ],\
        "purchase_item_type": "onetime",\
        "quantity": 3,\
        "recurring_unit_price": "12.00",\
        "requires_shipping": true,\
        "sku": null,\
        "subscription_preferences": {\
          "charge_delay": null,\
          "charge_interval_frequency": null,\
          "charge_on_day_of_month": null,\
          "charge_on_day_of_week": null,\
          "number_charges_until_expiration": null,\
          "shipping_interval_frequency": null,\
          "shipping_interval_unit_type": null\
        },\
        "tax_lines": [],\
        "taxable": false,\
        "title": "A Nice Shirt",\
        "total_price": "36.00",\
        "unit_price": "12.00",\
        "variant_title": null,\
        "weight": 340,\
        "weight_unit": "g"\
      }\
    ],
    "note": "flash sale",
    "notification_preferences": {
      "email": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      },
      "sms": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      }
    },
    "order_attributes": {
      "customer_niceness": "very"
    },
    "payment_processor": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "shipping_lines": [\
      {\
        "code": "Flat rate (3 - 7 Business Days)",\
        "price": "7.49",\
        "tax_lines": [],\
        "taxable": false,\
        "title": "Flat rate (3 - 7 Business Days)"\
      }\
    ],
    "subtotal_price": "31.00",
    "tax_lines": [],
    "taxable": false,
    "taxes_included": false,
    "token": "efd5a6b12b984f439ec16ce2a00fb5c3",
    "total_price": "31.00",
    "total_tax": "0.00",
    "updated_at": "2021-11-16T00:51:28+00:00"
  }
}
```

# Create a checkout

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11#tags_legend)

Create a `Checkout`

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Scopes:
write\_checkouts


##### Query Parameters

- get\_shipping\_rates







boolean














If specified as a query parameter, shipping rates will be retrieved and will allow providing applied\_shipping\_rate upon checkout creation.


##### More Parameters

##### Body Parameters

- analytics\_data







object














Urchin Tracking Module (UTM) parameters are used for online marketing campaigns.










Show object attributes


- applied\_discounts







array














`Discount` to apply to the `Checkout`.










Show object attributes


- applied\_shipping\_rate







object














Shipping rates details, populated once the rates have been selected and applied successfully to the `Checkout`.







Important: You can only create a checkout with `applied_shipping_rate` if you pass the query parameter `get_shipping_rates=true` or if you supply a list of shipping rates using `custom_shipping_rate_options`.










Show object attributes


- custom\_shipping\_rate\_options







array














List of available shipping rates to use when selecting a shipping rate with `applied_shipping_rate`. Custom shipping rates will take precedence over any default rates fetched using `get_shipping_rates=true`.










Show object attributes


- billing\_address







object














Billing `Address` for the `Checkout`.










Show object attributes


- currency







string














Currency of the `Checkout`.

- email







string














Email address for the `Customer`.

- external\_checkout\_id







string














External checkout reference, if one exists.

- external\_checkout\_source







string














External checkout platform, if one exists.

- external\_transaction\_id







object














The ID of the associated transaction in a payment processor system (like Stripe).










Show object attributes


- line\_items







array





\\* Required














A list of items included in the `Checkout`







`quantity` and `external_variant_id` are required parameters in `line_items`.










Show object attributes


- note







string














Custom note.

- order\_attributes







array














List of name-value pairs for custom attributes.










Show object attributes


- shipping\_address







object














Shipping `Address` for the `Checkout`.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/checkouts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "analytics_data": {
    "utm_params": [\
      {\
        "utm_campaign": "spring_sale",\
        "utm_content": "textlink",\
        "utm_data_source": "shopify_cookie",\
        "utm_medium": "cpc",\
        "utm_source": "google",\
        "utm_term": "mleko",\
        "utm_timestamp": "2020-03-05T00:00:00"\
      }\
    ]
  },
  "applied_discounts": [\
    {\
      "discount_code": "5_DOLLARS_OFF"\
    }\
  ],
  "billing_address": {
    "address1": "6419 Ocean Front Walk",
    "address2": "Apt 2",
    "city": "Los Angeles",
    "company": "",
    "country_code": "US",
    "first_name": "Novak",
    "last_name": "Djokovic",
    "phone": "1-800-800-8000",
    "province": "California",
    "zip": "90293"
  },
  "email": "somerandomemail@test.com",
  "external_checkout_id": "<external_cart_id>",
  "external_checkout_source": "custom",
  "line_items": [\
    {\
      "external_product_id": {\
        "ecommerce": "12345"\
      },\
      "external_variant_id": {\
        "ecommerce": "123456"\
      },\
      "handle": "shirt-with-design",\
      "images": {\
        "small": "http://small.jpg"\
      },\
      "properties": [\
        {\
          "name": "size",\
          "value": "xl"\
        },\
        {\
          "name": "color",\
          "value": "fuchsia"\
        }\
      ],\
      "quantity": 3,\
      "subscription_preferences": {\
        "charge_interval_frequency": null,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": null,\
        "interval_unit": null,\
        "order_day_of_month": null,\
        "order_day_of_week": null,\
        "order_interval_frequency": null\
      },\
      "tax_lines": [\
        {\
          "price": "0.950",\
          "rate": 0.0725,\
          "title": "CA State Tax"\
        }\
      ]\
    }\
  ],
  "note": "flash sale",
  "order_attributes": {
    "customer_niceness": "very"
  },
  "shipping_address": {
    "address1": "6419 Ocean Front Walk",
    "address2": "Apt 2",
    "city": "Los Angeles",
    "company": "",
    "country_code": "US",
    "first_name": "Novak",
    "last_name": "Djokovic",
    "phone": "1-800-800-8000",
    "province": "California",
    "zip": "90293"
  }
}'
```

Response

200


```hljs json
{
  "checkout": {
    "charge_id": null,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "shopify_cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discounts": [\
      {\
        "amount": "5.00",\
        "applicable": true,\
        "discount_code": "5_DOLLARS_OFF",\
        "non_redeemable_reason": null,\
        "value": "5.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "billing_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "completed_at": null,
    "created_at": "2021-11-16T00:51:28+00:00",
    "currency": "USD",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "f71848585658686-36f6-d9efg8125rogkfdaa",
    "external_checkout_source": "custom",
    "external_customer_id": {
      "ecommerce": null,
      "payment_processor": null
    },
    "external_transaction_id": {
      "payment_processor": null
    },
    "line_items": [\
      {\
        "id": null,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "12345"\
        },\
        "external_variant_id": {\
          "ecommerce": "123456"\
        },\
        "handle": "shirt-with-design",\
        "images": {\
          "small": "http://small.jpg"\
        },\
        "properties": [\
          {\
            "name": "size",\
            "value": "xl"\
          },\
          {\
            "name": "color",\
            "value": "fuchsia"\
          }\
        ],\
        "purchase_item_type": "onetime",\
        "quantity": 3,\
        "requires_shipping": true,\
        "sku": null,\
        "subscription_preferences": {\
          "charge_interval_frequency": null,\
          "cutoff_day_of_month": null,\
          "cutoff_day_of_week": null,\
          "expire_after_specific_number_of_charges": null,\
          "interval_unit": null,\
          "order_day_of_month": null,\
          "order_day_of_week": null,\
          "order_interval_frequency": null\
        },\
        "tax_lines": [],\
        "taxable": false,\
        "title": "A Very Nice Shirt",\
        "total_price": "36.00",\
        "unit_price": "12.00",\
        "variant_title": null,\
        "weight": 340,\
        "weight_unit": "g"\
      }\
    ],
    "note": "flash sale",
    "notification_preferences": {
      "email": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      },
      "sms": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      }
    },
    "order_attributes": {
      "customer_niceness": "very"
    },
    "payment_processor": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "subtotal_price": "31.00",
    "tax_lines": [],
    "taxable": false,
    "taxes_included": false,
    "token": "efd5a6b12b984f439ec16ce2a00fb5c3",
    "total_price": "31.00",
    "total_tax": "0.00",
    "updated_at": "2021-11-16T00:51:28+00:00"
  }
}
```

# Retrieve a checkout

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11#tags_legend)

Retrieve a checkout.

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Scopes:
read\_checkouts


##### Responses

- 200




















successful response










Show response object



GET

/checkouts/{token}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts/6a7c36a1213a4d7fb746e6588fa55005' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

200


```hljs json
{
  "checkout": {
    "charge_id": null,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "shopify_cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discounts": [\
      {\
        "amount": "5.00",\
        "applicable": true,\
        "discount_code": "5_DOLLARS_OFF",\
        "non_redeemable_reason": null,\
        "value": "5.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "applied_shipping_rate": {
      "checkout": {
        "subtotal_price": null,
        "total_price": null,
        "total_tax": null
      },
      "code": "3 Days (3 Business Days)",
      "delivery_range": null,
      "description": null,
      "handle": "recharge-3%20Days%20%283%20Business%20Days%29-11.75",
      "name": "3 Days (3 Business Days)",
      "phone_required": null,
      "price": "11.75",
      "tax_lines": [],
      "title": "3 Days (3 Business Days)"
    },
    "available_shipping_rates": [\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "Flat rate (3 - 7 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-Flat%20rate%20%283%20-%207%20Business%20Days%29-7.49",\
        "name": "Flat rate (3 - 7 Business Days)",\
        "phone_required": null,\
        "price": "7.49",\
        "tax_lines": [],\
        "title": "Flat rate (3 - 7 Business Days)"\
      },\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "3 Days (3 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-3%20Days%20%283%20Business%20Days%29-11.75",\
        "name": "3 Days (3 Business Days)",\
        "phone_required": null,\
        "price": "11.75",\
        "tax_lines": [],\
        "title": "3 Days (3 Business Days)"\
      }\
    ],
    "billing_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "completed_at": null,
    "created_at": "2021-11-16T00:51:28+00:00",
    "currency": "USD",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "<external_cart_id>",
    "external_checkout_source": "headless",
    "external_customer_id": {
      "ecommerce": null,
      "payment_processor": null
    },
    "external_transaction_id": {
      "payment_processor": null
    },
    "line_items": [\
      {\
        "id": null,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "12345"\
        },\
        "external_variant_id": {\
          "ecommerce": "123456"\
        },\
        "handle": "shirt-with-design",\
        "images": {\
          "small": "http://small.jpg"\
        },\
        "properties": [\
          {\
            "name": "size",\
            "value": "xl"\
          }\
        ],\
        "purchase_item_type": "onetime",\
        "quantity": 3,\
        "requires_shipping": true,\
        "sku": null,\
        "subscription_preferences": {\
          "charge_interval_frequency": null,\
          "cutoff_day_of_month": null,\
          "cutoff_day_of_week": null,\
          "expire_after_specific_number_of_charges": null,\
          "interval_unit": null,\
          "order_day_of_month": null,\
          "order_day_of_week": null,\
          "order_interval_frequency": null\
        },\
        "tax_lines": [],\
        "taxable": false,\
        "title": "A Very Nice Shirt",\
        "total_price": "36.00",\
        "unit_price": "12.00",\
        "variant_title": null,\
        "weight": 340,\
        "weight_unit": "g"\
      }\
    ],
    "note": "flash sale",
    "notification_preferences": {
      "email": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      },
      "sms": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      }
    },
    "order_attributes": {
      "customer_niceness": "very"
    },
    "payment_processor": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "subtotal_price": "31.00",
    "tax_lines": [],
    "taxable": false,
    "taxes_included": false,
    "token": "efd5a6b12b984f439ec16ce2a00fb5c3",
    "total_price": "31.00",
    "total_tax": "0.00",
    "updated_at": "2021-11-16T00:51:28+00:00"
  }
}
```

# Update a checkout

You can modify an existing checkout to match the specified parameters.

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Scopes:
write\_checkouts


##### Query Parameters

- get\_shipping\_rates







boolean














If specified as a query parameter, shipping rates will be retrieved and will allow providing applied\_shipping\_rate upon checkout update.


##### More Parameters

##### Body Parameters

- analytics\_data







array














Urchin Tracking Module (UTM) parameters are used for online marketing campaigns.










Show object attributes


- applied\_shipping\_rate







object














Shipping rates details, populated once the rates have been selected and applied successfully to the `Checkout`.







Important: You can only set `applied_shipping_rate` if you have already collected the `available_shipping_rates` by calling `GET /checkout/<checkout_token>/shipping_rates` or if you pass the query parameter `get_shipping_rates=true` when calling this route.



`code`, `price` and `title` are required when setting a custom shipping rate










Show object attributes


- billing\_address







object














Billing address for the checkout.










Show object attributes


- buyer\_accepts\_marketing







boolean














Does the buyer accept marketing, newsletters etc.

- discount\_code







string














Discount code to be used on the checkout, e.g. “DISCOUNT20”.

- currency







string














Currency of the `Checkout`.

- email







string














Email address for the customer.

- external\_checkout\_id







string














Represents the external cart token.

- external\_checkout\_source







string














Represents the source for `external_checkout_id`.

- line\_items







array














`quantity`, `product_id` and `variant_id` are required parameters in line\_items.










Show object attributes


- note







string














Note attribute used to store custom notes.

- partial\_shipping







boolean














When set to true, shipping address validations are reduced to only require country and zip when creating/updating a checkout. The full shipping address including address line 1 must be added to the checkout before processing associated charges. This is helpful for mobile payments.



Related guides: [Mobile payments](https://docs.rechargepayments.com/docs/checkouts#mobile-payments-with-checkout-api)

- order\_attributes







array














Structured custom notes.










Show object attributes


- phone







string














Customer phone number.

- shipping\_address







object














Shipping address for the checkout.







When using mobile payment options, insufficient shipping address data is available until payment intent, which causes validation errors when updating the checkout object.



Related guides: [Checkout mobile payment](https://docs.rechargepayments.com/docs/checkouts#mobile-payments-with-checkout-api)










Show object attributes


- shipping\_line







array














Shipping lines.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/checkouts/{token}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/checkouts/b706eecfd66c45329d3886a02d7515d6' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "line_items": [\
    {\
      "product_id": 4546063663207,\
      "quantity": 6,\
      "variant_id": 3844924611\
    }\
  ]
}'
```

Response

200


```hljs json
{
  "checkout": {
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "shopify_cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discount": {
      "amount": "7.50",
      "applicable": true,
      "non_applicable_reason": "",
      "value": "7.50",
      "value_type": "fixed_amount"
    },
    "billing_address": null,
    "buyer_accepts_marketing": false,
    "charge_id": null,
    "completed_at": null,
    "created_at": "2020-07-10T09:21:46.259352+00:00",
    "currency": "USD",
    "discount_code": "POPUS_25",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "<shopify_cart_token>",
    "external_checkout_source": "shopify",
    "line_items": [\
      {\
        "charge_interval_frequency": 5,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": null,\
        "first_recurring_charge_delay": null,\
        "fulfillment_service": "manual",\
        "image": "//cdn.shopify.com/s/files/1/0279/8387/2103/products/kazan_small.jpg?v=1586451337",\
        "line_price": "30.00",\
        "order_day_of_month": null,\
        "order_day_of_week": null,\
        "order_interval_frequency": 5,\
        "order_interval_unit": "day",\
        "order_interval_unit_type": "day",\
        "original_price": "5.00",\
        "price": "5.00",\
        "product_id": 4546063663207,\
        "product_type": "Milk",\
        "properties": null,\
        "quantity": 6,\
        "recurring_price": "5.00",\
        "requires_shipping": true,\
        "sku": "kRaViCah-1",\
        "tax_code": null,\
        "taxable": false,\
        "title": "Powder Milk",\
        "type": "SUBSCRIPTION",\
        "variant_id": 32165284380775,\
        "variant_title": "1 / Powder",\
        "vendor": "Imlek"\
      }\
    ],
    "note": null,
    "order_attributes": null,
    "payment_processor": null,
    "payment_processor_customer_id": null,
    "payment_processor_transaction_id": null,
    "phone": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": "",
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "shipping_address_validations": {
      "country_is_supported": true,
      "ups": true
    },
    "shipping_line": null,
    "shipping_rate": null,
    "subtotal_price": "22.50",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxes_included": false,
    "token": "b706eecfd66c45329d3886a02d7515d6",
    "total_price": "22.50",
    "total_tax": "0.00",
    "updated_at": "2020-07-10T09:21:46.284703+00:00"
  }
}
```

# Retrieve shipping rates

You can retrieve all shipping rates for a specific checkout.

Scopes:
read\_checkouts


##### Responses

- 200




















successful response










Show response object



GET

/checkouts/{token}/shipping\_rates


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts/6a7c36a1213a4d7fb746e6588fa55005/shipping_rates' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

200


```hljs json
{
  "shipping_rates": [\
    {\
      "checkout": {\
        "subtotal_price": "22.50",\
        "total_price": "42.40",\
        "total_tax": "0.00"\
      },\
      "code": "Standard",\
      "delivery_range": null,\
      "description": null,\
      "handle": "shopify-Standard-19.90",\
      "name": "Standard",\
      "phone_required": false,\
      "price": "19.90",\
      "title": "Standard"\
    }\
  ]
}
```

# Process a checkout

You can process and charge checkout using our API.

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

We support **Stripe**, **Apple Pay**, **Google Pay**, and **Braintree** as payment processor.

If you are using test stripe keys, you can use `tok_visa` as your token.

Related guides: [Mobile payments](https://docs.rechargepayments.com/docs/checkouts#mobile-payments-with-checkout-api)

Scopes:
write\_checkouts


##### Body Parameters

- payment\_processor







string





\\* Required













Possible values:

stripe,

braintree,

authorize










The name of payment processor.

- payment\_token







string





\\* Required














Payment token that will be used in transaction.







For Stripe this field needs to be populated with a payment method.

For Braintree this field needs to be populated with a payment nonce.

- payment\_type







string













Possible values:

CREDIT\_CARD,

PAYPAL,

APPLE\_PAY,

GOOGLE\_PAY,

SEPA\_DEBIT










The payment type used for the `Checkout`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/checkouts/{token}/charge


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts/5a5c19ea31c44641855017f1276db959/process' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "payment_processor": "stripe",
  "payment_token": "<payment_token>",
  "payment_type": "CREDIT_CARD"
}'
```

Response

200


```hljs json
{
  "checkout_charge": {
    "authorization_token": null,
    "charge_id": 258065996,
    "free": false,
    "payment_processor": "stripe",
    "processor_customer_token": "cus_HcbgqiS49fABBg62E",
    "processor_payment_method_token": "pm_lkj3lkl4lk34",
    "payment_processor_transaction_id": "ch_1H3McXJ2zdqHvZaRd191xV2idRt",
    "payment_token": "tok_visa",
    "payment_type": "CREDIT_CARD",
    "status": "successful"
  }
}
```

# Collections

`Collections` allow to create and manage a logical list of `Products` called a `Collection`. A `Collection` contains an ordered list of `Products` and can be used for selective display of `Products` on chosen interfaces or for business logic automation (e.g. `Discounts` definition…).

Endpoints

POST

/collections


GET

/collections/{id}


PUT

/collections/{id}


DELETE

/collections/{id}


GET

/collections


GET

/collection\_products


POST

/collections/{id}/collection\_products-bulk


DELETE

/collections/{id}/collection\_products-bulk


Expand

# The collection object

##### Attributes

- id







integer














Unique numeric identifier for the `Collection`.

- created\_at







datetime














The date and time when the `Collection` was created.

- description







string














The `Collection` description. Used to store a detailed explanation of the `Collection` content and its purpose.

- sort\_order







string













Possible values:

id-asc,

id-desc,

title-asc,

title-desc,

created\_at-asc,

created\_at-desc










The order in which the `Products` in the collection should appear.

- title







string














The title of the `Collection`. A short descriptive definition of the `Collection`.

- type







string













Possible values:

manual










The type of the `Collection`.







`manual` stands for `Collections` which were manually created ie. when the products where explicitly selected to be part of the `Collection`.

- updated\_at







datetime














The date and time when the `Collection` was last updated.


##### Error related attributes

##### More Attributes

The collection object

```hljs json
{
  "id": 4021,
  "created_at": "2021-08-30T17:25:57+00:00",
  "description": "August 2021 cat products new release.",
  "sort_order": "id-desc",
  "title": "Cats Summer Collection",
  "type": "manual",
  "updated_at": "2021-08-30T17:25:57+00:00"
}
```

# Create a collection

Create a `Collection` in Recharge.

Scopes:
write\_products


##### Body Parameters

- description







string





\\* Required














The `Collection` description. Used to store a detailed explanation of the `Collection` content and its purpose.

- sort\_order







string













Default: id-desc









Possible values:

id-asc,

id-desc,

title-asc,

title-desc,

created-asc,

created-desc










The order in which the `Products` in the collection should appear.

- title







string





\\* Required














The title of the `Collection`. A short descriptive definition of the `Collection`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/collections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "description": "cat products new release",
  "title": "Cats Spring 2022"
}
```

Response

200


```hljs json
{
  "collection": {
    "id": 134157,
    "created_at": "2022-03-29T04:57:36+00:00",
    "description": "cat products new release",
    "sort_order": "id-desc",
    "title": "Cats Spring 2022",
    "type": "manual",
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Retrieve a collection

Retrieve one `Collection` using `collection_id`.

Scopes:
read\_products


##### Responses

- 200




















successful response










Show response object


- 404




















Not found










Show response object



GET

/collections/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collections/134157' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200

404


```hljs json
{
  "collection": {
    "id": 134157,
    "created_at": "2022-03-29T04:57:36+00:00",
    "description": "cat products new release",
    "sort_order": "id-desc",
    "title": "Cats Spring 2022",
    "type": "manual",
    "updated_at": "2022-03-29T04:57:36+00:00"
  }
}
```

# Update a collection

Modify an existing `Collection` to match the specified parameters.

Scopes:
write\_products


##### Body Parameters

- description







string














The `Collection` description. Used to store a detailed explanation of the `Collection` content and its purpose.

- sort\_order







string













Possible values:

id-asc,

id-desc,

title-asc,

title-desc,

created-asc,

created-desc










The order in which the `Products` in the collection should appear.

- title







string














The title of the `Collection`. A short descriptive definition of the `Collection`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 404




















Not found










Show response object


- 415




















Unprocessable entity










Show response object



PUT

/collections/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/collections/134157' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"sort_order": "title-asc"}'
```

Response

200

404

415


```hljs json
{
  "collection": {
    "id": 134157,
    "created_at": "2022-03-29T04:57:36+00:00",
    "description": "cats products new release",
    "sort_order": "title-asc",
    "title": "Cats Spring 2022",
    "type": "manual",
    "updated_at": "2022-03-29T05:27:39+00:00"
  }
}
```

# Delete a collection

Delete a `Collection`

For safety and good UX, you can only delete a `Collection` if it is not in use in the Customer Portal

Scopes:
write\_products


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object


- 404




















Not found










Show response object



DELETE

/collections/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/collections/134129' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204

404


```hljs json
{}
```

# List collections

Return a list of `Collections` in your store.

## HTTP request examples

`GET /collections`

`GET /collections?title=Cats`

Scopes:
read\_products


##### Query Parameters

- title







string














The title of the `Collection`. A short descriptive definition of the `Collection`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/collections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "collections": [\
    {\
      "id": 134136,\
      "created_at": "2022-03-28T15:38:27+00:00",\
      "description": "cat products august 2022",\
      "sort_order": "title-asc",\
      "title": "Cats",\
      "type": "manual",\
      "updated_at": "2022-03-28T15:38:27+00:00"\
    },\
    {\
      "id": 134129,\
      "created_at": "2022-03-28T12:27:03+00:00",\
      "description": "kitten accessories soft.",\
      "sort_order": "id-asc",\
      "title": "Soft Kitty",\
      "type": "manual",\
      "updated_at": "2022-02-23T11:27:34+00:00"\
    }\
  ]
}
```

# List collections products

Return a list of the product ids included in `Collections` in your store.

## HTTP request examples

`GET /collection_products`

`GET /collection_products?collection_id=134157`

Scopes:
read\_products


##### Query Parameters

- collection\_id







integer














The id of the `Collection` for which you want to see the products.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 422




















Errors. Unprocessable entity.










Show response object



GET

/collection\_products


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collection_products' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200

422


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "collection_products": [\
    {\
      "collection_id": 111733,\
      "created_at": "2022-03-30T18:12:09+00:00",\
      "external_product_id": "5",\
      "updated_at": "2022-03-30T18:12:09+00:00"\
    },\
    {\
      "collection_id": 111733,\
      "created_at": "2022-02-12T12:53:33+00:00",\
      "external_product_id": "2",\
      "updated_at": "2022-02-12T12:53:33+00:00"\
    },\
    {\
      "collection_id": 111735,\
      "created_at": "2022-02-12T06:46:49+00:00",\
      "external_product_id": "3",\
      "updated_at": "2022-02-12T06:46:49+00:00"\
    }\
  ]
}
```

# Add collection products

Add products to a `Collection` in Recharge.

Scopes:
write\_products


##### Body Parameters

- collection\_products







array





\\* Required














An array of products and their collection definition to be added to the `Collection`.







Important: there is a set limit of 250 products that can be added per request.










Show object attributes



##### More Parameters

##### Responses

- 201




















successful response










Show response object


- 422




















unprocessable entity










Show response object


- 500




















internal server error. (often the external\_product\_id entered does not exist)










Show response object



POST

/collections/{id}/collection\_products-bulk


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/collections/134129/collection_products-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "collection_products": [\
    {\
      "external_product_id": "7"\
      }\
    ]
}'
```

Response

201

422

500


```hljs json
{
  "collection_products": [\
    {\
      "collection_id": 111733,\
      "created_at": "2022-03-29T04:57:36+00:00",\
      "external_product_id": "7",\
      "updated_at": "2022-03-30T18:32:35+00:00"\
    }\
  ]
}
```

# Delete collection products

Removes products from a `Collection` in Recharge.

Scopes:
write\_products


##### Body Parameters

- collection\_products







array





\\* Required














The array of products to be removed from the `Collection` identified by their `external_product_id`.







Important: there is a set limit of 250 products that can be added per request.










Show object attributes



##### More Parameters

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object


- 404




















Not found










Show response object



DELETE

/collections/{id}/collection\_products-bulk


cURLPythonPHPRuby

```hljs js
curl '-X DELETE https://api.rechargeapps.com/collections/134129/collection_products-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "collection_products": [\
    {\
      "external_product_id": "7"\
      }\
    ]
}'
```

Response

204

404


```hljs json
{}
```

# Credits

Retain

The Credit Account object represents a set of positive and negative credit adjustments that when summed equal an available balance. Credit accounts may not have negative balances. A credit account may be associated with a customer, via the customer\_id attribute. A customer may be associated with many credit accounts.

A credit adjustment represents a financial adjustment to the balance of a Credit Account. An adjustment of type ‘credit’ results in an increase in the available balance of a credit account, where an adjustment of type ‘debit’ results in a decrease.

Access to the Credits endpoints are only available for merchants using [Retain](https://getrecharge.com/products/retain/).

Endpoints

GET

/credit\_accounts


GET

/credit\_accounts/{id}


GET

/credit\_adjustments


GET

/credit\_adjustments/{id}


GET

/credit\_accounts/{id}/credit\_adjustments


Expand

# The credit account object

##### Attributes

- id







integer














Unique numeric identifier for the Credit Account

- customer\_id







integer














Unique numeric identifier for the `customer` associated with the `credit_account`.

- available\_balance







string














The dollar amount of available credit in the credit account, in the associated Store’s default currency as configured in Recharge

- created\_at







datetime














The date and time at which the credit account was created.

- currency\_code







string














The currency code for the credit account.

- expires\_at







datetime














The date and time at which the credit account expires, and can no longer be adjusted.

- initial\_value







string














The initial value of the credit account at the time of creation.

- name







string














The name of the credit account

- type







string














The type of the credit account. Accepted values are `rewards` and `manual`.

- updated\_at







datetime














The date and time at which the credit account was last updated.


##### Error related attributes

##### More Attributes

The credit account object

```hljs json
{
  "credit_account": {
    "id": 697470,
    "customer_id": 36885098,
    "available_balance": "10.00",
    "created_at": "2024-07-08T20:40:30+00:00",
    "currency_code": "USD",
    "expires_at": null,
    "initial_value": "1.55",
    "name": "Reward Credit",
    "type": "reward",
    "updated_at": "2024-07-08T20:40:30+00:00"
  }
}
```

# List credit accounts

Return a list of credit accounts.

Scopes:
read\_credit\_accounts


##### Query Parameters

- customer\_id







string














Return the list of credit accounts linked to the given Recharge `customer_id`

- limit







string














The amount of results. Default is 50 while the maximum is 250.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/credit\_accounts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_accounts' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": "eyJzdGFydGluZ19iZWZvcmVfaWQiOjQ5ODg2NywibGFzdF92YWx1ZSI6NDk4ODY3LCJzb3J0X2J5IjoiaWQtZGVzYyIsImN1cnNvcl9kaXIiOiJuZXh0In0",
  "previous_cursor": null,
  "credit_accounts": [\
    {\
      "id": 697470,\
      "customer_id": 36885098,\
      "available_balance": "0.00",\
      "created_at": "2024-07-08T20:40:30+00:00",\
      "currency_code": "USD",\
      "expires_at": null,\
      "initial_value": "0.45",\
      "name": "Reward Credit",\
      "type": "reward",\
      "updated_at": "2024-07-08T20:40:30+00:00"\
    }\
  ]
}
```

# Retrieve a credit account

Retrieve one credit account using `credit_account_id`.

Scopes:
read\_credit\_accounts


##### Responses

- 200




















successful response










Show response object



GET

/credit\_accounts/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_accounts/697470' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "credit_account": {
    "id": 697470,
    "customer_id": 36885098,
    "available_balance": "0.00",
    "created_at": "2024-07-08T20:40:30+00:00",
    "currency_code": "USD",
    "expires_at": null,
    "initial_value": "0.45",
    "name": "Reward Credit",
    "type": "reward",
    "updated_at": "2024-07-08T20:40:30+00:00"
  }
}
```

# List credit adjustments

Retrieve a list of credit adjustments.

Scopes:
read\_credit\_adjustments


##### Query Parameters

- limit







string














The amount of results. Default is 50 while the maximum is 250.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/credit\_adjustments


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_adjustments' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": "eyJzdGFydGluZ19iZWZvcmVfaWQiOjQ4NjY4NDksImxhc3RfdmFsdWUiOjQ4NjY4NDksInNvcnRfYnkiOiJpZC1kZXNjIiwiY3Vyc29yX2RpciI6Im5leHQifQ",
  "previous_cursor": null,
  "credit_adjustments": [\
    {\
      "id": 4866849,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-08-08T04:06:37+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.00",\
      "note": "Amount related with shop order shop.myshopify.com. Address Id: 169902120 Charge Id: 1125729345",\
      "type": "debit",\
      "updated_at": "2024-08-08T04:06:37+00:00"\
    }\
  ]
}
```

# Retrieve a credit adjustment

Retrieve one credit adjustment using `credit_adjustment_id`.

Scopes:
read\_credit\_adjustments


##### Responses

- 200




















successful response










Show response object



GET

/credit\_adjustments/{id}


cURLPythonPHPRuby

```hljs js
curl 'api.rechargeapps.com/credit_adjustments/4866849' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": "eyJzdGFydGluZ19iZWZvcmVfaWQiOjQ4NjY4NDksImxhc3RfdmFsdWUiOjQ4NjY4NDksInNvcnRfYnkiOiJpZC1kZXNjIiwiY3Vyc29yX2RpciI6Im5leHQifQ",
  "previous_cursor": null,
  "credit_adjustments": [\
    {\
      "id": 4866849,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-08-08T04:06:37+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.00",\
      "note": "Amount related with shop order jordans-curious-tomatoes.myshopify.com Address Id: 169902120 Charge Id: 1125729345",\
      "type": "debit",\
      "updated_at": "2024-08-08T04:06:37+00:00"\
    }\
  ]
}
```

# List Credit Adjustments for a Credit Account

Retrieve credit adjustments associated with specific credit account using `credit_account_id`.

Scopes:
read\_credit\_adjustments


##### Query Parameters

- limit







string














The amount of results. Default is 50 while the maximum is 250.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/credit\_accounts/{id}/credit\_adjustments


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_accounts/697470/credit_adjustments' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "credit_adjustments": [\
    {\
      "id": 4866849,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-08-08T04:06:37+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.00",\
      "note": "Amount related with shop order store.myshopify.com Address Id: 169902120 Charge Id: 1125729345",\
      "type": "debit",\
      "updated_at": "2024-08-08T04:06:37+00:00"\
    },\
    {\
      "id": 4719708,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-07-08T20:40:31+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.45",\
      "note": "3% Cash back on curious tomatoes",\
      "type": "credit",\
      "updated_at": "2024-07-08T20:40:31+00:00"\
    }\
  ]
}
```

# Customers

The `Customer` object holds account information. Email is unique on the `Customer`; no two customers for a store can have the same email. `Address` is a child of the `Customer` object. There can be many child `Addresses` on a customer, but only one parent `Customer` per `Address`. ![](https://developer.getrecharge.com/images/customer.png)

Endpoints

POST

/customers


GET

/customers/{id}


PUT

/customers/{id}


DELETE

/customers/{id}


GET

/customers


GET

/customers/{id}/delivery\_schedule


GET

/customers/{id}/credit\_summary


Expand

# The customer object

##### Attributes

- id







integer














Unique numeric identifier for the `Customer`.

- analytics\_data







object














An object containing analytics data associated with the customer.










Show object attributes


- apply\_credit\_to\_next\_recurring\_charge







boolean














A boolean that indicates whether Recharge credits will be applied to the next recurring charge.

- created\_at







datetime














The date and time when the customer was created.

- email







string














The email address of the customer.

- external\_customer\_id







object














An object containing external ids for the customer record.










Show object attributes


- first\_charge\_processed\_at







datetime














Date when first charge was processed for the customer.

- first\_name







string














The customer’s first name.

- has\_payment\_method\_in\_dunning







boolean














A boolean that indicates if the customer has a payment method that is in dunning (failed charge).

- has\_valid\_payment\_method







boolean














Is the payment method valid or not.

- hash







string














The unique string identifier used in a customers portal link.

- last\_name







string














The customer’s last name.

- phone







string














The customer’s phone number.

- subscriptions\_active\_count







integer














The number of active subscriptions on addresses associated with the customer.

- subscriptions\_total\_count







integer














The total number of subscriptions created on addresses associated with the customer.

- subscription\_related\_charge\_streak







integer














The number of consecutive subscription-related charges processed for this customer, while they retain at least one active subscription. When all subscriptions for this customer are cancelled or expired, this value will reset to zero.

- tax\_exempt







boolean














Whether the customer tax exempt or not.

- updated\_at







datetime














The date and time when the customer was last updated.


##### Error related attributes

##### More Attributes

The customer object

```hljs json
{
  "id": 18819267,
  "analytics_data": {
    "utm_params": [\
      {\
        "utm_source": "facebook",\
        "utm_medium": "cpc"\
      }\
    ]
  },
  "created_at": "2018-11-14T08:40:38+00:00",
  "email": "example_mail@gmail.com",
  "external_customer_id": {
    "ecommerce": "126576412310131454"
  },
  "first_charge_processed_at": null,
  "first_name": "Jacob",
  "has_payment_method_in_dunning": false,
  "has_valid_payment_method": false,
  "hash": "18819267b1f9095be98f13a8",
  "last_name": "Bronowski",
  "phone": "+16175551212",
  "subscriptions_active_count": 0,
  "subscriptions_total_count": 1,
  "tax_exempt": false,
  "updated_at": "2020-11-14T08:40:38+00:00"
}
```

# Create a customer

[Custom](https://developer.getrecharge.com/2021-11#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11#tags_legend)

Create a customer in Recharge.

If you plan to add payment information, **it must be the tokenized customer representation. We do not accept card data directly**. For Stripe users, please make sure it starts with ‘cus’ and not with a 'tok’, as the 'cus’ is prefix for customer token, and 'tok’ is prefix for payment token.

Creating a customer in Recharge will not create the customer on any other platform at this time.

`write_payment_methods` permission is only required when creating customers with payment token information, or updating payment token information on a customer.

`phone` must be in E.164 format, such as `+16175551212`.

Scopes:
write\_customers

write\_payment\_methods


##### Body Parameters

- email







string





\\* Required














The customer’s email address.

- external\_customer\_id







object














An object containing external ids for the customer record.










Show object attributes


- first\_name







string





\\* Required














The customer’s first name.

- last\_name







string





\\* Required














The customer’s last name.

- phone







string














The customer’s phone number.

- tax\_exempt







boolean














Whether or not the customer is tax exempt.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/customers


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "first_name": "Niels",
  "last_name": "Bohr",
  "email": "fake@example.com"
}
```

Response

200


```hljs json
{
  "customer": {
    "id": 37657002,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "created_at": "2020-02-19T17:40:07+00:00",
    "email": "fake@example.com",
    "external_customer_id": {
      "ecommerce": "2879413682227"
    },
    "first_charge_processed_at": "2020-02-19T17:40:11+00:00",
    "first_name": "Jane",
    "has_payment_method_in_dunning": false,
    "has_valid_payment_method": true,
    "hash": "7e706455cbd13e40",
    "last_name": "Doe",
    "phone": null,
    "subscriptions_active_count": 0,
    "subscriptions_total_count": 0,
    "subscription_related_charge_streak": 0,
    "tax_exempt": false,
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Retrieve a customer

Retrieve one customer using `customer_id`.

Scopes:
read\_customers


##### Responses

- 200




















successful response










Show response object



GET

/customers/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers/37657002' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "customer": {
    "id": 37657002,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "created_at": "2020-02-19T17:40:07+00:00",
    "email": "fake@example.com",
    "external_customer_id": {
      "ecommerce": "2879413682227"
    },
    "first_charge_processed_at": "2020-02-19T17:40:11+00:00",
    "first_name": "Jane",
    "has_payment_method_in_dunning": false,
    "has_valid_payment_method": true,
    "hash": "7e706455cbd13e40",
    "last_name": "Doe",
    "phone": "+16175551212",
    "subscriptions_active_count": 0,
    "subscriptions_total_count": 1,
    "subscription_related_charge_streak": 0,
    "tax_exempt": false,
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Update a customer

Modify an existing `Customer` to match the specified parameters.

For US citizens, parameter `billing_zip` is required when updating customer’s `billing_country` parameter.

`phone` must be in E.164 format, such as `+16175551212`.

Scopes:
write\_customers


##### Body Parameters

- apply\_credit\_to\_next\_recurring\_charge







boolean














A boolean that indicates whether Recharge credits will be applied to the next recurring charge.







This property is dependent upon the store’s credit settings. If a call is made attempting to update this and the store has recurring redemption turned off or set to automatically redeem, the API will return a 422 response.

- email







string














Email address of the customer.

- external\_customer\_id







object














An object containing external ids for the customer record.










Show object attributes


- first\_name







string














Customer’s first name.

- last\_name







string














Customer’s last name.

- phone







string














The customer’s phone number.

- tax\_exempt







boolean














Whether or not the customer is tax exempt.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/customers/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/customers/37657002' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"last_name": "Doe"}'
```

Response

200


```hljs json
{
  "customer": {
    "id": 37657002,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "created_at": "2020-02-19T17:40:07+00:00",
    "email": "fake@example.com",
    "external_customer_id": {
      "ecommerce": "2879413682227"
    },
    "first_charge_processed_at": "2020-02-19T17:40:11+00:00",
    "first_name": "Jane",
    "has_payment_method_in_dunning": false,
    "has_valid_payment_method": true,
    "hash": "7e706455cbd13e40",
    "last_name": "Doe",
    "phone": "+16175551212",
    "subscriptions_active_count": 0,
    "subscriptions_total_count": 1,
    "tax_exempt": false,
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Delete a customer

Customer deletion will automatically cancel and delete all child Address, Subscription, Onetime, etc. resources of that customer to eliminate orphaned child data.

To delete a certain address without deleting the customer you can use the Delete Address endpoint.

Scopes:
write\_customers


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/customers/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/customers/37657002' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List customers

Return a list of customers in your store.

## HTTP request examples

`GET /customers`

`GET /customers?email=example@email.com`

`GET /customers?hash=143806234a9ff87a8d9e`

`GET /customers?limit=250`

`GET /customers?page=2`

`GET /customers?external_customer_id=98273498`

If emails contain special characters such as ‘john+doe@example.com’, you will need to encode them in the URLs, i.e. `?email=john%2Bdoe@example.com`

Scopes:
read\_customers


##### Query Parameters

- email







string














Returns the user linked to the email address provided.

- created\_at\_max







string














Gets all customers created before this date.

- created\_at\_min







string














Gets all customers created after this date.

- hash







string














Returns the user linked to the given recharge customer hash.

- ids







string














Filter customers by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










Number of results.

- page







string





\*Deprecated













Default: 1










Page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- external\_customer\_id







string














Returns the user linked to the given `external_customer_id`.

- updated\_at\_max







string














Gets all customers updated before this date.

- updated\_at\_min







string














Gets all customers updated after this date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/customers


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": "next_cursor",
  "previous_cursor": "previous_cursor",
  "customers": [\
    {\
      "id": 37657002,\
      "analytics_data": {\
        "utm_params": [\
          {\
            "utm_source": "facebook",\
            "utm_medium": "cpc"\
          }\
        ]\
      },\
      "created_at": "2020-02-19T17:40:07+00:00",\
      "email": "fake@example.com",\
      "external_customer_id": {\
        "ecommerce": "2879413682227"\
      },\
      "first_charge_processed_at": "2020-02-19T17:40:11+00:00",\
      "first_name": "Jane",\
      "has_payment_method_in_dunning": false,\
      "has_valid_payment_method": true,\
      "hash": "7e706455cbd13e40",\
      "last_name": "Doe",\
      "phone": "+16175551212",\
      "subscriptions_active_count": 0,\
      "subscriptions_total_count": 1,\
      "tax_exempt": false,\
      "updated_at": "2020-12-17T18:50:39+00:00"\
    }\
  ]
}
```

# Retrieve a customer delivery schedule

Returns the list of projected deliveries in a specific interval.

If several filters are passed in parameters, the most restrictive will dominate.

The maximum length of the future delivery interval is 365 days.

Scopes:
read\_customers


##### Query Parameters

- delivery\_count\_future







integer














The count of delivery objects that should be included that reference projected orders.







Will not return deliveries past 365 days in the future.

- future\_interval







integer














The count of days forward to report deliveries on.







Defaults to store setting or 90. Maximum of 365 days.

- date\_max







string














The end date of the requested delivery schedule.







Cannot be in the past. Cannot exceed 365 days in the future.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/customers/{id}/delivery\_schedule


cURLPythonPHPRuby

```hljs js
curl -X GET 'https://api.rechargeapps.com/customers/37657002/delivery_schedule' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "deliverySchedule": {
    "customer": {
      "id": 73720164,
      "email": "test@example.com",
      "first_name": "Aria",
      "last_name": "Beciu"
    },
    "deliveries": [\
      {\
        "date": "2022-02-07",\
        "orders": [\
          {\
            "id": null,\
            "address_id": 79342717,\
            "charge_id": 507503288,\
            "line_items": [\
              {\
                "subscription_id": 186930285,\
                "external_product_id": {\
                  "ecommerce": "1642443555555"\
                },\
                "external_variant_id": {\
                  "ecommerce": null\
                },\
                "images": {},\
                "is_skippable": true,\
                "is_skipped": false,\
                "is_prepaid": false,\
                "original_price": "17.00",\
                "plan_type": "subscription",\
                "product_title": "Organic coffee beans",\
                "properties": [\
                  {\
                    "name": "shipping_interval_unit_type",\
                    "value": "month"\
                  },\
                  {\
                    "name": "shipping_interval_frequency",\
                    "value": "1"\
                  },\
                  {\
                    "name": "subscription_id",\
                    "value": null\
                  }\
                ],\
                "quantity": 1,\
                "subtotal_price": "17.00",\
                "unit_price": "17.00",\
                "variant_title": "Refill large"\
              }\
            ],\
            "order_subtotal": "17.00",\
            "payment_method": {\
              "id": 769874,\
              "billing_address": {\
                "address1": "90 avenue du Rouergue",\
                "address2": null,\
                "city": "Rodez",\
                "company": null,\
                "country_code": "FR",\
                "first_name": "Diane",\
                "last_name": "Farley",\
                "phone": null,\
                "province": null,\
                "zip": "12000"\
              },\
              "payment_details": {}\
            },\
            "shipping_address": {\
              "address1": "149 Forest Avenue",\
              "address2": null,\
              "city": "New York City",\
              "company": null,\
              "country_code": "US",\
              "first_name": "Aria",\
              "last_name": "Beciu",\
              "phone": "1234567890",\
              "province": "New York",\
              "zip": "10019"\
            }\
          }\
        ]\
      }\
    ]
  }
}
```

# Retrieve a customer's credit summary

Beta

Returns a credit summary for the customer.

Scopes:
read\_credit\_summary


##### Responses

- 200




















successful response










Show response object



GET

/customers/{id}/credit\_summary


cURLPythonPHPRuby

```hljs js
curl -X GET 'https://api.rechargeapps.com/customers/37657002/credit_summary' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "credit_summary": {
    "customer_id": 37657002,
    "total_available_balance": "0.00",
    "currency_code": "USD"
  }
}
```

# Discounts

Discounts can be applied to a `Checkout`, or can be applied directly to an `Address`. Depending on configuration they allow for single use, or recurring discounts. More details on how to add or remove discounts from an `Address` can be found at [Update an address](https://developer.getrecharge.com/2021-11/addresses/update_address).

Often discounts can be used in combination with webhooks, such that when a specific event occurs, it can apply a discount dependent on custom business logic.

There are various options that can be utilized for discounts such as minimum price, single use, recurring for a set number of charges, or ongoing. You can also set the date from which time the discount will become applicable and when it can no longer be applied to a new subscription.

Endpoints

POST

/discounts


GET

/discounts/{id}


PUT

/discounts/{id}


DELETE

/discounts/{id}


GET

/discounts


Expand

# The discount object

##### Attributes

- id







integer














Unique numeric identifier for the discount in Recharge.

- applies\_to







object














An object encompassing data that limits discount application on the basis of an associated record (such as customer, products, etc.).










Show object attributes


- channel\_settings







object














A list of channel objects containing information regarding discount behaviors for each.

If you’re on the SCI Platform, checkout channel will not apply during Shopify checkouts.










Show object attributes


- code







string














The code used to apply the discount.

- created\_at







datetime














The date and time when the discount was created.

- ends\_at







datetime














The expiration timestamp of the discount. Past this time the `Discount` can no longer be redeemed. After `ends_at` the `status` of the `Discount` will go from `active` to `disabled`.







Recurring discounts applied prior to their `ends_at` time will still apply.

- external\_discount\_id







object














An object containing external ids of the discount.










Show object attributes


- first\_time\_customer\_restriction







boolean














Discount can be used on checkout for customer that still don’t exist in Recharge database.

- prerequisite\_subtotal\_min







string














The minimum cart subtotal needed for the discount to be applicable.

- starts\_at







datetime














The date when the discount becomes active.







When not specified on creation `starts_at` will default to `null` which translates into no restrictions.

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










The status of the discount. Value can be:

\\* `enabled` discount is active to be applied

\\* `disabled` discount can’t be applied on new purchases. Discount will remain on existing charges to which it has already been applied.

\\* `fully_disabled` discount can no longer be applied. In addition, `Discount` is removed from every queued charge.







`disabled` and `fully_disabled` can both be reverted to `enabled`. However once a `Discount` has been updated to `fully_disabled` it will be removed from all `Charges` it had been applied to. This removal from `Charges` is irreversible.

- usage\_limits







object














An object containing limitations on a discount based on usage\_counts results










Show object attributes


- updated\_at







datetime














The date and time when the discount was last updated.

- value







string














The discounted value to be applied.

- value\_type







string













Possible values:

fixed\_amount,

percentage,

shipping










Type of discount mechanic.


##### Error related attributes

##### More Attributes

The discount object

```hljs json
{
  "discount": {
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "TEST_DISCOUNT",
    "created_at": "2021-04-01T16:13:53+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": "1642443555555"
    },
    "external_discount_source": null,
    "id": 25463058,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-04-13T22:24:59+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "20.00",
    "value_type": "percent"
  }
}
```

# Create a discount

Create a new discount.

##### Body Parameters

- applies\_to







object














An object encompassing data that limits discount application on the basis of an associated record (such as customer, products, etc.)










Show object attributes


- channel\_settings







object














A list of channel objects containing information regarding discount behaviors for each.

\\* can\_apply: a boolean to indicate if the discount may be applied using the associated channel (defaults to true for all channels).










Show object attributes


- code







string





\\* Required














The code used to apply the discount.

- ends\_at







datetime














The expiration timestamp of the discount. Past this time the `Discount` can no longer be redeemed. After `ends_at` the `status` of the `Discount` will go from `active` to `disabled`.







Recurring discounts applied prior to their `ends_at` time will still apply.

- prerequisite\_subtotal\_min







integer














The minimum cart subtotal needed for the discount to be applicable.

- starts\_at







datetime














The date when the discount becomes `ACTIVE`.







When not specified on creation `starts_at` will default to `null` which translates into no restrictions.

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










The status of the discount.

- usage\_limits







object














Sets the limit on the number of times a discount can be used by all customers.










Show object attributes


- value







string





\\* Required














The discounted value to be applied.

- value\_type







string





\\* Required













Possible values:

fixed\_amount,

percentage,

shipping










The discount type.


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/discounts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/discounts' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "applies_to": {
        "purchase_item_type": "ALL"
    },
    "channel_settings": {
        "api": {
            "can_apply": true
        },
        "checkout_page": {
            "can_apply": true
        },
        "customer_portal": {
            "can_apply": true
        },
        "merchant_portal": {
            "can_apply": true
        }
    },
    "code": "Discount1",
    "status": "enabled",
    "usage_limits": {
        "first_time_customer_restriction": false,
        "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
}'
```

Response

201


```hljs json
{
  "discount": {
    "id": 59568555,
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "Discount1",
    "created_at": "2021-07-26T19:16:17+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": null
    },
    "external_discount_source": null,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-07-26T19:16:17+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
  }
}
```

# Retrieve a discount

Retrieve a single Recharge Discount

##### Responses

- 200




















successful response










Show response object



GET

/discounts/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/discounts/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "discount": {
    "id": 59568555,
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "Discount1",
    "created_at": "2021-07-26T19:16:17+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": null
    },
    "external_discount_source": null,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-07-26T19:16:17+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
  }
}
```

# Update a discount

You can modify an existing discount to match the specified parameters.

##### Body Parameters

- applies\_to







object














An object encompassing data that limits discount application on the basis of an associated record (such as customer, products, etc.)










Show object attributes


- channel\_settings







object














A list of channel objects containing information regarding discount behaviors for each.

\\* can\_apply: a boolean to indicate if the discount may be applied using the associated channel (defaults to true for all channels).










Show object attributes


- code







string














The code used to apply the discount…

- ends\_at







datetime














The expiration timestamp of the discount. Past this time the `Discount` can no longer be redeemed. After `ends_at` the `status` of the `Discount` will go from `active` to `disabled`.







Recurring discounts applied prior to their `ends_at` time will still apply.

- prerequisite\_subtotal\_min







integer














The minimum cart subtotal needed for the discount to be applicable.

- starts\_at







datetime














The date when the discount becomes active.

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










The status of the discount. Value can be:

\\* `enabled` discount is active to be applied

\\* `disabled` discount can’t be applied on new purchases. Discount will remain on existing charges to which it has already been applied.

\\* `fully_disabled` discount can no longer be applied. In addition, `Discount` is removed from every queued charge.







`disabled` and `fully_disabled` can both be reverted to `enabled`. However once a `Discount` has been updated to `fully_disabled` it will be removed from all `Charges` it had been applied to. This removal from `Charges` is irreversible.

- usage\_limits







object














Sets the limit on the number of times a discount can be used by all customers.










Show object attributes


- value







string














The discounted value to be applied.

- value\_type







string













Possible values:

fixed\_amount,

percentage,

shipping










The discount type.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/discounts/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/discounts/11127406' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "usage_limits": {},
  "starts_at": "2021-11-01T00:00:00+00:00"
}'
```

Response

200


```hljs json
{
  "discount": {
    "id": 59568555,
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "Discount1",
    "created_at": "2021-07-26T19:16:17+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": null
    },
    "external_discount_source": null,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-07-26T19:16:17+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
  }
}
```

# Delete a discount

Delete a discount

For safety reasons, to delete a discount you will need to set its status to `fully_disabled`.

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/discounts/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/discounts/12081717' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

204


```hljs json
{}
```

# List discounts

Return a list of discounts in your store.

## HTTP request examples

`GET /discounts`

`GET /discounts?created_at_max=2017-10-01`

`GET /discounts?created_at_max=2017-10-01`

`GET /discounts?created_at_min=2017-10-01`

`GET /discounts?discount_code=Discount`

`GET /discounts?discount_type=percentage`

`GET /discounts?updated_at_min=2017-10-01`

##### Query Parameters

- created\_at\_max







string














Get all discounts created before a specified date.

- created\_at\_min







string














Get all discounts created after a specified date.

- discount\_code







string














Search for a particular discount code.

- value\_type







string













Possible values:

percentage,

fixed\_amount,

shipping










Filter based on type of discount.

- ids







string














Filter discounts by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










Number of results to return.

- page







string





\*Deprecated













Default: 1










Page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










Returns all discounts with status `enabled`, `disabled` or `fully_disabled`.

- updated\_at\_max







string














Get all discounts updated before a specified date.

- updated\_at\_min







string














Get all discounts updated after a specified date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/discounts


cURLPythonPHPRuby

```hljs js
curl -X GET 'https://api.rechargeapps.com/discounts' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "discounts": [\
    {\
      "id": 59568555,\
      "applies_to": {\
        "ids": [],\
        "purchase_item_type": "ALL",\
        "resource": null\
      },\
      "channel_settings": {\
        "api": {\
          "can_apply": true\
        },\
        "checkout_page": {\
          "can_apply": true\
        },\
        "customer_portal": {\
          "can_apply": true\
        },\
        "merchant_portal": {\
          "can_apply": true\
        }\
      },\
      "code": "Discount1",\
      "created_at": "2021-07-26T19:16:17+00:00",\
      "ends_at": null,\
      "external_discount_id": {\
        "ecommerce": null\
      },\
      "external_discount_source": null,\
      "prerequisite_subtotal_min": null,\
      "starts_at": null,\
      "status": "enabled",\
      "updated_at": "2021-07-26T19:16:17+00:00",\
      "usage_limits": {\
        "first_time_customer_restriction": false,\
        "max_subsequent_redemptions": null,\
        "one_application_per_customer": false\
      },\
      "value": "100.00",\
      "value_type": "percentage"\
    }\
  ]
}
```

# Metafields

Metafields allow users to add additional information to other resources. They can be used for adding custom fields to objects, and are useful for storing specialized information.

Endpoints

POST

/metafields


GET

/metafields/{id}


PUT

/metafields/{id}


DELETE

/metafields/{id}


GET

/metafields


Expand

# The metafield object

Metafields feature allows to add additional information to other resources. They can be used for adding custom fields to objects, and are useful for storing specialized information.

You can extend the responses of some of these objects by appending the `include?=metafields` as part of your `GET` request.

cf. [Extending responses](https://developer.getrecharge.com/2021-11#extending_responses) for more info.

##### Attributes

- id







integer














Unique numeric identifier for the metafield.

- created\_at







datetime














The date and time when the metafield was created.

- description







string














Description of the metafield.

- key







string














The name of the metafield.

- namespace







string














A category or container that differentiates your metadata from other metafields.

- owner\_id







string














Unique numeric identifier of the `owner_resource`.

- owner\_resource







string













Possible values:

address,

store,

customer,

subscription,

order,

charge










Objects which support `Metafields`

- updated\_at







datetime














The date and time when the metafield was last updated.

- value







string














The content of the metafield.

- value\_type







string













Possible values:

string,

integer,

json\_string










The type of the value parameter.


##### Error related attributes

##### More Attributes

The metafield object

```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Create a metafield

Creates a metafield for a specific object.

There is a limit of 50 metafields per `owner_id`.

You need to have `WRITE` rights to the resource you want to create a `Metafield` for.

Scopes:
WRITE\_{target\_resource}


##### Body Parameters

- description







string














Description of the metafield.

- key







string





\\* Required














The name of the metafield.

- namespace







string





\\* Required














A category or container that differentiates your metadata from other metafields.

- owner\_id







string





\\* Required














Unique numeric identifier of the owner resource.

- owner\_resource







string





\\* Required













Possible values:

address,

store,

customer,

subscription,

order,

charge










The owner of the resource.

- value







string





\\* Required














The content of the metafield.

- value\_type







string





\\* Required













Possible values:

string,

integer,

json\_string










The type of the value parameter.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/metafields


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/metafields' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "metafield": {
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_resource": "customer",
    "owner_id": 18301938,
    "value_type": "integer",
    "value": "3103103101"
  }
}'
```

Response

200


```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Retrieve a metafield

Retrieves a single metafield based on a specified id.

## HTTP request examples

`GET /metafields/<metafield_id>`

In addition to that, you can retrieve them by `subscription_id` by using:

`GET /metafields?owner_resource=subscription&owner_id=<subscription_id>`

Scopes:
read\_{target\_resource}


##### Responses

- 200




















successful response










Show response object



GET

/metafields/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/metafields/33' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

200


```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Update a metafield

Updates a metafield based on a specified `owner_resource`.

Scopes:
write\_{target\_resource}


##### Body Parameters

- description







string














Description of the metafield.

- owner\_id







string














Unique numeric identifier of the resource.

- owner\_resource







string













Possible values:

address,

store,

customer,

subscription,

order,

charge










The owner of the resource can be one of the following values: `address`, `store`, `customer`, `subscription`, `order`, `charge`. There may be more objects added in the future.

- value







string














The content of the metafield.

- value\_type







string













Possible values:

string,

integer,

json\_string










The type of the value parameter.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



PUT

/metafields/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/metafields/33' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "metafield": {
    "description": "phone_number_of_customer",
    "owner_id": 18293088,
    "owner_resource": "customer",
    "value": "0333103133",
    "value_type": "integer"
  }
}'
```

Response

201


```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Delete a metafield

Delete a metafield based on a specified id.

Scopes:
write\_{target\_resource}


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/metafields/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/metafields/6' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

204


```hljs json
{}
```

# List metafields

Retrieves a list of metafields.

## HTTP request examples

`GET /metafields?owner_resource=<owner_resource>`

`GET /metafields?owner_resource=subscription&owner_id=<subscription_id>`

`GET /metafields?owner_resource=customer&owner_id=<customer_id>`

`GET /metafields?owner_resource=store&owner_id=<store_id>`

**When getting metafields, you must specify owner\_resource in the URL. It can be `address`, `store`, `customer`, `subscription`, `order`, `charge`**

You can list metafields that are created for all subscription objects using:

`GET /metafields?owner_resource=subscription` \- `**owner_id**` in the response will be the ID of the subscription.

Scopes:
read\_{target\_resource}


##### Query Parameters

- limit







string













Default: 50





Max: 250










Amount of results.

(default:50) (maximum: 250).

- namespace







string














A category or container that differentiates your metadata from other metafields.

- owner\_id







string














Unique numeric identifier of the owner resource.

- owner\_resource







string













Possible values:

address,

store,

customer,

subscription,

order,

charge










The owner of the resource can be one of the following values: `address`, `store`, `customer`, `subscription`, `order`, `charge`. There may be more objects added in the future.

- page







string





\*Deprecated













Default: 1










Page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/metafields


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/metafields' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d owner_resource=address \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": "next_cursor",
  "previous_cursor": "previous_cursor",
  "metafields": [\
    {\
      "id": 33,\
      "created_at": "2018-11-07T14:00:10",\
      "description": "customer_phone_number",\
      "key": "phone_number",\
      "namespace": "personal_info",\
      "owner_id": 18301938,\
      "owner_resource": "customer",\
      "updated_at": "2018-11-07T14:00:10",\
      "value": "3103103101",\
      "value_type": "integer"\
    },\
    {\
      "id": 15,\
      "created_at": "2018-11-05T12:59:30",\
      "description": "desc lorem ipsum",\
      "key": "marjan",\
      "namespace": "nmsp2c",\
      "owner_id": 17868054,\
      "owner_resource": "customer",\
      "updated_at": "2018-11-05T15:48:42",\
      "value": "5",\
      "value_type": "integer"\
    },\
    {\
      "id": 9,\
      "created_at": "2018-11-05T12:47:27",\
      "description": "desc lorem ipsum",\
      "key": "marjan",\
      "namespace": "nmspc",\
      "owner_id": 17868054,\
      "owner_resource": "customer",\
      "updated_at": "2018-11-05T12:47:27",\
      "value": "5",\
      "value_type": "integer"\
    }\
  ]
}
```

# Notifications

The Customer Notifications resource is used to dispatch email notifications to customers within Recharge. The endpoint uses your configured Recharge email templates, and will dispatch an email to the address associated with the indicated `customer_id`. Some email templates require variable values, which are sent through the Customer Notifications resource via the template\_vars attribute. See below examples for all available template types.

Endpoints

POST

/customers/{id}/notifications


Expand

# Send email notification

Sends a notification email to the customer with the `customer_id` indicated in the route. To view the upcoming charge email template, visit the Notifications section in your Recharge Merchant Admin Portal.

Scopes:
write\_notifications


##### Body Parameters

- type







integer





\\* Required














Identifies the type of the notifications. Value can be email only.

- template\_type







string





\\* Required













Possible values:

upcoming\_charge,

get\_account\_access,

shopify\_update\_payment\_information










Identifies the type of the email notifications.

- template\_vars







object














An object containing the necessary template variables for this email template type.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/customers/{id}/notifications


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers/18819267/notifications' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "type": "email",
  "template_type": "upcoming_charge",
  "template_vars":{
    "address_id":1234567890,
    "charge_id":9876543210
  }
}'
```

Response

200


```hljs json
{}
```

# Onetimes

Onetimes represent non-recurring line items on a `QUEUED` `Charge`.

Endpoints

POST

/onetimes


GET

/onetimes/{id}


PUT

/onetimes/{id}


DELETE

/onetimes/{id}


GET

/onetimes


Expand

# The onetime object

##### Attributes

- id







integer














Unique numeric identifier for the `Onetime` purchase.

- address\_id







integer














Unique numeric identifier for the address the `Onetime` Purchase is associated with (cannot be used with `next_charge_scheduled_at`)

- created\_at







datetime














The time the `Onetime` item was first created.

- customer\_id







integer














Unique numeric identifier for the customer the `Onetime` purchase is tied to.

- external\_product\_id







string














An object containing the product id as it appears in external platforms.










Show object attributes


- external\_variant\_id







string














An object containing the variant id as it appears in external platforms.










Show object attributes


- is\_cancelled







boolean














Flag indicating if the the onetime is cancelled.

- next\_charge\_scheduled\_at







datetime














Date of the `Onetime` purchase execution.







Cannot be used with `add_to_next_charge`

- price







string














The price of the item before discounts, taxes, or shipping have been applied.

- product\_title







string














The name of the product in a shop’s catalog.

- properties







array














An array containing key value pairs for any supplementary data.










Show object attributes


- quantity







integer














The number of items in the `Onetime` purchase.

- sku







string














A unique identifier of the item in the fulfillment.

- sku\_override







boolean














Flag that is automatically updated to `true` when SKU is passed on `POST` or `PUT`.







When `sku_override` is `true`, the `sku` on the `Onetime` will be used to generate `Charges` and `Orders`.

When `sku_override` is `false`, Recharge will dynamically fetch the `sku` from the corresponding `external_platform_variant`.

- updated\_at







string














The time the `Onetime` purchase was last updated.

- variant\_title







string














The name of the variant in a shop’s catalog.


##### Error related attributes

##### More Attributes

The onetime object

```hljs json
{
  "onetime": {
    "id": 16909886,
    "address_id": 21317826,
    "customer_id": 18819267,
    "created_at": "2018-11-14T11:20:05+00:00",
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2018-12-17T00:00:00+00:00",
    "price": null,
    "product_title": "SuperKiwi ONETIME",
    "properties": [\
      {\
        "name": "grind",\
        "value": "drip"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2018-11-14T11:20:05+00:00",
    "variant_title": "Blue star"
  }
}
```

# Create a onetime

Create a new `Onetime`.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer





\\* Required














Unique numeric identifier for the address the one time purchase is associated with.

- add\_to\_next\_charge







boolean














Instructs to add the `Onetime` to the next charge scheduled under this `Address`.

- external\_product\_id







object














Unique numeric identifier of the product in external platform.










Show object attributes


- external\_variant\_id







object





\\* Required














Unique numeric identifier of the product variant in external platform.










Show object attributes


- next\_charge\_scheduled\_at







datetime





\\* Required














This will set the charge date of a new Onetime purchase.







Cannot be used with `add_to_next_charge`

- price







string





\\* Required














The price of the product.

- product\_title







string





\\* Required














The name of the product.

- properties







string














List of properties.

- quantity







integer





\\* Required














The quantity of the product.

- sku







string














A unique identifier of the item in the fulfillment.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/onetimes


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/onetimes' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "address_id": 45154492,
  "next_charge_scheduled_at": "2021-12-17",
  "price": 6,
  "product_title": "ABC Shirt",
  "properties": [\
    {\
      "name": "Color",\
      "value": "Blue"\
    },\
    {\
      "name": "Size",\
      "value": "Medium"\
    }\
  ],
  "quantity": 1,
  "external_variant_id": {
      "ecommerce": "3844892483"
  }
}'
```

Response

201


```hljs json
{
  "onetime": {
    "id": 156155818,
    "address_id": 45154492,
    "customer_id": 40565990,
    "created_at": "2021-05-24T19:14:25+00:00",
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",
    "price": "6.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Red"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2021-05-24T19:30:14+00:00",
    "variant_title": "Blue star"
  }
}
```

# Retrieve a onetime

Retrieve a Onetime.

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/onetimes/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/onetimes/16909886' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "onetime": {
    "id": 16909886,
    "address_id": 45154492,
    "created_at": "2021-05-24T19:14:25+00:00",
    "customer_id": 40565990,
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",
    "price": "6.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2021-05-24T19:30:14+00:00",
    "variant_title": "Blue star"
  }
}
```

# Update a onetime

Update an existing `Onetime` item.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer














Unique numeric identifier for the address the `Onetime` Purchase is associated with (cannot be used with `next_charge_scheduled_at`)

- next\_charge\_scheduled\_at







datetime














This will set the charge date of a new `Onetime` purchase.

- price







string














The price of the product.

- product\_title







string














The name of the product.

- properties







array














List of properties.










Show object attributes


- quantity







integer














The quantity of the product.

- external\_variant\_id







object














Unique numeric identifier of the product variant.










Show object attributes


- sku







string














A unique alphanumeric identifier of the item in the fulfillment.

- variant\_title







string














The name of the product variant.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/onetimes/{id}


cURLPythonPHPRuby

```hljs js
curl -x PUT 'https://api.rechargeapps.com/onetimes/16909886' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"quantity": 1}'
```

Response

200


```hljs json
{
  "onetime": {
    "id": 16909886,
    "address_id": 45154492,
    "created_at": "2021-05-24T19:14:25+00:00",
    "customer_id": 40565990,
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",
    "price": "6.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2021-05-24T19:30:14+00:00",
    "variant_title": "Blue star"
  }
}
```

# Delete a onetime

Delete a `Onetime`.

Scopes:
write\_subscriptions


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/onetimes/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/onetimes/16665185' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List onetimes

Returns a list of all `Onetime` products from store.

Scopes:
read\_subscriptions


##### Query Parameters

- address\_id







string














Return the onetimes linked to the given `address_id`.

- address\_ids







string














Return the onetimes linked to the given comma-separated list of `address_ids`.

- created\_at\_max







datetime














Return the onetimes created before the given date.

- created\_at\_min







datetime














Return the onetimes created after the given date.

- customer\_id







string














Return the onetimes linked to the given Recharge `customer_id`.

- include\_cancelled







boolean














If `true` the response will include the cancelled `Onetimes` as well as the others.

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- external\_variant\_id







string














Return the one time purchases linked to the given external platform product `variant_id`.

- updated\_at\_max







datetime














Return the onetimes updated before the given date.

- updated\_at\_min







datetime














Return the onetimes updated after the given date.

- ids







array














Comma-separated list of one time purchase ids to filter.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/onetimes


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/onetimes' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next": "next_cursor",
  "previous": "previous_cursor",
  "onetimes": [\
    {\
      "id": 16909886,\
      "address_id": 45154492,\
      "created_at": "2021-05-24T19:14:25+00:00",\
      "customer_id": 40565990,\
      "external_product_id": {\
        "ecommerce": "4950280863846"\
      },\
      "external_variant_id": {\
        "ecommerce": "32139793137766"\
      },\
      "is_cancelled": false,\
      "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",\
      "price": "6.00",\
      "product_title": "ABC Shirt",\
      "properties": [\
        {\
          "name": "Color",\
          "value": "Blue"\
        }\
      ],\
      "quantity": 1,\
      "sku": "TOM0001",\
      "sku_override": false,\
      "updated_at": "2021-05-24T19:30:14+00:00",\
      "variant_title": "Blue star"\
    }\
  ]
}
```

# Orders

An order is created after a `Charge` is successfully processed. The `Order` contains all the same json data as the `Charge`. In case of a prepaid order creation, the order will be queued for a particular date and submitted on that date to the external platform.

Endpoints

GET

/orders/{id}


POST

/orders/{id}/clone


POST

/orders/{id}/delay


PUT

/orders/{id}


DELETE

/orders/{id}


GET

/orders


Expand

# The order object

##### Attributes

- id







integer














The unique numeric identifier for the order.

- address\_id







integer














The id of the associated `Address` within Recharge.

- billing\_address







object














The billing address at the time the order was created. See `Addresses` for detailed address information.










Show object attributes


- charge







object














An object containing parameters of the `Charge`.










Show object attributes


- client\_details







object














Details of the access method used by the purchase.










Show object attributes


- created\_at







datetime














The date when the order was created.

- currency







string














The currency of the payment used to create the order.

- customer







object














Object that contains information about the `Customer`.










Show object attributes


- discounts







array














An array of `Discounts` associated with the `Order`.










Show object attributes


- external\_cart\_token







string














The cart token as it appears in an external system.

- external\_order\_id







object














An object containing external order ids.










Show object attributes


- external\_order\_number




















An object containing the external order numbers.










Show object attributes


- is\_prepaid







boolean














A boolean representing if this `Order` is generated from a prepaid purchase.

- line\_items







array














A list of `line_item` objects.










Show object attributes


- note







string














Notes associated with the `Order`.

- order\_attributes







array














An array of name value pairs of note attributes on the `Order`.










Show object attributes


- processed\_at







datetime














The date time that the associated charge was processed at.

- scheduled\_at







datetime














The date time of when the associated charge is/was scheduled to process.

- shipping\_address







object














The shipping address where the order will be shipped. See `Addresses` for detailed `Address` information.










Show object attributes


- shipping\_lines







array














An array of shipping lines associated with the order.










Show object attributes


- status







string













Possible values:

success,

error,

queued,

cancelled










The status of creating the `Order`.

- subtotal\_price







string














The subtotal price (sum of all line items \* their quantity) of the order less discounts.

- tags







string














A comma separated list of tags on the `Order`.

- tax\_lines







array














An array of tax lines that apply to the `Order`.










Show object attributes


- taxable







boolean














A boolean indicator of the taxability of the `Order`.

- total\_discounts







string














The total discounted dollar value of the `Order`.

- total\_duties







string














The total cost of duties for the order.

- total\_line\_items\_price







integer














The total price of all line items of the `Order`.

- total\_price







string














The total amount due of the `Order`.

- total\_refunds







string














The total dollar amount of refunds associated with the `Order`.

- total\_tax







string














The total tax due associated with the `Order`.

- total\_weight\_grams







integer














The total weight of the order in grams.

- type







string













Possible values:

checkout,

recurring










An indicator of the order’s type.

- updated\_at







datetime














The date time at which the order was most recently updated.


##### Error related attributes

##### More Attributes

The order object

```hljs json
{
  "order": {
    "id": 70071255,
    "address_id": 4029306,
    "billing_address": {
      "address1": "1933 Manning",
      "address2": "204",
      "city": "los angeles",
      "company": "bootstrap",
      "country_code": "US",
      "first_name": "mike",
      "last_name": "flynn",
      "phone": "3103103101",
      "province": "California",
      "zip": "90025"
    },
    "charge": {
      "id": 97376832,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2018-11-08T08:08:09+00:00",
    "currency": "usd",
    "customer": {
      "id": 12354,
      "email": "example@email.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 123456,\
        "code": "TESTCODE10",\
        "value": "10.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "123496878536413"
    },
    "external_order_number": {
      "ecommerce": "125"
    },
    "hash": "42039120ee0e6cfa5c97805",
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 365974856,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "456123789"\
        },\
        "external_variant_id": {\
          "ecommerce": "4569876413"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2_large.jpeg",\
          "medium": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2_medium.jpeg",\
          "original": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2.jpeg",\
          "small": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2_small.jpeg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "grind",\
            "value": "drip"\
          },\
          {\
            "name": "size",\
            "value": "medium"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 4,\
        "sku": "TOM0001",\
        "tax_due": "3.80",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "unit_price": "0.331",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "unit_price": "0.102",\
            "title": "LA County Tax"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt bundle",\
        "total_price": "43.80",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order #3   - Subscription Recurring Order",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": null,
    "scheduled_at": "2022-11-16T00:00:00+00:00",
    "shipping_address": {
      "address1": "1933 Manning",
      "address2": "204",
      "city": "los angeles",
      "company": "bootstrap",
      "country_code": "US",
      "first_name": "mike",
      "last_name": "flynn",
      "phone": "3103103101",
      "province": "California",
      "zip": "90025"
    },
    "shipping_lines": [\
      {\
        "code": "Standard Shipping",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.360",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "LA County Tax"\
          }\
        ],\
        "title": "Standard Shipping"\
      }\
    ],
    "status": "cancelled",
    "subtotal_price": "40.00",
    "tags": "Prepaid, Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_duties": "0.0",
    "total_line_items_price": "40.00",
    "total_price": "38.22",
    "total_refunds": "0.00",
    "total_tax": "3.32",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-20T13:25:52+00:00"
  }
}
```

# Retrieve an order

Retrieve one `Order` using the Recharge `order_id`.

Scopes:
read\_orders


##### Responses

- 200




















successful response










Show response object



GET

/orders/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/orders/70071255' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "order": {
    "id": 210987092,
    "address_id": 42171447,
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "",
      "city": "Portland",
      "company": "Fake Company Billing",
      "country_code": "US",
      "first_name": "Fake Billing First",
      "last_name": "Fake Billing Last",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "charge": {
      "id": 272382456,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2020-12-17T18:50:25+00:00",
    "currency": "usd",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "27117383938"
    },
    "external_order_number": {
      "ecommerce": "1938"
    },
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "1.30",\
        "title": "Shirt bundle",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": "2020-12-17T18:50:27+00:00",
    "scheduled_at": "2020-12-17T18:50:27+00:00",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_duties": "0.0",
    "total_line_items_price": "10.00",
    "total_price": "14.90",
    "total_refunds": "0.00",
    "total_tax": "10.00",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-17T18:50:27+00:00"
  }
}
```

# Clone an order

You may add additional `Orders` onto a success `Charge` if it has existing prepaid `Orders` by cloning an existing `Order`.

Scopes:
write\_orders


##### Body Parameters

- scheduled\_at







datetime





\\* Required














Date in future when this order will be sent.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/orders/{id}/clone


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/orders/70071255/clone' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"scheduled_at": "2022-11-16"}'
```

Response

201


```hljs json
{
  "order": {
    "id": 210987092,
    "address_id": 42171447,
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "",
      "city": "Portland",
      "company": "Fake Company Billing",
      "country_code": "US",
      "first_name": "Fake Billing First",
      "last_name": "Fake Billing Last",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "charge": {
      "id": 272382456,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2020-12-17T18:50:25+00:00",
    "currency": "usd",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "27117383938"
    },
    "external_order_number": {
      "ecommerce": "1938"
    },
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "1.30",\
        "title": "Shirt bundle",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": "2020-12-17T18:50:27+00:00",
    "scheduled_at": "2020-12-17T18:50:27+00:00",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_duties": "0.0",
    "total_line_items_price": "10.00",
    "total_price": "14.90",
    "total_refunds": "0.00",
    "total_tax": "10.00",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-17T18:50:27+00:00"
  }
}
```

# Delay an order

Delay a prepaid `Order` by one interval

The `id` must be for the next queued `Order` for a prepaid `Subscription`. The `Order` will be delayed by one interval, and all subsequent `Orders` and `Charges` will be shifted by the same amount.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object



POST

/orders/{id}/delay


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/orders/70071255/delay' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "order": {
    "id": 70071255,
    "address_id": 4029306,
    "created_at": "2022-02-04T23:19:52+00:00",
    "currency": "usd",
    "discounts": [],
    "error": null,
    "external_cart_token": null,
    "is_prepaid": true,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "1.30",\
        "title": "Shirt bundle",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": null,
    "order_attributes": [],
    "processed_at": null,
    "scheduled_at": "2023-02-07T05:00:00+00:00",
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "queued",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "0.00",
    "total_duties": "0.0",
    "total_line_items_price": "10.00",
    "total_price": "14.90",
    "total_refunds": "0.00",
    "total_tax": "10.00",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2023-01-05T22:11:46+00:00"
  }
}
```

# Update an order

Updating existing `Order` using the `order_id`.

Scopes:
write\_orders


##### Body Parameters

- billing\_address







object














Billing address details.










Show object attributes


- customer







object














The key values related with customer.










Show object attributes


- line\_items







array














Line item properties can be updated on Prepaid Queued Orders. To change Queued Charges you must change the parent subscription(s) or address.







**Important:** When updating `line_items`, you must provide the entire json block that was in `line_items` before, as the data provided overrides the entire block and only new parameters will remain.










Show object attributes


- external\_order\_id







object














An object containing external order ids.










Show object attributes


- scheduled\_at







datetime














The date when the order will be shipped.

- shipping\_address







object














Shipping address details.










Show object attributes


- status







string













Possible values:

success,

error,

queued,

cancelled










The status of the order


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/orders/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/orders/70071255' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
"billing_address": {
  "city": "Los Angeles",
  "first_name": "mike",
  "last_name": "flynn",
  "zip": "90025"
 }
}'
```

Response

200


```hljs json
{
  "order": {
    "id": 210987092,
    "address_id": 42171447,
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "",
      "city": "Portland",
      "company": "Fake Company Billing",
      "country_code": "US",
      "first_name": "Fake Billing First",
      "last_name": "Fake Billing Last",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "charge": {
      "id": 272382456,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2020-12-17T18:50:25+00:00",
    "currency": "usd",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "27117383938"
    },
    "external_order_number": {
      "ecommerce": "1938"
    },
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.725",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.225",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "0.95",\
        "title": "Shirt bundle",\
        "total_price": "10.95",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": "2020-12-17T18:50:27+00:00",
    "scheduled_at": "2020-12-17T18:50:27+00:00",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.355",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.110",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_line_items_price": "10.00",
    "total_price": "5.37",
    "total_refunds": "0.00",
    "total_tax": "0.47",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-17T18:50:27+00:00"
  }
}
```

# Delete an order

You can delete a scheduled order.

Scopes:
write\_orders


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/orders/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/orders/70071255' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List orders

Returns a list of orders.

## HTTP request examples

`GET /orders`

`GET /orders?customer_id=123`

`GET /orders?address_id=4587216`

`GET /orders?charge_id=45678542`

`GET /orders?created_at_min=2016-05-18&created_at_max=2016-06-18`

Scopes:
read\_orders


##### Query Parameters

- address\_id







string














Filter orders by address.







`GET /orders/?address_id=123` will return all orders for the given `address_id`.

- charge\_id







string














Filter orders by charge.







`GET /orders/?charge_id=123` will return all orders for the given `charge_id`.

- created\_at\_max







datetime














Show orders created before the given date.

- created\_at\_min







datetime














Show orders created after the given date.

- customer\_id







string














Filter orders by customer.







`GET /orders/?customer_id=123` will return all orders for the given `customer_id`

- external\_customer\_id







string














Filter orders by external\_customer\_id.

- external\_order\_id







string














Filter orders by external\_order\_id.

- ids







string














Filter orders by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show. Default is 1.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- scheduled\_at\_max







datetime














Show orders scheduled before the given date.

- scheduled\_at\_min







datetime














Show orders scheduled after the given date.

- has\_external\_order







string














Filter orders with/without external\_order\_id.

- status







string













Possible values:

success,

queued,

error,

refunded,

skipped










Filter orders by status.

- type







string













Possible values:

checkout,

recurring










Filter orders by type.







`GET /api/orders/?type=recurring` will return all orders for the given type.

- purchase\_item\_id







string














Filter orders by subscription or onetime.

- updated\_at\_max







datetime














Show orders updated before the given date.

- updated\_at\_min







datetime














Show orders updated after the given date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/orders


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/orders' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d 'limit=3' -G
```

Response

200


```hljs json
{
  "next": "next_cursor",
  "previous": "previous_cursor",
  "orders": [\
    {\
      "id": 210987092,\
      "address_id": 42171447,\
      "billing_address": {\
        "address1": "601 SW Washing St.",\
        "address2": "",\
        "city": "Portland",\
        "company": "Fake Company Billing",\
        "country_code": "US",\
        "first_name": "Fake Billing First",\
        "last_name": "Fake Billing Last",\
        "phone": "888-888-8888",\
        "province": "Oregon",\
        "zip": "97205"\
      },\
      "charge": {\
        "id": 272382456,\
        "external_transaction_id": {\
          "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"\
        }\
      },\
      "client_details": {\
        "browser_ip": "192.168.0.1",\
        "user_agent": "safari webkit"\
      },\
      "created_at": "2020-12-17T18:50:25+00:00",\
      "currency": "usd",\
      "customer": {\
        "id": 37657002,\
        "email": "test@test.com",\
        "external_customer_id": {\
          "ecommerce": "382028302"\
        },\
        "hash": "7e706455cbd13e40"\
      },\
      "discounts": [\
        {\
          "id": 12345,\
          "code": "TESTCODE10",\
          "value": 10,\
          "value_type": "fixed_amount"\
        }\
      ],\
      "error": null,\
      "external_cart_token": "aeic8101918fs0f8810",\
      "external_order_id": {\
        "ecommerce": "27117383938"\
      },\
      "external_order_number": {\
        "ecommerce": "1938"\
      },\
      "is_prepaid": false,\
      "line_items": [\
        {\
          "purchase_item_id": 63898947,\
          "external_inventory_policy": "decrement_obeying_policy",\
          "external_product_id": {\
            "ecommerce": "4381728735283"\
          },\
          "external_variant_id": {\
            "ecommerce": "999999999999"\
          },\
          "grams": 454,\
          "images": {\
            "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
            "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
            "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
            "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
          },\
          "original_price": "10.00",\
          "properties": [\
            {\
              "name": "Color",\
              "value": "Blue"\
            }\
          ],\
          "purchase_item_type": "subscription",\
          "quantity": 1,\
          "sku": "TOM0001",\
          "tax_lines": [\
            {\
              "price": "0.993",\
              "rate": "0.0725",\
              "title": "CA State Tax",\
              "unit_price": "0.331"\
            },\
            {\
              "price": "0.308",\
              "rate": "0.0225",\
              "title": "LA County Tax",\
              "unit_price": "0.102"\
            }\
          ],\
          "taxable": true,\
          "taxable_amount": "10.00",\
          "tax_due": "1.30",\
          "title": "Shirt bundle",\
          "total_price": "11.30",\
          "unit_price": "10.00",\
          "unit_price_includes_tax": false,\
          "variant_title": "Blue t-shirts"\
        }\
      ],\
      "note": "next order in sequence 3",\
      "order_attributes": [\
        {\
          "name": "subscription_cycle_count_min",\
          "value": "3"\
        }\
      ],\
      "processed_at": "2020-12-17T18:50:27+00:00",\
      "scheduled_at": "2020-12-17T18:50:27+00:00",\
      "shipping_address": {\
        "address1": "1030 Barnum Ave",\
        "address2": "Suite 101",\
        "city": "Stratford",\
        "company": "Fake Company",\
        "country_code": "US",\
        "first_name": "Fake First",\
        "last_name": "Fake Last",\
        "phone": "999-999-9999",\
        "province": "Connecticut",\
        "zip": "06614"\
      },\
      "shipping_lines": [\
        {\
          "code": "Standard",\
          "price": "4.90",\
          "taxable": true,\
          "tax_lines": [\
            {\
              "price": "0.355",\
              "rate": "0.0725",\
              "title": "CA State Tax"\
            },\
            {\
              "price": "0.110",\
              "rate": "0.0225",\
              "title": "Los Angeles County Tax"\
            }\
          ],\
          "title": "Standard"\
        }\
      ],\
      "status": "success",\
      "subtotal_price": "10.00",\
      "tags": "Subscription, Subscription Recurring Order",\
      "tax_lines": [\
        {\
          "price": "0.950",\
          "rate": "0.0725",\
          "title": "CA State Tax"\
        },\
        {\
          "price": "0.335",\
          "rate": "0.0225",\
          "title": "Los Angeles  County Tax"\
        }\
      ],\
      "taxable": true,\
      "total_discounts": "10.00",\
      "total_duties": "0.0",\
      "total_line_items_price": "10.00",\
      "total_price": "14.90",\
      "total_refunds": "0.00",\
      "total_tax": "10.00",\
      "total_weight_grams": 454,\
      "type": "recurring",\
      "updated_at": "2020-12-17T18:50:27+00:00"\
    }\
  ]
}
```

# Payment methods

The `Payment Method` object holds payment and billing information. A `Customer` may be associated with many `Payment Methods`, and an `Addresses` record must be associated with at least one `Payment_method`.

Important - If you see the following error when accessing Payment Methods endpoints: “You do not have sufficient permissions (scopes) for this object”, the token you are using has not been configured with correct access permissions. Update the token to have “Read access” or “Read and Write access” depending on your use case. ![](https://developer.getrecharge.com/images/paymentMethods.png)

Endpoints

POST

/payment\_methods


GET

/payment\_methods/{id}


PUT

/payment\_methods/{id}


DELETE

/payment\_methods/{id}


GET

/payment\_methods


Expand

# The payment method object

The Payment Method object holds payment and billing information. A `Customer` may be associated with many payment methods, and an `Addresses` record must be associated with at least one `Payment Method`.

##### Attributes

- id







integer














The unique payment method id for a customer.

- customer\_id







integer














The Recharge `customer_id`.

- created\_at







datetime














The date and time when the payment method was created.

- default







boolean














If this is the default `Payment_method` for the `Customer`.







`Customer` must have 1 and only 1 default payment `Payment_method`.

- payment\_details







object














Details about the specific payment method







Those details will vary based on the `payment_type`










Show object attributes


- payment\_type







string













Possible values:

CREDIT\_CARD,

PAYPAL,

APPLE\_PAY,

GOOGLE\_PAY,

SEPA\_DEBIT










The type of payment this is.







If passed, must also be accompanied by one of `stripe_customer_token`, `paypal_customer_token` or `authorizedotnet_customer_token` in `processor_payment_method_token`.

- processor\_customer\_token







string














The customer token at the processor.

- processor\_name







string













Possible values:

stripe,

braintree,

authorize,

shopify\_payments,

mollie










This will impact validation on billing\_details.







Currently, `shopify_payments` is in read-only mode and can only be managed by Shopify.

- processor\_payment\_method\_token







string














The payment token at the processor.

- status







string













Possible values:

unvalidated,

valid,

invalid,

empty










State of the `Payment Method`.

- status\_reason







string














The status reason for the payment method.







Often used when `invalid` to provide background details in invalidity.

- updated\_at







datetime














Last time the `Payment_method` was updated.


##### Error related attributes

##### More Attributes

- billing\_address







object














An object with the customer’s address information.










Show object attributes



The payment method object

```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country": "United States",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": 1234
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3ebcBaL6pCx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "retry_date": null,
    "status": null,
    "status_reason": null,
    "taxable": true,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Create a payment method

[BigCommerce](https://developer.getrecharge.com/2021-11#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11#tags_legend)

Create a Payment Method in Recharge.

Scopes:
write\_payment\_methods


##### Body Parameters

- customer\_id







integer





\\* Required














The Recharge `customer_id`.

- default







boolean














If this is the default `Payment Method` for the customer, customer must have 1 and only 1 default `Payment Method`.

- payment\_type







string





\\* Required













Possible values:

CREDIT\_CARD,

PAYPAL,

APPLE\_PAY,

GOOGLE\_PAY,

SEPA\_DEBIT










The type of payment.

- processor\_customer\_token







string





\\* Required














The customer token at the processor.







On Stripe this begins with `cus_`.

- processor\_name







string





\\* Required













Possible values:

stripe,

braintree,

authorize,

shopify\_payments,

mollie










This will impact validation on billing\_details.







Currently, `shopify_payments` is in read-only mode and can only be managed by Shopify.

- processor\_payment\_method\_token







string














The payment token at the processor.


##### More Parameters

- billing\_address







object














An object with the customer’s address information.










Show object attributes


- retry\_charges







boolean














Whether charges associated with this payment method should be retried. If `true` then charges with previous payment-related errors will be set to retry during the next automated processing.


##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/payment\_methods


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/payment_methods' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "customer_id": 62824147,
  "default": true,
  "payment_type": "CREDIT_CARD",
  "processor_customer_token": "cus_JGYtLWi2HS8ymD",
  "processor_name": "stripe",
  "processor_payment_method_token": "pm_34jdshjs"
}'
```

Response

201


```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": "1234"
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3457BaL90Cx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "status": null,
    "status_reason": null,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Retrieve a payment method

Retrieve an existing `Payment Method` using the Recharge `Payment Method` `id`.

Scopes:
read\_payment\_methods


##### Responses

- 200




















successful response










Show response object



GET

/payment\_methods/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/payment_methods/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": "1234"
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3457BaL90Cx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "status": null,
    "status_reason": null,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Update a payment method

[BigCommerce](https://developer.getrecharge.com/2021-11#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11#tags_legend)

Modify an existing `Payment Method`.

Scopes:
write\_payment\_methods


##### Body Parameters

- default







boolean














If this is the default `Payment Method` for the `Customer`.







`Customer` must have 1 and only 1 default payment `Payment_method`.

- processor\_name







string













Possible values:

stripe,

braintree,

authorize,

shopify\_payments,

mollie










This will impact validation on billing\_details.







Currently, `shopify_payments` is in read-only mode and can only be managed by Shopify.

- billing\_address







object














An object with the customer’s address information.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/payment\_methods/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/payment_methods/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"default": true}'
```

Response

200


```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": "1234"
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3457BaL90Cx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "status": null,
    "status_reason": null,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Delete a payment method

[BigCommerce](https://developer.getrecharge.com/2021-11#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11#tags_legend)

Permanently delete a `Payment Method`.

Scopes:
write\_payment\_methods


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/payment\_methods/{id}


cURLPythonPHPRuby

```hljs js
curl --X DELETE 'https://api.rechargeapps.com/payment_methods/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List payment methods

Return a list of payment methods in your store.

## HTTP request examples

`GET /payment_methods`

Scopes:
read\_payment\_methods


##### Query Parameters

- customer\_id







string














Gets all `Payment methods` for this customer.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/payment\_methods


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/payment_methods' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "payment_methods": [\
    {\
      "id": 1234567,\
      "billing_address": {\
        "address1": "123 Washington Street",\
        "address2": "Suite 101",\
        "city": "Los Angeles",\
        "company_name": "Acme Corp",\
        "country_code": "US",\
        "name": "Jane Doe",\
        "phone": "1234567890",\
        "province": "California",\
        "zip": "90210"\
      },\
      "created_at": "2018-11-14T09:00:01",\
      "customer_id": 999123999,\
      "default": true,\
      "payment_details": [\
        {\
          "brand": "visa",\
          "exp_month": 12,\
          "exp_year": 2021,\
          "last4": 1234\
        }\
      ],\
      "payment_type": "CREDIT_CARD",\
      "processor_customer_token": "cus_AB3ebcBaL6pCx9",\
      "processor_name": "stripe",\
      "processor_payment_method_token": "pm_123123",\
      "updated_at": "2018-11-14T09:00:01"\
    }\
  ]
}
```

# Plans

The `Plans` resource is used to create and configure the transactional options for the `Product` (subscription, prepaid, and onetime purchase options) in Recharge. ![](https://developer.getrecharge.com/images/plan.png)

Endpoints

POST

/plans


PUT

/plans/{id}


DELETE

/plans/{id}


GET

/plans


POST

/products/{external\_product\_id}/plans-bulk


PUT

/products/{external\_product\_id}/plans-bulk


DELETE

/products/{external\_product\_id}/plans-bulk


Expand

# The plan object

The `Plan` object is used to create and configure the transactional options for the `Products` in Recharge.

Current transactional options are: subscription, prepaid and onetime.

**Important -** Updating/modifying plans in 2021-11 will impact /products in 2021-01. **These are not cross compatible.** Proceed with caution.

##### Attributes

- id







integer














Unique numeric identifier for the `Plan`.

- channel\_settings







object














An object containing the availability of the plan through various supported channels.










Show object attributes


- created\_at







datetime














The time the plan was created.

- deleted\_at







datetime














If deleted, the time the plan was deleted.

- discount\_amount







string














The discount amount applied to the product `price` when purchased through this `Plan`.







All `Plans` for a product must have the same discount amount.

- discount\_type







string













Possible values:

percentage










Used in combination with discount amount to determine the discount applied on a product price when purchased through this `Plan`.

- external\_plan\_group\_id







string














The id of the selling plan group as it appears in external platforms.

- external\_plan\_id







string














The id of the selling plan as it appears in external platforms.

- external\_plan\_name







string














The name of the selling plan as it appears in external platforms.

- external\_product\_id







object














An object containing the product id as it appears in external platforms.










Show object attributes


- external\_variant\_ids







array














An array of variant ids as they appear in external platforms.

- has\_variant\_restrictions







boolean













Default: false










Whether this plan applies to specific variants of the product

- sort\_order







integer














The number indicating the order which the plan will be in a list of related plans.

- subscription\_preferences







object














An object containing the various subscription preferences associated with this plan.










Show object attributes


- title







string














The title of the plan.







All `Plans` for a product must have the same `title`.

- type







string













Possible values:

subscription,

prepaid,

onetime










The type of the plan.







Products with a `prepaid` plan cannot have plans of other types.

- updated\_at







datetime














The time the plan was last updated.


##### Error related attributes

##### More Attributes

The plan object

```hljs json
{
  "plan": {
    "id": 88237,
    "channel_settings": {
      "api": {
        "display": true
      },
      "checkout_page": {
        "display": true
      },
      "customer_portal": {
        "display": true
      },
      "merchant_portal": {
        "display": true
      }
    },
    "created_at": "2021-07-27T19:07:34+00:00",
    "deleted_at": null,
    "discount_amount": "30.00",
    "discount_type": "percentage",
    "external_plan_group_id": "77695091010",
    "external_plan_id": "690103779650",
    "external_plan_name": "1 week subscription",
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "external_variant_ids": [],
    "has_variant_restrictions": false,
    "sort_order": 1,
    "subscription_preferences": {
      "apply_cutoff_date_to_checkout": false,
      "charge_interval_frequency": 30,
      "cutoff_day_of_month": null,
      "cutoff_day_of_week": null,
      "expire_after_specific_number_of_charges": null,
      "interval_unit": "day",
      "order_day_of_month": 1,
      "order_day_of_week": null,
      "order_interval_frequency": 30
    },
    "title": "Jarred Pickles",
    "type": "subscription",
    "updated_at": "2021-07-27T19:07:34+00:00"
  }
}
```

# Create a plan

Create a `Plan` for a `Product` in Recharge.

Multiple `Plans` may exist for any `Product`, see the `Plan` object for restrictions.

Scopes:
write\_products


##### Body Parameters

- channel\_settings







string














An object containing the availability of the plan through various supported channels.










Show object attributes


- discount\_amount







string














The discount amount applied to the product price when purchased through this plan. All plans for a product must have the same discount amount.







All `Plans` for a product must have the same discount amount.

- discount\_type







string













Possible values:

percentage










Used in combination with discount amount to determine the discount applied on a product price when purchased through this plan. (accepts: percentage)

- external\_product\_id







object





\\* Required














An object containing the product id as it appears in external platforms.










Show object attributes


- sort\_order







integer














The number indicating the order which the plan will be in a list of related plans.

- subscription\_preferences







object





\\* Required














An object containing the various subscription preferences associated with this plan.










Show object attributes


- title







string





\\* Required














The title of the plan.







All `Plans` for a product must have the same `title`.

- type







string





\\* Required













Possible values:

subscription,

prepaid,

onetime










The type of the plan. Products with a prepaid plan cannot have plans of other types.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/plans


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/plans' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "discount_amount": "10",
    "discount_type": "percentage",
    "external_product_id": {
        "ecommerce": "2103271587891"
    },
    "sort_order": 1,
    "subscription_preferences": {
        "charge_interval_frequency": 30,
        "expire_after_specific_number_of_charges": 6,
        "interval_unit": "day",
        "order_day_of_month": 1,
        "order_interval_frequency": 30
    }
    "title": "Concert T-Shirt",
    "type": "subscription",
}'
```

Response

200


```hljs json
{
  "plan": {
    "id": 88237,
    "channel_settings": {
      "api": {
        "display": true
      },
      "checkout_page": {
        "display": true
      },
      "customer_portal": {
        "display": true
      },
      "merchant_portal": {
        "display": true
      }
    },
    "created_at": "2021-07-27T19:07:34+00:00",
    "deleted_at": null,
    "discount_amount": "10",
    "discount_type": "percentage",
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "sort_order": 1,
    "subscription_preferences": {
      "charge_interval_frequency": 30,
      "cutoff_day_of_month": null,
      "cutoff_day_of_week": null,
      "expire_after_specific_number_of_charges": 6,
      "interval_unit": "day",
      "order_day_of_month": 1,
      "order_day_of_week": null,
      "order_interval_frequency": 30
    },
    "title": "Concert TShirt",
    "type": "subscription",
    "updated_at": "2021-07-27T19:07:34+00:00"
  }
}
```

# Update a plan

Update an existing Plan.

Scopes:
write\_products


##### Body Parameters

- channel\_settings







object














An object containing the availability of the plan through various supported channels.










Show object attributes


- discount\_amount







string














The discount amount applied to the product price when purchased through this plan. All plans for a product must have the same discount amount.







All `Plans` for a product must have the same discount amount.

- discount\_type







string













Possible values:

percentage










Used in combination with discount amount to determine the discount applied on a product price when purchased through this plan.

- external\_product\_id







object














An object containing the product id as it appears in external platforms.










Show object attributes


- sort\_order







string














The number indicating the order which the plan will be in a list of related plans.

- subscription\_preferences







object














An object containing the various subscription preferences associated with this plan.










Show object attributes


- title







string














The title of the plan.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/plans/{id}


cURLPythonPHPRuby

```hljs js
curl -x PUT 'https://api.rechargeapps.com/plans/16909886' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"discount_amount": "12.0","title": "Concert T-Shirt"}'
```

Response

200


```hljs json
{
  "plan": {
    "id": 88237,
    "channel_settings": {
      "api": {
        "display": true
      },
      "checkout_page": {
        "display": true
      },
      "customer_portal": {
        "display": true
      },
      "merchant_portal": {
        "display": true
      }
    },
    "created_at": "2021-07-27T19:07:34+00:00",
    "deleted_at": null,
    "discount_amount": "10",
    "discount_type": "percentage",
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "sort_order": 1,
    "subscription_preferences": {
      "charge_interval_frequency": 30,
      "cutoff_day_of_month": null,
      "cutoff_day_of_week": null,
      "expire_after_specific_number_of_charges": 6,
      "interval_unit": "day",
      "order_day_of_month": 1,
      "order_day_of_week": null,
      "order_interval_frequency": 30
    },
    "title": "Concert TShirt",
    "type": "subscription",
    "updated_at": "2021-07-27T19:07:34+00:00"
  }
}
```

# Delete a plan

Delete a plan.

Scopes:
write\_products


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/plans/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/plans/321654' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List plans

Returns a list of all plans from `Store`.

Scopes:
read\_products


##### Query Parameters

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- external\_product\_id







string














Return the `Plans` linked to the `Product` record in Recharge with the indicated `external_product_id`

- ids







string














Filter plans by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- updated\_at\_max







datetime














Return the plans updated before the given date.

- updated\_at\_min







datetime














Return the plans updated after the given date.

- type







string













Possible values:

subscription,

prepaid,

onetime










Return the plans that are of a specific type.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/plans


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/plans' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "plans": [\
    {\
      "id": 88237,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "deleted_at": null,\
      "discount_amount": null,\
      "discount_type": null,\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 1,\
      "subscription_preferences": {\
        "charge_interval_frequency": 30,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": null,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_day_of_week": null,\
        "order_interval_frequency": 30\
      },\
      "title": "Jarred Pickles",\
      "type": "subscription",\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    }\
  ]
}
```

# Bulk create plans

Bulk create new plans.

**There is a limit of 20 plans per request.**

Scopes:
write\_products


##### Body Parameters

- plans







array





\\* Required














An array of plans to be created.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/products/{external\_product\_id}/plans-bulk


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products/2103271587891/plans-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "plans": [\
        {\
            "discount_amount": "10",\
            "discount_type": "percentage",\
            "sort_order": 1,\
            "title": "Concert T-Shirt",\
            "type": "subscription",\
            "subscription_preferences": {\
                "charge_interval_frequency": 30,\
                "expire_after_specific_number_of_charges": 6,\
                "interval_unit": "day",\
                "order_day_of_month": 1,\
                "order_interval_frequency": 30\
            }\
        },\
        {\
            "discount_amount": "10",\
            "discount_type": "percentage",\
            "sort_order": 2,\
            "title": "Concert T-Shirt",\
            "type": "subscription",\
            "subscription_preferences": {\
                "charge_interval_frequency": 60,\
                "expire_after_specific_number_of_charges": 6,\
                "interval_unit": "day",\
                "order_day_of_month": 1,\
                "order_interval_frequency": 60\
            }\
        }\
    ]
 }'
```

Response

200


```hljs json
{
  "plans": [\
    {\
      "id": 88237,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 1,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 30,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 30\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    },\
    {\
      "id": 88238,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 2,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 60,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 60\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    }\
  ]
}
```

# Bulk update plans

Bulk update existing plans.

**There is a limit of 20 plans per request.**

Scopes:
write\_products


##### Body Parameters

- plans







array





\\* Required














An array of plans to be updated. Must provide ID for each plan.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/products/{external\_product\_id}/plans-bulk


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/products/2103271587891/plans-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "plans": [\
        {\
            "id": 88237,\
            "title": "Updated T-Shirt"\
        },\
        {\
            "id": 88238,\
            "title": "Updated T-Shirt"\
        }\
    ]
 }'
```

Response

200


```hljs json
{
  "plans": [\
    {\
      "id": 88237,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 1,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 30,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 30\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    },\
    {\
      "id": 88238,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 2,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 60,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 60\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    }\
  ]
}
```

# Bulk delete plans

Bulk delete existing plans.

**There is a limit of 20 plans per request.**

Scopes:
write\_products


##### Body Parameters

- plans







array





\\* Required














An array of plans to be deleted. Must provide ID for each plan.










Show object attributes



##### More Parameters

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/products/{external\_product\_id}/plans-bulk


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/products/2103271587891/plans-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "plans": [\
        {\
            "id": 88237\
        },\
        {\
            "id": 88238\
        }\
    ]
 }'
```

Response

204


```hljs json
{}
```

# Products

[Custom](https://developer.getrecharge.com/2021-11#tags_legend)

Representation of the Products from your catalog in Recharge. ![](https://developer.getrecharge.com/images/product.png)

Endpoints

POST

/products


GET

/products/{external\_product\_id}


PUT

/products/{external\_product\_id}


DELETE

/products/{external\_product\_id}


GET

/products


Expand

# The product object

##### Attributes

- external\_product\_id







string














Unique numeric identifier of the product record in Recharge. The primary id of the record.

- brand







string














The brand name of the product.

- external\_created\_at







datetime














The date and time at which the product was created in an external product catalog.

- external\_updated\_at







datetime














The date and time at which the product was updated in an external product catalog.

- images







array














An array of urls for various sizes of image files.










Show object attributes


- options




















An array of options for the product record, such as size, color, etc.










Show object attributes


- published\_at







datetime














The datetime at which the product became available for purchase. To make the product available, this should be set in the past.

- requires\_shipping







boolean














Indicator of shipping requirement.







Dictates the default for the variants. Can be overriden at the variant level.

- title







string














The title of the product.

- variants







array














An array of variants of the product.







If your PIM does not use variants, create a single variant product.










Show object attributes


- vendor







string














The vendor of the product.


##### Error related attributes

##### More Attributes

The product object

```hljs json
{
  "brand": "Recharge",
  "description": "A cotton shirt with the Recharge logo",
  "external_created_at": "2021-01-01T00:00:00+00:00",
  "external_product_id": "5",
  "external_updated_at": "2021-01-01T00:00:00+00:00",
  "images": [\
    {\
      "small": "https:...",\
      "medium": "https:...",\
      "large": "https:...",\
      "original": "https:...",\
      "sort_order": 2\
    }\
  ],
  "options": [\
    {\
      "name": "Size",\
      "position": 0,\
      "values": [\
        {\
          "label": "small",\
          "position": 0\
        },\
        {\
          "label": "medium",\
          "position": 1\
        },\
        {\
          "label": "large",\
          "position": 2\
        }\
      ]\
    }\
  ],
  "published_at": "2021-01-01:00:00+00:00",
  "requires_shipping": true,
  "title": "Recharge Logo Shirt",
  "variants": [\
    {\
      "external_variant_id": " 9",\
      "dimensions": {\
        "weight": 1234.5\
      },\
      "image": {\
        "small": "https:....jpeg",\
        "medium": "https:....jpeg",\
        "large": "https:....jpeg",\
        "original": "https:....jpeg"\
      },\
      "option_values": [\
        {\
          "label": "small"\
        }\
      ],\
      "requires_shipping": true,\
      "sku": "CLO123",\
      "title": "Recharge Logo Shirt - Small",\
      "taxable": true,\
      "tax_code": "CLOTHING",\
      "prices": {\
        "compare_at_price": "14.22",\
        "unit_price": "12.22"\
      }\
    }\
  ],
  "vendor": "Recharge Apparel Store"
}
```

# Create a product

[Custom](https://developer.getrecharge.com/2021-11#tags_legend)

Create a new product in your Recharge Product Catalog. After adding the record, subscription preferences may be added using the Products page of Recharge Admin Portal or you can use the `Plans` resource currently in `Alpha`.

Scopes:
write\_products


##### Body Parameters

- external\_product\_id







object





\\* Required














Unique numeric identifier of the product record in Recharge. The primary id of the record.










Show object attributes


- brand







string














The brand name of the product.

- external\_created\_at







datetime














The date and time at which the product was created in an external product catalog.

- external\_updated\_at







datetime














The date and time at which the product was updated in an external product catalog.

- images







array














An array of urls for various sizes of image files.







`small` is the default picture shown on the checkout. If `small` is not present we render `original`. Please note for better rendering we advise you populate `small`.










Show object attributes


- options











\\* Required














An array of options for the product record, such as size, color, etc.










Show object attributes


- published\_at







datetime














The date and time at which the product became available for purchase. To make the product available, this should be set in the past.

- requires\_shipping







string














Indicator of shipping requirement. If `true` the product associated to the variant needs to be shipped.







This is usually false for digital goods.

- title







string





\\* Required














The title of the product.

- variants







array





\\* Required














An array of variants of the product.







If your PIM does not use variants, create a single variant product.










Show object attributes


- vendor







string





\\* Required














The vendor of the product.


##### More Parameters

##### Responses

- 202




















successful response










Show response object



POST

/products


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products' \
 -H 'X-Recharge-Version: 2021-11'
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "external_product_id": "10",
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "images": [\
        {\
            "small": "https:...",\
            "medium": "https:...",\
            "large": "https:...",\
            "original": "https:...",\
            "sort_order": 2\
        }\
    ],
    "options": [\
        {\
            "name": "Size",\
            "position": 0,\
            "values": [\
                {"label": "small", "position": 0},\
                {"label": "medium", "position": 1},\
                {"label": "large", "position": 2}\
            ]\
        }\
    ],
    "published_at": "2021-01-01:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
        {\
            "external_variant_id": "9",\
            "dimensions": {\
                "weight": 1234.5\
            },\
            "image": {\
              "small": "https:...",\
              "medium": "https:...",\
              "large": "https:...",\
              "original": "https:..."\
            },\
            "option_values": [\
                {\
                    "label": "small"\
                }\
            ],\
            "sku": "CLO123",\
            "title": "Recharge Logo Shirt - Small",\
            "taxable": true,\
            "tax_code": "CLOTHING",\
            "prices": {\
                "compare_at_price": "14.22",\
                "unit_price": "12.22"\
            }\
        }\
    ],
    "vendor": "Recharge Apparel Store"
}'
```

Response

202


```hljs json
{
  "product": {
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "external_created_at": "2021-01-01T00:00:00+00:00",
    "external_product_id": "10",
    "external_updated_at": "2021-01-01T00:00:00+00:00",
    "images": [\
      {\
        "large": "https:...",\
        "medium": "https:...",\
        "original": "https:...",\
        "small": "https:...",\
        "sort_order": 2\
      }\
    ],
    "options": [\
      {\
        "name": "Size",\
        "position": 0,\
        "values": [\
          {\
            "label": "small",\
            "position": 0\
          },\
          {\
            "label": "medium",\
            "position": 1\
          },\
          {\
            "label": "large",\
            "position": 2\
          }\
        ]\
      }\
    ],
    "published_at": "2021-01-01T00:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
      {\
        "dimensions": {\
          "weight": 1234.5,\
          "weight_unit": "lb"\
        },\
        "external_variant_id": "9",\
        "image": {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:..."\
        },\
        "option_values": [\
          {\
            "label": "small"\
          }\
        ],\
        "prices": {\
          "compare_at_price": "14.22",\
          "unit_price": "12.22"\
        },\
        "sku": "CLO123",\
        "tax_code": "CLOTHING",\
        "taxable": true,\
        "title": "Recharge Logo Shirt - Small",\
        "requires_shipping": true\
      }\
    ],
    "vendor": "Recharge Apparel Store"
  }
}
```

# Retrieve a product

[Custom](https://developer.getrecharge.com/2021-11#tags_legend)

Retrieves a `Product` from store’s product catalog using the `external_product_id` as lookup id.

Scopes:
read\_products


##### Responses

- 200




















successful response










Show response object



GET

/products/{external\_product\_id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products/10' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "product": {
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "external_created_at": "2021-01-01T00:00:00+00:00",
    "external_product_id": "10",
    "external_updated_at": "2021-01-01T00:00:00+00:00",
    "images": [\
      {\
        "large": "https:...",\
        "medium": "https:...",\
        "original": "https:...",\
        "small": "https:...",\
        "sort_order": 2\
      }\
    ],
    "options": [\
      {\
        "name": "Size",\
        "position": 0,\
        "values": [\
          {\
            "label": "small",\
            "position": 0\
          },\
          {\
            "label": "medium",\
            "position": 1\
          },\
          {\
            "label": "large",\
            "position": 2\
          }\
        ]\
      }\
    ],
    "published_at": "2021-01-01T00:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
      {\
        "dimensions": {\
          "weight": 1234.5,\
          "weight_unit": "lb"\
        },\
        "external_variant_id": "9",\
        "image": {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:..."\
        },\
        "option_values": [\
          {\
            "label": "small"\
          }\
        ],\
        "prices": {\
          "compare_at_price": "14.22",\
          "unit_price": "12.22"\
        },\
        "sku": "CLO123",\
        "tax_code": "CLOTHING",\
        "taxable": true,\
        "title": "Recharge Logo Shirt - Small",\
        "requires_shipping": true\
      }\
    ],
    "vendor": "Recharge Apparel Store"
  }
}
```

# Update a product

[Custom](https://developer.getrecharge.com/2021-11#tags_legend)

Update an existing product.

Scopes:
write\_products


##### Body Parameters

- brand







string














The brand name of the product.

- external\_created\_at







datetime














The date and time at which the product was created in an external product catalog.

- external\_updated\_at







datetime














The date and time at which the product was updated in an external product catalog.

- images







array














An array of urls for various sizes of image files.










Show object attributes


- options




















An array of options for the product record, such as size, color, etc.










Show object attributes


- published\_at







datetime














The datetime at which the product became available for purchase. To make the product available, this should be set in the past.

- requires\_shipping







boolean














Indicator of shipping requirement. If `true` the product associated to the variant needs to be shipped.







This is usually `false` for digital goods.

- title







string














The title of the product.

- variants







array














An array of variants of the product.







If your PIM does not use variants, create a single variant product.










Show object attributes


- vendor







string














The vendor of the product.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/products/{external\_product\_id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/products/1327844' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "brand": "Recharge",
    "variants": [\
        {\
            "external_variant_id": "101",\
            "dimensions": {\
                "weight": 1234.5\
            },\
            "image": {\
              "small": "https:...",\
              "medium": "https:...",\
              "large": "https:...",\
              "original": "https:..."\
            },\
            "option_values": [{\
              "label": "small"\
            }],\
            "sku": "CLO123",\
            "title": "Small Recharge Logo Shirt",\
            "taxable": true,\
            "tax_code": "CLOTHING",\
            "prices": {\
                "compare_at_price": "14.22",\
                "unit_price": "12.22"\
            }\
        },\
        {\
            "external_variant_id": "102",\
            "dimensions": {\
                "weight": 1234.5\
            },\
            "image": {\
              "small": "https:...",\
              "medium": "https:...",\
              "large": "https:...",\
              "original": "https:..."\
            },\
            "option_values": [{\
              "label": "medium"\
            }],\
            "sku": "CLO124",\
            "title": "Medium Recharge Logo Shirt",\
            "taxable": true,\
            "tax_code": "CLOTHING",\
            "prices": {\
                "compare_at_price": "14.22",\
                "unit_price": "12.22"\
            }\
        }\
    ]
}'
```

Response

200


```hljs json
{
  "product": {
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "external_created_at": "2021-01-01T00:00:00+00:00",
    "external_product_id": "10",
    "external_updated_at": "2021-01-01T00:00:00+00:00",
    "images": [\
      {\
        "large": "https:...",\
        "medium": "https:...",\
        "original": "https:...",\
        "small": "https:...",\
        "sort_order": 2\
      }\
    ],
    "options": [\
      {\
        "name": "Size",\
        "position": 0,\
        "values": [\
          {\
            "label": "small",\
            "position": 0\
          },\
          {\
            "label": "medium",\
            "position": 1\
          },\
          {\
            "label": "large",\
            "position": 2\
          }\
        ]\
      }\
    ],
    "published_at": "2021-01-01T00:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
      {\
        "dimensions": {\
          "weight": 1234.5,\
          "weight_unit": "lb"\
        },\
        "external_variant_id": "9",\
        "image": {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:..."\
        },\
        "option_values": [\
          {\
            "label": "small"\
          }\
        ],\
        "prices": {\
          "compare_at_price": "14.22",\
          "unit_price": "12.22"\
        },\
        "sku": "CLO123",\
        "tax_code": "CLOTHING",\
        "taxable": true,\
        "title": "Recharge Logo Shirt - Small",\
        "requires_shipping": true\
      }\
    ],
    "vendor": "Recharge Apparel Store"
  }
}
```

# Delete a product

[Custom](https://developer.getrecharge.com/2021-11#tags_legend)

Delete product from `Store`.

Scopes:
write\_products


##### Responses

- 204




















successful response










Show response object



DELETE

/products/{external\_product\_id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/products/509780' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List products

[Custom](https://developer.getrecharge.com/2021-11#tags_legend)

List products from store’s product catalog.

Scopes:
read\_products


##### Query Parameters

- external\_product\_ids







string














Filter products by external product ids.







`GET /products/?external_product_ids=123,223` will return all products with the associated `external_product_ids`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/products


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "products": [\
    {\
      "brand": "Recharge",\
      "description": "A cotton shirt with the Recharge logo",\
      "external_created_at": null,\
      "external_product_id": "10",\
      "external_updated_at": "2021-07-21T17:25:46+00:00",\
      "images": [\
        {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:...",\
          "sort_order": 2\
        }\
      ],\
      "options": [\
        {\
          "name": "Size",\
          "position": 0,\
          "values": [\
            {\
              "label": "small",\
              "position": 0\
            },\
            {\
              "label": "medium",\
              "position": 1\
            },\
            {\
              "label": "large",\
              "position": 2\
            }\
          ]\
        }\
      ],\
      "published_at": "2021-01-01T00:00:00+00:00",\
      "requires_shipping": true,\
      "title": "Recharge Logo Shirt",\
      "variants": [\
        {\
          "dimensions": {\
            "weight": 1234.5,\
            "weight_unit": "lb"\
          },\
          "external_variant_id": "101",\
          "image": {\
            "large": "https:...",\
            "medium": "https:...",\
            "original": "https:...",\
            "small": "https:..."\
          },\
          "option_values": [\
            {\
              "label": "small"\
            }\
          ],\
          "prices": {\
            "compare_at_price": "14.22",\
            "unit_price": "12.22"\
          },\
          "sku": "CLO123",\
          "tax_code": "CLOTHING",\
          "taxable": true,\
          "title": "Small Recharge Logo Shirt",\
          "requires_shipping": true\
        },\
        {\
          "dimensions": {\
            "weight": 1234.5,\
            "weight_unit": "lb"\
          },\
          "external_variant_id": "102",\
          "image": {\
            "large": "https:...",\
            "medium": "https:...",\
            "original": "https:...",\
            "small": "https:..."\
          },\
          "option_values": [\
            {\
              "label": "medium"\
            }\
          ],\
          "prices": {\
            "compare_at_price": "14.22",\
            "unit_price": "12.22"\
          },\
          "sku": "CLO124",\
          "tax_code": "CLOTHING",\
          "taxable": true,\
          "title": "Medium Recharge Logo Shirt",\
          "requires_shipping": true\
        }\
      ],\
      "vendor": "Recharge Apparel Store"\
    }\
  ]
}
```

# Retention Strategies

Retention Strategies are customer retention workflows that are used to win back customers who are in the process of canceling their subscription. The workflow is determined by the cancellation reason selected by the customer.

Endpoints

POST

/retention\_strategies


GET

/retention\_strategies/{id}


PUT

/retention\_strategies/{id}


DELETE

/retention\_strategies/{id}


GET

/retention\_strategies


Expand

# The retention strategy object

The `RetentionStrategy` object holds a cancellation reason and an optional customer retention workflow. Possible retention workflows include delaying a shipment, skipping a shipment, swapping a product, and offering a discount.

##### Attributes

- id







integer














Unique numeric identifier for the `RetentionStrategy`.

- cancellation\_flow\_type







string













Possible values:

subscription,

membership










The type of `PurchaseItem` that the retention strategy applies to. The default value is “subscription”.

- created\_at







datetime














The date and time the `RetentionStrategy` was created.

- discount\_code







string














Discount code to offer customer when used with an `incentive_type` of `discount`.

- incentive\_type







string













Possible values:

delay\_subscription,

discount,

skip\_charge,

swap\_product










Type of incentive to offer customer.

- prevention\_text







string














A short phrase or question to ask for more details or to provide an alternative to canceling.

- reason







string














The reason for canceling.

- updated\_at







datetime














The date and time the `RetentionStrategy` was last updated.


##### Error related attributes

##### More Attributes

The retention strategy object

```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "created_at": "2021-07-31T20:45:00+00:00",
    "discount_code": null,
    "incentive_type": "swap_product",
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "updated_at": "2021-07-31T20:45:00+00:00"
  }
}
```

# Create a retention strategy

Create a retention strategy

Scopes:
write\_retention\_strategies


##### Body Parameters

- cancellation\_flow\_type







string













Possible values:

subscription,

membership










The type of `PurchaseItem` that the retention strategy applies to. The default value is “subscription”.

- incentive\_type







string













Possible values:

delay\_subscription,

discount,

skip\_charge,

swap\_product










Type of incentive to offer customer.

- discount\_code







string














Discount code to offer customer when used with an `incentive_type` of `discount`.







This field is required when `incentive_type` is set to `discount`.

- prevention\_text







string





\\* Required














A short phrase or question to ask for more details or to provide an alternative to canceling.

- reason







string





\\* Required














The reason for canceling.


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/retention\_strategies


cURLPythonPHPRuby

```hljs js
curl -X POST -i 'https://api.rechargeapps.com/retention_strategies' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -d '{
  "incentive_type": "swap_product",
  "prevention_text": "Would you like to swap the product out for another item?",
  "reason": "I want a different product or variety"
}'
```

Response

201


```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "incentive_type": "swap_product",
    "discount_code": null,
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "created_at": "2021-07-31T20:45:00+00:00",
    "updated_at": "2021-10-30T07:14:21+00:00"
  }
}
```

# Retrieve a retention strategy

Retrieve a retention strategy using the Recharge `retention_strategy_id`.

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/retention\_strategies/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/retention_strategies/12345' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "incentive_type": "swap_product",
    "discount_code": null,
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "created_at": "2021-07-31T20:45:00+00:00",
    "updated_at": "2021-07-31T20:45:00+00:00"
  }
}
```

# Update a retention strategy

Update an existing retention strategy.

Scopes:
write\_retention\_strategies


##### Body Parameters

- cancellation\_flow\_type







string













Possible values:

subscription,

membership










The type of `PurchaseItem` that the retention strategy applies to. The default value is “subscription”.

- incentive\_type







string













Possible values:

delay\_subscription,

discount,

skip\_charge,

swap\_product










Type of incentive to offer customer.

- discount\_code







string














Discount code to offer customer when used with an `incentive_type` of `discount`.







This field is required when `incentive_type` is set to `discount`.

- prevention\_text







string














A short phrase or question to ask for more details or to provide an alternative to canceling.

- reason







string














The reason for canceling.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/retention\_strategies/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/retention_strategies/12345' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"reason": "I want a different product or variety"}'
```

Response

200


```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "incentive_type": "swap_product",
    "discount_code": null,
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "created_at": "2021-07-31T20:45:00+00:00",
    "updated_at": "2021-07-31T20:45:00+00:00"
  }
}
```

# Delete a retention strategy

Delete a retention strategy.

Scopes:
write\_retention\_strategies


##### Responses

- 204




















successful response










Show response object



DELETE

/retention\_strategies/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/retention_strategies/12345' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List retention strategies

Retrieve all retention strategies

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/retention\_strategies


cURLPythonPHPRuby

```hljs js
curl -X GET -i 'https://api.rechargeapps.com/retention_strategies' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json"
```

Response

200


```hljs json
{
  "retention_strategies": [\
    {\
      "id": 12347,\
      "cancellation_flow_type": "subscription",\
      "incentive_type": null,\
      "discount_code": null,\
      "prevention_text": "Would you care to provide any additional details?",\
      "reason": "This was created by accident",\
      "created_at": "2021-11-09T16:00:00+00:00",\
      "updated_at": "2021-11-09T16:00:00+00:00"\
    },\
    {\
      "id": 12346,\
      "cancellation_flow_type": "subscription",\
      "incentive_type": "skip_charge",\
      "discount_code": null,\
      "prevention_text": "If you have more than you need, we can skip your upcoming order.",\
      "reason": "I already have more than I need",\
      "created_at": "2021-10-30T07:14:21+00:00",\
      "updated_at": "2021-10-30T07:14:21+00:00"\
    },\
    {\
      "id": 12345,\
      "cancellation_flow_type": "subscription",\
      "incentive_type": "swap_product",\
      "discount_code": null,\
      "prevention_text": "Would you like to swap the product out for another item?",\
      "reason": "I want a different product or variety",\
      "created_at": "2021-07-31T20:45:00+00:00",\
      "updated_at": "2021-07-31T20:45:00+00:00"\
    }\
  ]
}
```

# Store

The store endpoint includes ReCharge settings and other store specific information.

Endpoints

GET

/store


Expand

# The store object

The store endpoint includes Recharge settings and other store specific information.

##### Attributes

- id







integer














Unique number identifier of the store.

- checkout\_logo\_url







string














Checkout logo url.

- checkout\_platform







string














Checkout platform.

- created\_at







datetime














Date and time when the store is created.

- currency







string














Currency of the store.







Related guides: [Supported currencies](https://support.rechargepayments.com/hc/en-us/articles/360037897534-Supported-currencies)

- customer\_portal\_base\_url







string














Customer Portal Base URL.

- default\_api\_version







integer














Default API version.

- email







string














E-mail address of the store owner.

- enabled\_presentment\_currencies







array














Enabled currencies the store sells in.

- enabled\_presentment\_currencies\_symbols







array














Currency symbol used for enabled currencies the store sells in.










Show object attributes


- disabled\_currencies\_historical







array














A ledger of currencies that the store no longer sells in. If a currency is present in both the enabled\_presentment\_currencies and disabled\_currencies\_historical ledger it is because it was disabled at one point in time but is now enabled.

- external\_platform







string














External platform connected to Recharge.







Will be one of `shopify`, `big_commerce`, `headless`, or `magento`

- identifier







string














Unique identifier of the store on the external platform.

- merchant\_portal\_base\_url







string














Merchant portal base URL.

- name







string














Name of the store.

- phone







string














Phone number of the store owner.

- timezone







object














Timezone of the store.










Show object attributes


- updated\_at







datetime














The date and time when the address was last updated.

- weight\_unit







string














Weight unit for the store.


##### Error related attributes

##### More Attributes

The store object

```hljs json
{
  "store": {
    "id": 89559201,
    "checkout_logo_url": null,
    "checkout_platform": "recharge",
    "created_at": "2020-07-15T00:00:00+00:00",
    "currency": "USD",
    "customer_portal_base_url": null,
    "default_api_version": "2021-01",
    "email": "email@email.com",
    "external_platform": "shopify",
    "identifier": "store-id",
    "merchant_portal_base_url": null,
    "name": "store-name",
    "phone": "5555555555",
    "enabled_presentment_currencies": [\
      "USD"\
    ],
    "enabled_presentment_currencies_symbols": [\
      {\
        "currency": "USD",\
        "location": "before",\
        "suffix": "",\
        "symbol": "$"\
      }\
    ],
    "disabled_currencies_historical": [],
    "timezone": {
      "iana_name": "America/New_York",
      "name": "(GMT-05:00) Eastern Time (US & Canada)"
    },
    "updated_at": "2020-07-15T00:00:00+00:00",
    "weight_unit": "g"
  }
}
```

# Retrieve a store

Retrieve store details.

Scopes:
read\_store


##### Responses

- 200




















successful response










Show response object



GET

/store


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/store' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "store": {
    "id": 4797,
    "checkout_logo_url": null,
    "checkout_platform": "recharge",
    "created_at": "2020-04-22T00:20:52+00:00",
    "currency": "USD",
    "customer_portal_base_url": null,
    "default_api_version": "2021-01",
    "email": "email@email.com",
    "enabled_presentment_currencies": [\
      "USD"\
    ],
    "enabled_presentment_currencies_symbols": [\
      {\
        "currency": "USD",\
        "location": "before",\
        "suffix": "",\
        "symbol": "$"\
      }\
    ],
    "disabled_currencies_historical": [],
    "external_platform": "custom",
    "identifier": "store-id",
    "merchant_portal_base_url": null,
    "name": "store-name",
    "province": "Connecticut",
    "phone": "5555555555",
    "timezone": {
      "iana_name": "America/New_York",
      "name": "(GMT-05:00) Eastern Time (US & Canada)"
    },
    "updated_at": "2020-04-25T00:20:52+00:00",
    "weight_unit": "g"
  }
}
```

# Subscriptions

Subscriptions are individual items a customer receives on a recurring basis.

A `Subscription` is a `Product` added to an `Address`. ![](https://developer.getrecharge.com/images/subscription.png)

Endpoints

POST

/subscriptions


GET

/subscriptions/{id}


PUT

/subscriptions/{id}


DELETE

/subscriptions/{id}


GET

/subscriptions


POST

/subscriptions/{id}/set\_next\_charge\_date


POST

/subscriptions/{id}/change\_address


POST

/subscriptions/{id}/cancel


POST

/subscriptions/{id}/activate


POST

/subscriptions/skip\_gift


Expand

# The subscription object

Subscriptions are individual items a customer benefit from on a recurring basis.

These fields are deprecated, however they will not be removed from this API version.

`product_title` is deprecated. Use `title` instead.

`shipping_date` is deprecated. Use `scheduled_at` instead.

`shopify_id` is deprecated. Use `shopify_order_id` instead.

`address_is_active` is deprecated. Please ignore, not an applicable field.

##### Attributes

- id







integer














Unique numeric identifier for the subscription.

- address\_id







integer














Unique numeric identifier for the address the subscription is associated with.

- customer\_id







integer














Unique numeric identifier for the customer the subscription is tied to.

- analytics\_data







object














An object used to contain analytics data such as utm parameters.










Show object attributes


- cancellation\_reason







string














Reason provided for cancellation.

- cancellation\_reason\_comments







string














Additional comment for cancellation. Maximum length is 1024 characters.

- cancelled\_at







datetime














The time the subscription was cancelled.

- charge\_interval\_frequency







string













Max: 1000










The number of units (specified in `order_interval_unit`) between each `Charge`. For example, `order_interval_unit=month` and `charge_interval_frequency=3`, indicate charge every 3 months.







`Charges` must use the same unit types as orders.

- created\_at







datetime














The time the subscription was created.

- expire\_after\_specific\_number\_of\_charges







integer














Set the number of charges until subscription expires.

- external\_product\_id







object














An object containing the product id as it appears in external platforms.










Show object attributes


- external\_variant\_id







object














An object containing the variant id as it appears in external platforms.










Show object attributes


- has\_queued\_charges







boolean














Retrieves `true` if there is queued charge. Otherwise, retrieves `false`.

- is\_prepaid







boolean














Value is set to `true` if it is a prepaid item.

- is\_skippable







boolean














Value is set to `true` if it is not a prepaid item

- is\_swappable







boolean














Value is set to `true` if it is not a prepaid item and if in Customer portal settings swap is allowed for customers.

- max\_retries\_reached







boolean














Retrieves `true` if charge has an error max retries reached. Otherwise, retrieves `false`.

- next\_charge\_scheduled\_at







datetime














Date of the next charge for the subscription.

- order\_day\_of\_month







integer














The set day of the month order is created. Default is that there isn’t a strict day of the month when the order is created.







This is only applicable to subscriptions with `order_interval_unit:“month”`.

- order\_day\_of\_week







integer














The set day of the week order is created. Default is that there isn’t a strict day of the week order is created.







This is only applicable to subscriptions with `order_interval_unit = “week”`.

Value of 0 equals to Monday, 1 to Tuesday etc.

- order\_interval\_frequency







integer













Max: 1000










The number of units (specified in `order_interval_unit`) between each order. For example, order\_interval\_unit=month and order\_interval\_frequency=3, indicate order every 3 months. Max value: 1000

- order\_interval\_unit







string













Possible values:

day,

week,

month










The frequency unit used to determine when a subscription’s order is created.

- presentment\_currency







string














The presentment currency of the subscription.

- price







string














The price of the item before discounts, taxes, or shipping have been applied.

- product\_title







string














The name of the product in a store’s catalog.

- properties







array














A list of line item objects, each one containing information about the subscription. Custom key-value pairs can be installed here, they will appear on the connected queued charge and after it is processed on the order itself.










Show object attributes


- quantity







integer














The number of items in the subscription.

- sku







string














A unique identifier of the item in the fulfillment. In cases where SKU is blank, it will be dynamically pulled whenever it is used.

- sku\_override







boolean














Flag that is automatically updated to `true` when SKU is passed on create or update. When `sku_override` is `true`, the SKU on the subscription will be used to generate charges and orders. When `sku_override` is `false`, Recharge will dynamically fetch the SKU from the corresponding external platform variant.

- status







string













Possible values:

active,

cancelled,

expired










The status of the subscription.







`EXPIRED` \- This status occurs when the maximum number of charges for a product has been reached.

- updated\_at







datetime














The date time at which the purchase\_item record was last updated.

- variant\_title







string














The name of the variant in a shop’s catalog.


##### Error related attributes

##### More Attributes

The subscription object

```hljs json
{
  "subscription": {
    "id": 89559201,
    "address_id": 48563471,
    "customer_id": 43845860,
    "analytics_data": {
      "utm_params": []
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": "30",
    "created_at": "2021-02-25T21:27:19+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "external_variant_id": {
      "ecommerce": "18261278883891"
    },
    "has_queued_charges": true,
    "is_prepaid": true,
    "is_skippable": false,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2020-07-15",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 15,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": 5,
    "product_title": "Powder Milk 50.00% Off Auto renew",
    "properties": [\
      {\
        "name": "Colour",\
        "value": "White"\
      },\
      {\
        "name": "Package Material",\
        "value": "Paper"\
      }\
    ],
    "quantity": 3,
    "sku": null,
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-07-10T10:30:51+00:00",
    "variant_title": "1 / Powder"
  }
}
```

# Create a subscription

When creating a subscription via API, `order_interval_frequency` and `charge_interval_frequency` values do not necessarily need to match the values set in the respective `Plans`. The product, however, does need to have at least one `Plan` in order to be added to a subscription.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer





\\* Required














Unique numeric identifier of the customer’s address.

- charge\_interval\_frequency







integer





\\* Required














The number of units, specified in `order_interval_unit`, between each charge.

- expire\_after\_specific\_number\_of\_charges







integer














The number of charges until the subscription expires.

- next\_charge\_scheduled\_at







datetime





\\* Required














This will set the first charge date of a new subscription.

- order\_day\_of\_month







integer














This is populated when order\_interval\_unit has value “month”. Default value is 0.

- order\_day\_of\_week







integer














This is populated when order\_interval\_unit has value “week”.

- order\_interval\_frequency







integer





\\* Required














The number of units, specified in order\_interval\_unit, between each order.

- order\_interval\_unit







string





\\* Required













Possible values:

day,

week,

month










The frequency unit used to determine when a subscription order is created.

- plan\_id







integer














A Recharge Plan id that provides interval information. Automatically fills the following properties from the plan if they were not provided directly: charge\_interval\_frequency, expire\_after\_specific\_number\_of\_charges, order\_day\_of\_month, order\_day\_of\_week, order\_interval\_frequency, order\_interval\_unit.

- price







string














The price of the product.

- product\_title







string














The name of the product.

- properties







array














A list of key/value pairs representing properties of the subscription.










Show object attributes


- quantity







integer





\\* Required














The quantity of the product.

- external\_product\_id







object














Unique numeric identifier of the product id.










Show object attributes


- external\_variant\_id







object





\\* Required














Unique numeric identifier of the product variant id.










Show object attributes


- status







string













Possible values:

active,

cancelled,

expired










Default is set to `active`.


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/subscriptions


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "address_id": 48563471,
  "charge_interval_frequency": "30",
  "next_charge_scheduled_at": "2021-12-17",
  "order_interval_frequency": "30",
  "order_interval_unit": "day",
  "properties": [\
    {\
      "name": "Colour",\
      "value": "Yellow"\
    },\
    {\
      "name": "Bottle Material",\
      "value": "Glass"\
    }\
  ],
  "external_variant_id": {
    "ecommerce": "32165284380775"
  },
  "quantity": 3
}'
```

Response

201


```hljs json
{
  "subscription": {
    "id": 63898947,
    "address_id": 48563471,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 30,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32165284380775"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-12-17",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 30,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Retrieve a subscription

Retrieve a subscription using the Recharge `subscription_id`.

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/subscriptions/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 63898947,
    "address_id": 48563471,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 30,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32165284380775"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-12-17",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 30,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Update a subscription

Update an existing subscription.

Updating parameters like `frequency`, `charge_interval_frequency`, `order_interval_frequency`, `order_interval_unit` will cause our algorithm to automatically recalculate the next charge date ( `next_charge_scheduled_at`). If you want to change the next charge date ( `next_charge_scheduled_at`) we recommend you to update these parameters first.

When updating subscription `status` attribute from `cancelled` to `active`, following attributes will be set to null: `cancelled_at`, `cancellation_reason` and `cancellation_reason_comments`

When updating `order_interval_unit` OR `order_interval_frequency` OR `charge_interval_frequency` all three parameters are required.

Scopes:
write\_subscriptions


##### Query Parameters

- commit







boolean














Controls whether the `QUEUED` charges linked to the subscription should be regenerated upon subscription update. By default the flag is set to `false` which will delay charge regeneration 5 seconds. This enables running multiple calls to perform changes and receive responses much faster since the API won’t wait for a charge regeneration to complete. Setting this parameter to `true` will cause charge regeneration to complete before returning a response.

- force\_update







boolean














If set to `True`, updates will also be applied to `CANCELLED` subscriptions. If `null` or `False`, only `ACTIVE` subscriptions will be updated.


##### More Parameters

##### Body Parameters

- charge\_interval\_frequency







integer













Max: 1000










The number of units (specified in order\_interval\_unit) between each charge. Required when updating order\_interval\_unit.



WARNING: This update will remove skipped and manually changed charges.

- expire\_after\_specific\_number\_of\_charges







integer














The number of charges until subscription expires.

- external\_variant\_id







object














Unique number identifier of the product variant in your external platform.










Show object attributes


- order\_day\_of\_month







string














The day of the month the order is created on.



WARNING: this update will remove skips and manually changed charges.

- order\_day\_of\_week







string














The day of the week the order is created on.



WARNING: this update will remove skips and manually changed charges.

- order\_interval\_frequency







string














The number of units (specified in order\_interval\_unit) between each order. Required when updating order\_interval\_unit.



WARNING: This update will remove skipped and manually changed charges.

- order\_interval\_unit







string













Possible values:

day,

week,

month










The frequency unit used to determine when a subscription order is created.



WARNING: This update will remove skipped and manually changed charges.

- plan\_id







integer














A Recharge Plan id that provides interval information. Automatically fills the following properties from the plan if they were not provided directly: charge\_interval\_frequency, expire\_after\_specific\_number\_of\_charges, order\_day\_of\_month, order\_day\_of\_week, order\_interval\_frequency, order\_interval\_unit.

- price







string














The price of the item before discounts, taxes, or shipping has been applied.

- product\_title







string














The name of the product.

- properties







array














A list of key/value pairs representing properties of the subscription.










Show object attributes


- quantity







string














The number of items in the subscription.

- sku







string














A unique identifier of the item in the fulfillment.

- sku\_override







boolean














Flag is automatically updated to `true` when SKU is passed on create or update. When `sku_override` is `true`, the SKU on the subscription will be used to generate charges and orders.

When `sku_override` is `false`, Recharge will dynamically fetch the sku from the corresponding external platform variant.

- use\_external\_variant\_defaults







boolean














Flag instructing to pull the `price` from the product variant passed.







You need to pass the variant\_id under `external_variant_id.ecommerce` and set this attribute to `true` in the request for the flag to work.

- variant\_title







string














The name of the product variant.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/subscriptions/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/subscriptions/27363808' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "quantity": 4
}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 63898947,
    "address_id": 48563471,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 30,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32165284380775"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-12-17",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 30,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Delete a subscription

We now have a feature for deleting a subscription.

Scopes:
write\_subscriptions


##### Body Parameters

- send\_email







boolean














When your store setting indicates that cancellation emails should be sent, this value determines if the email should be sent for the specified subscription cancellation.







If set to `true`, cancellation emails will be sent for the specified subscription cancellations. If set to `false`, cancellation emails will not be sent.


##### More Parameters

##### Responses

- 204




















successful response










Show response object



DELETE

/subscriptions/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/subscriptions/27363808' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List subscriptions

Returns a list of all your subscriptions.

## HTTP request examples

`GET /subscriptions`

`GET /subscriptions?created_at_min=2018-10-10&created_at_max=2019-10-16`

`GET /subscriptions?customer_id=<customer_id>`

Scopes:
read\_subscriptions


##### Query Parameters

- address\_id







string














Return the subscriptions linked to the given `address_id`.







Not compatible with `address_ids`.

- address\_ids







string














Return the subscriptions linked to the given `address_ids`.







Accepts a comma separated list of address\_ids as value.

Not compatible with `address_id`

- created\_at\_max







string














Return the subscriptions created before the given date.

- created\_at\_min







string














Return the subscriptions created after the given date.

- cursor







string














Return either the next or previous page of subscriptions using `next_cursor` or `previous_cursor` attributes in the response.

- customer\_id







string














Return the subscriptions linked to the given Recharge customer id.

- external\_variant\_id







string














Return the subscriptions linked to the given external\_variant\_id

- ids







string














Comma-separated list of `subscription_ids` to filter

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- status







string













Possible values:

active,

cancelled,

expired










Return the subscriptions with specified status.

- updated\_at\_max







string














Return the subscriptions updated before the given date.

- updated\_at\_min







string














Return the subscriptions updated after the given date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/subscriptions


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": "next_cursor",
  "previous_cursor": "previous_cursor",
  "subscriptions": [\
    {\
      "id": 63898947,\
      "address_id": 42171447,\
      "customer_id": 37657002,\
      "analytics_data": {\
        "utm_params": {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      },\
      "cancellation_reason": null,\
      "cancellation_reason_comments": null,\
      "cancelled_at": null,\
      "charge_interval_frequency": 1,\
      "created_at": "2020-02-19T17:40:09+00:00",\
      "expire_after_specific_number_of_charges": 5,\
      "external_product_id": {\
        "ecommerce": "4381728735283"\
      },\
      "external_variant_id": {\
        "ecommerce": "32165284380775"\
      },\
      "has_queued_charges": false,\
      "is_prepaid": false,\
      "is_skippable": true,\
      "is_swappable": false,\
      "max_retries_reached": false,\
      "next_charge_scheduled_at": "2021-12-17",\
      "order_day_of_month": null,\
      "order_day_of_week": null,\
      "order_interval_frequency": 1,\
      "order_interval_unit": "month",\
      "presentment_currency": "USD",\
      "price": "10.00",\
      "product_title": "ABC Shirt",\
      "properties": [\
        {\
          "name": "Color",\
          "value": "Blue"\
        },\
        {\
          "name": "Size",\
          "value": "Large"\
        }\
      ],\
      "quantity": 1,\
      "sku": "TOM0001",\
      "sku_override": false,\
      "status": "active",\
      "updated_at": "2020-02-19T17:40:10+00:00",\
      "variant_title": "Blue star"\
    }\
  ]
}
```

# Change a subscription next charge date

Update an existing subscription’s next charge date.

If there are two active subscriptions with the same `address_id`, and you update their `next_charge_date` parameters to match, their charges will get merged into a new charge with a new `id`

Scopes:
write\_subscriptions


##### Body Parameters

- date







string





\\* Required














The next charge date desired.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/set\_next\_charge\_date


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/set_next_charge_date' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"date": "2021-08-05"}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Change a subscription address

New

Update an existing subscription’s address.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer





\\* Required














Unique id of the address that need to be associated with subscription.

- next\_charge\_scheduled\_at







string














The next charge date desired.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/change\_address


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/change_address' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -d '{"address_id": 23397943}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Cancel a subscription

Cancel an active subscription.

An involuntary subscription cancelled due to max retries reached will trigger the charge/max\_retries\_reached webhook.

Scopes:
write\_subscriptions


##### Body Parameters

- cancellation\_reason







string





\\* Required














Reason for subscription cancellation.

- cancellation\_reason\_comments







string














Cancellation reason comment. Maximum length is 1024 characters.

- send\_email







boolean














If set to `false`, subscription cancelled email will not be sent to customer and store owner. Note: even if set to True, there are some conditions where an email will not be sent. They are: inactive subscription\_cancellation email template, customer or subscription was created on the same day, subscription is for a membership, email already sent for this subscription in the last 24 hours, customer has other active subscriptions or onetimes


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/cancel


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/cancel' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"cancellation_reason": "other reason"}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Activate a subscription

Activate a cancelled subscription.

When activating subscription, following attributes will be set to null: `cancelled_at`, `cancellation_reason` and `cancellation_reason_comments`.

Scopes:
write\_subscriptions


##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/activate


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/activate' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Gift a skipped subscription

Gift a skipped `Subscription` to a recipient.

Scopes:
write\_subscriptions


##### Body Parameters

- purchase\_item\_ids







array





\\* Required














A list containing the `Subscription` IDs to be skipped.

- recipient\_address







object





\\* Required














An object that contains information associated with the giftee’s Address










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 422




















invalid data passed to the endpoint










Show response object



POST

/subscriptions/skip\_gift


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/skip_gift' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"recipient_address": {
  "address1": "1776 Washington Street",
  "address2": "",
  "city": "Los Angeles",
  "company": "Recharge",
  "country_code": "US",
  "first_name": "John",
  "last_name": "Doe",
 "phone": "5551234567",
 "province": "California",
  "zip": "90404", "email": "fake@example.com"
 },
"purchase_item_ids": [27363808, 27363809]}'
```

Response

200

422


```hljs json
{
  "onetimes": [\
    {\
      "id": 16909886,\
      "address_id": 45154492,\
      "created_at": "2021-05-24T19:14:25+00:00",\
      "customer_id": 40565990,\
      "external_product_id": {\
        "ecommerce": "4950280863846"\
      },\
      "external_variant_id": {\
        "ecommerce": "32139793137766"\
      },\
      "is_cancelled": false,\
      "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",\
      "price": "6.00",\
      "product_title": "ABC Shirt",\
      "properties": [\
        {\
          "name": "Color",\
          "value": "Blue"\
        }\
      ],\
      "quantity": 1,\
      "sku": "TOM0001",\
      "sku_override": false,\
      "updated_at": "2021-05-24T19:30:14+00:00",\
      "variant_title": "Blue star"\
    }\
  ]
}
```

# Webhook endpoints

Webhooks are a mechanism for reacting to specific events that are triggered in the Recharge system.

For example, a checkout completion, a customer activation or subscription cancellation. Webhooks will deliver you the data of the specific event in real-time. This data can be used to custom code logic behind automated subscription management, dashboards creation, discounts applying…

When a webhook is triggered, the payload will be identical to the payload you would receive from another API endpoint.

For example, a webhook on subscription/created will be identical to the payload for retrieving a subscription by ID from the Recharge API.

There are a lot of things that can be done via Webhooks: It can be used to collect all kinds of data from our API and then create a custom Dashboard to show how much and when your customers are buying in real time, or use all this data to do Analytics of some kind in order to create a better customer experience. Webhooks can be used as a “Trigger” on your backend to update subscription products.

If you have some kind of a Subscription where you want to change the Product that the customer gets every month, you can do it by waiting for an order/created webhook on your backend, and when it fires you can make an API call to change the Product of that subscription or the next shipping date, etc.

## Retries / Idempotency

Due to webhook retries, it’s possible that your application receives the same webhook more than once. Ensure idempotency of the webhook call by detecting such duplicates within your application.

## Respond to a webhook

Your webhook acknowledges that it received data by sending a `200` OK response. Any response outside of the `200` range will let Recharge know that you didn’t receive your webhook. Recharge has implemented a 5 second time-out period. We wait 5 seconds, if our system doesn’t get a response in that period we consider that request as failed. Our system will try 20 times to send the same webhook over the next 2 days, if the request fails every time our system will delete this webhook. At this moment our system is logging those deleted webhooks.

Endpoints

POST

/webhooks


GET

/webhooks/{id}


PUT

/webhooks/{id}


DELETE

/webhooks/{id}


GET

/webhooks


POST

/webhooks/{id}/test


Expand

# The Webhook object

Please note that the store domain header has changed to X-Recharge-External-Platform-Domain

Related guides:
[Extending webhook responses](https://developer.rechargepayments.com/2021-11/extending_responses)

These topics are deprecated, however they will not be removed from this API version: `checkout/completed`.

##### Attributes

- id







integer














Unique numeric identifier for the webhook.

- address







string














The URI where the webhook should send the `POST` request when the event occurs.

- included\_objects







array













Possible values:

addresses,

collections,

customer,

metafields










List of objects set to enrich the webhook payload. cf. [extending responses](https://developer.rechargepayments.com/2021-11/extending_responses)

- topic







string














The event that will trigger the webhook.

- version







string














The version of the API used to populate the body of the webhook. If not set, this will default to the store’s default API version.


##### Error related attributes

##### More Attributes

The Webhook object

```hljs json
{
  "webhook": {
    "id": 19451,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-11"
  }
}
```

# Available webhooks

The list of all available webhooks.

Related guides: [Webhook payload examples](https://docs.rechargepayments.com/docs/webhook-payload-examples)

| Object | Topics | Scope Required |
| --- | --- | --- |
| `Address` | `address/created` `address/updated` | read\_customers |
| `Async_batch` | `async_batch/processed` | read\_batches |
| `BundleSelection` | `bundle_selection/created` `bundle_selection/updated` `bundle_selection/deleted` | read\_subscriptions |
| `Customer` | `customer/activated` `customer/created` `customer/deactivated` `customer/payment_method_updated` `customer/updated` `customer/deleted` | read\_customers |
| `Charge` | `charge/created` `charge/failed` `charge/max_retries_reached` `charge/paid` `charge/refunded` `charge/uncaptured` `charge/upcoming` `charge/updated` `charge/deleted` | read\_orders |
| `Checkout` | `checkout/created` `checkout/completed` `checkout/processed` `checkout/updated`<br> Note: Deprecated and not available for the Shopify integration with Shopify hosted Checkout (aka SCI) | read\_orders |
| `Onetime` | `onetime/created` `onetime/deleted` `onetime/updated` | read\_subscriptions |
| `Order` | `order/cancelled` `order/created` `order/deleted` `order/processed` `order/payment_captured` `order/upcoming` `order/updated` `order/success` | read\_orders |
| `Plan` | `plan/created` `plan/deleted` `plan/updated` | read\_products |
| `Subscription` | `subscription/activated` `subscription/cancelled` `subscription/created` `subscription/deleted` `subscription/skipped` `subscription/updated` `subscription/unskipped` `subscription/swapped` `subscription/paused` | read\_subscriptions |
| `Store` | `store/updated` | read\_store |
| `Recharge` | `recharge/uninstalled` | store\_info |

# Create a webhook

Create a webhook. Currently, only the API can be used to create a webhook.

To register a webhook endpoint for a specific object, you will need to have read permissions for that object on your Recharge API token. For example, if you want to register a webhook for subscription/created, you will need the `read_subscriptions` permissions.

Each API token can register a maximum of 10 webhooks of the same topic.

Related guides: [Webhook payload examples](https://docs.rechargepayments.com/docs/webhook-payload-examples)

Related guides:
[Extending webhook responses](https://developer.rechargepayments.com/2021-11/extending_responses)

##### Body Parameters

- address







integer





\\* Required














The URI where the webhook should send the `POST` request when the event occurs.

- included\_objects







array













Possible values:

addresses,

collections,

customer,

metafields










List of objects set to enrich the webhook payload. cf. [extending responses](https://developer.rechargepayments.com/2021-11/extending_responses)

- topic







integer





\\* Required














The event that will trigger the webhook.

- version







string














The version of the API used to populate the body of the webhook. If not set, this will default to the store’s default API version.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/webhooks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X POST 'https://api.rechargeapps.com/webhooks' \
 --data '{"address": "https://request.in/foo", "topic": "subscription/created"}'
```

Response

200


```hljs json
{
  "webhook": {
    "id": 6,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-01"
  }
}
```

# Retrieve a webhook

Retrieve a webhook using the Recharge webhook id.

##### Responses

- 200




















successful response










Show response object



GET

/webhooks/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X GET https://api.rechargeapps.com/webhooks/19451
```

Response

200


```hljs json
{
  "webhook": {
    "id": 6,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-01"
  }
}
```

# Update a webhook

Modifies an existing `Webhook` to match the specified parameters.

Related guides:
[Extending webhook responses](https://developer.rechargepayments.com/2021-11/extending_responses)

##### Body Parameters

- address







string














The URI where the webhook should send the POST request when the event occurs.

- included\_objects







array













Possible values:

addresses,

collections,

customer,

metafields










List of objects set to enrich the webhook payload. cf. [extending responses](https://developer.rechargepayments.com/2021-11/extending_responses)

- topic







string














The event that will trigger the webhook.

- version







string














The version of the API used to populate the body of the webhook.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/webhooks/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X PUT 'https://api.rechargeapps.com/webhooks/958' \
 --data '{"address": "https://request.in/foo"}'
```

Response

200


```hljs json
{
  "webhook": {
    "id": 6,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-01"
  }
}
```

# Delete a webhook

Delete a `Webhook`

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/webhooks/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X DELETE 'https://api.rechargeapps.com/webhooks/958'
```

Response

204


```hljs json
{}
```

# List webhooks

Returns all the webhooks of the given store that are owned by the current requesting client (note that a a private token shows all of the store’s webhooks, an integration token only shows that integration’s webhooks).

##### Responses

- 200




















successful response










Show response object



GET

/webhooks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X GET 'https://api.rechargeapps.com/webhooks'
```

Response

200


```hljs json
{
  "webhooks": [\
    {\
      "id": 19451,\
      "address": "https://request.in/foo",\
      "topic": "subscription/created",\
      "version": "2021-11"\
    },\
    {\
      "id": 19453,\
      "address": "https://request.in/foo",\
      "topic": "subscription/cancelled",\
      "version": "2021-11"\
    }\
  ]
}
```

# Test webhooks

In order to test webhook connectivity, you can trigger the dispatch of a test webhook with our webhook test endpoint. Sending a POST request to the webhook endpoint containing a webhook id will dispatch an empty webhook body to the specified webhook’s destination url.

##### Responses

- 200




















successful response










Show response object



POST

/webhooks/{id}/test


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 --data '{}'
 -X POST https://api.rechargeapps.com/webhooks/<webhook_id>/test
```

Response

200


```hljs json
{}
```

# Webhooks explained

Here you will find what specific action triggers a given webhook.

## Address webhooks

To use these webhooks your API Token must have read permissions for `Customers` enabled ( `read_customer` ).

| Topic | Explanation |
| --- | --- |
| `address/created` | This will trigger when you create an address via API, or when you go through the checkout with a particular address for the first time with the same customer. |
| `address/updated` | This will trigger when you update an address via API, or when you update the address via UI. It will also trigger whenever a subscription has been activated or cancelled. |

## Bundle webhooks

To use these webhooks your API Token must have read permissions for `Subscriptions` enabled ( `read_subscriptions` ).

| Topic | Explanation |
| --- | --- |
| `bundle_selection/created` | This will trigger when a new selection is created for a Bundle subscription. |
| `bundle_selection/updated` | This will trigger when a Bundle Selection is succesfully updated. |
| `bundle_selection/deleted` | This will trigger when a Bundle Selection is deleted. |

## Charge webhooks

To use these webhooks your API Token must have read permissions for `Orders` enabled ( `read_orders` ).

| Topic | Explanation |
| --- | --- |
| `charge/created` | This will trigger when a charge is created. |
| `charge/failed` | This will trigger every time we try to process a charge and it fails due to various reasons (insufficient funds, invalid CC info, expired CC, etc.) on both API and UI. |
| `charge/max_retries_reached` | This will trigger after we attempt to process a charge 8 times, and it failed every time due to various CC issues. This can be triggered on both UI (manually retry a charge 8 times and fail) and API. |
| `charge/paid` | This will trigger when a charge is successfully processed, both manually via UI and automatic recurring charge. This will not trigger on the checkout itself. |
| `charge/refunded` | This will trigger when a charge is successfully refunded, either partially or in full. It will fire if a charge has been refunded both manually via UI and through an API request. |
| `charge/upcoming` | This will trigger X days before the upcoming charge is scheduled. The default is 3 days but your store specific setting can be verified on the Notification Settings page in the description of the Upcoming charge customer notification. |
| `charge/updated` | This will trigger when applying a discount, a change to charge that recalculates shipping rates as well as if next\_charge\_date is updated on charge endpoint charges/<charge\_id>/change\_next\_charge\_date. |
| `charge/deleted` | This will trigger when a subscription is cancelled and upcoming charges are deleted. |

## Checkout webhooks

To use these webhooks your API Token must have read permissions for `Orders` enabled ( `read-orders` ).

| Topic | Explanation |
| --- | --- |
| `checkout/created` | This will trigger when a checkout is successfully created. |
| `checkout/completed` | Will be deprecated. |
| `checkout/processed` | This will trigger when a checkout is successfully processed. |
| `checkout/updated` | This will trigger when a checkout is successfully updated. |

## Customer webhooks

To use these webhooks your API Token must have read permissions for `Customers` enabled ( `read_customers` ).

| Topic | Explanation |
| --- | --- |
| `customer/activated` | This will trigger when you activate\* a customer <br> \\* activating means that you have added a subscription to a customer who didn’t have an active subscription previously. |
| `customer/created` | This will trigger when you create a customer via API or go through the checkout with a particular email address for a first time customer. |
| `customer/deactivated` | This will trigger when the last subscription a customer had expires, so he no longer has ANY active subscriptions (which means there are no QUEUED charges/orders for this customer). |
| `customer/payment_method_updated` | This will trigger only\* when you update the payment\_token from the UI <br> \\* We are working on triggering this when you do the update from the API as well. |
| `customer/updated` | This will trigger when you update a customer via both API and UI. |
| `customer/deleted` | This will trigger when you delete a customer via both API and UI. |

## Onetime webhooks

To use these webhooks your API Token must have read permissions for `Subscriptions` enabled ( `read_subscriptions` ).

| Topic | Explanation |
| --- | --- |
| `onetime/created` | This will trigger when you create a one time product via API. |
| `onetime/deleted` | This will trigger when you delete a one time product via API. |
| `onetime/updated` | This will trigger when you update a one time product via API. |

## Order webhooks

To use these webhooks your API Token must have read permissions for `Orders` enabled ( `read_orders` ).

| Topic | Explanation |
| --- | --- |
| `order/created` | This will trigger when an order is created (when a charge is successfully processed) <br> \\* In case of prepaid Orders the order/created webhooks will be fired for each prepaid order that is created. This occurs on the date the order is scheduled at. |
| `order/deleted` | This will trigger when an order is deleted. |
| `order/processed` | This will trigger when the order is processed (when an order goes from status `queued` to status `success`). This will not trigger on checkout. |
| `order/upcoming` | This will trigger X days before a QUEUED (prepaid) order is scheduled to be processed. The default is 3 days. |
| `order/updated` | This will trigger when an order is updated. |

## Plan webhooks

To use these webhooks your API Token must have read permissions for `Products` enabled ( `read_products` ).

| Topic | Explanation |
| --- | --- |
| `plan/created` | This will trigger when a plan is created by one of the following methods: via API, via Merchant portal or when using the `2021-01` `Products` endpoint. |
| `plan/deleted` | This will trigger when a plan is deleted by one of the following methods: via API, via Merchant portal or when using the `2021-01` `Products` endpoint. |
| `plan/updated` | This will trigger when a plan is updated by one of the following methods: via API, via Merchant portal or when using the `2021-01` `Products` endpoint… |

## Subscription webhooks

To use these webhooks your API Token must have read permissions for `Subscriptions` enabled ( `read_subscriptions` ).

| Topic | Explanation |
| --- | --- |
| `subscription/activated` | This will trigger when you activate a subscription via API or UI. |
| `subscription/cancelled` | This will trigger when you cancel a subscription via API or UI. An involuntary subscription cancelled due to max retries reached will only trigger the charge/max\_retries\_reached webhook and not the subscription/cancelled webhook. |
| `subscription/created` | This will trigger when you create a subscription via API or when you go through the checkout on UI. |
| `subscription/deleted` | This will trigger when you delete a subscription via API or UI. |
| `subscription/skipped` | This will trigger when you skip a subscription within a charge, meaning that you only skip a particular subscription (the subscription\_id you send in the body) in that charge if there are multiple subscriptions related to that charge. |
| `subscription/unskipped` | This will trigger when you unskip a subscription within a charge, meaning you only unskip a particular subscription (the subscription\_id you send in the body) in that charge if there are multiple subscriptions related to that charge. |
| `subscription/updated` | This will trigger when you update a subscription via API (PUT method) or when you update the subscription via UI. This will also trigger when you update next charge date on Customer Portal, or when you change it using subscription endpoint `subscriptions/ <subscription_id>set_next_charge_date`. |
| `subscription/swapped` | This will trigger when you swap a subscription product for a given address to a different product or product variation API or UI. |
| `subscription/paused` | This will trigger when a customer pauses a subscription from within the customer portal. |

## Other webhooks

To use these webhooks your API Token must have read permissions for `Store` enabled ( `read_store` ).

| Topic | Explanation |
| --- | --- |
| `app/uninstalled` | This will trigger when you uninstall OAuth app on your store. |
| `recharge/uninstalled` | This will trigger when Recharge is uninstalled. |
| `store/updated` | This will trigger when and update has been made to the store. |

# Webhook validation

Webhooks created through the API can be verified by calculating a digital signature. Each Webhook request includes an X-Recharge-Hmac-Sha256 header which is generated using the API Client Secret, along with the data sent in the request.

API Client Secret is not the same as your API token and it can be found at:

Recharge Dashboard—>Integrations—>API Tokens—>Click on your token

Edit API Token page will appear and there you will find API Client Secret

The request\_body must be in JSON string format. Validation will fail even if one space is lost in process of JSON string generation.

Then use code similar to the example by adapting it to the programming language that you are using for your project.

Related guides: [Example code for validating webhooks](https://docs.rechargepayments.com/docs/webhooks-overview#validating-webhooks)

Example Request:

cURLPythonPHPRuby

```hljs bash

```

# Async batch Endpoints

The Async batches API can be used for processing large volumes of operations asynchronously, in order to reduce aggregate processing time and network traffic when interacting with many unique objects. For example, a user can leverage async\_batches to create 1000 discounts with only 3 API requests.

**As shown in the diagram below, the necessary steps to create and process a batch are:**

1\. Create an async\_batch with the desired batch\_type

2\. Add tasks (individual operations) to your batch. You can add up to 1,000 tasks with each request, up to 10,000 tasks per batch.

3\. Submit the batch for processing. Until a batch is submitted for processing, no tasks are attempted.

4\. You may retrieve the batch to view progress details while it processes, or register for the `async_batch/processed` webhook to receive immediate notification of batch completion.

5\. Page through the tasks in the batch to view results of each completed or failed task.

Related guides: [Examples of Async batches](https://docs.rechargepayments.com/docs/async-batches)![](https://developer.getrecharge.com/images/async_batch.png)

Endpoints

POST

/async\_batches


GET

/async\_batches/{id}


GET

/async\_batches


POST

/async\_batches/{batch\_id}/process


Expand

# The async batch object

`Async batch` contains all the setups information and status update of a batch of operation to be performed collectively.

Batches will only leverage resources from the same version they are created in. e.g. a batch created with `2021-11` will only process tasks from the `2021-11` version.

##### Attributes

- id







string














Unique identifier of the batch, used for adding tasks to a batch and to initiate batch processing

- batch\_type







string













Possible values:

discount\_create,

discount\_update,

discount\_delete,

bulk\_plans\_create,

bulk\_plans\_update,

bulk\_plans\_delete,

onetime\_create,

onetime\_delete










Indicates the object type and operation required for all tasks in a batch

- closed\_at







string














Indicates the date and time that processing was completed for a batch

- created\_at







string














Indicates the date and time a batch was created

- fail\_task\_count







string














Indicates the number of failed tasks in a batch, during or after processing

- status







string














Indicates the status of the batch. Available statuses are not\_started, processing, completed, failed

- submitted\_at







string














Indicates the date and time that a batch was triggered to process

- success\_task\_count







string














Indicates the number of successful tasks in a batch, during or after processing.

- total\_task\_count







string














Indicates the total number of tasks in a batch

- updated\_at







string














Indicates the date and time at which a batch was last updated

- version







string














Indicates the API version of the batch.







read-only field


##### Error related attributes

##### More Attributes

The async batch object

```hljs json
{
  "async_batch": {
    "id": 19,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-02-17T08:52:10+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "not_started",
    "submitted_at": null,
    "success_task_count": 0,
    "total_task_count": 0,
    "updated_at": "2022-02-17T08:52:10+00:00",
    "version": "2021-11"
  }
}
```

# Create a batch

In order to create, retrieve, or process batches, the API token requires the write\_batches permission. Additional permissions are required, dependent upon the indicated batch\_type. For example, for a batch type of discount\_create, the API token requires the write\_discounts permission.

Create a new batch, and indicate the desired outcome of the batch using batch\_type.

CAUTION

Async batches and their tasks will only be retained in Recharge for one month after batch creation.

Available batch types

The async\_batches API supports many functions, each identified as a batch\_type. Typically, the task body for a batch\_type will be representative of a single request to our standard endpoints, however, some variations may be present.

Related guides: [Examples of Async Batches](https://docs.rechargepayments.com/docs/async-batches)

Batches will only leverage resources from the same version they are created in. e.g. a batch created with `2021-11` will only process tasks from the `2021-11` version.

Scopes:
write\_batches


##### Body Parameters

- batch\_type







string













Possible values:

discount\_create,

discount\_update,

discount\_delete,

bulk\_plans\_create,

bulk\_plans\_update,

bulk\_plans\_delete,

onetime\_create,

onetime\_delete










Desired batch type


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/async\_batches


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -X POST 'https://api.rechargeapps.com/async_batches' \
 --data '{ "batch_type": "desired_batch_type"}'
```

Response

201


```hljs json
{
  "async_batch": {
    "id": 19,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-10-12T20:16:09+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "not_started",
    "submitted_at": null,
    "success_task_count": 0,
    "total_task_count": 0,
    "updated_at": "2022-10-12T20:16:09+00:00",
    "version": "2021-11"
  }
}
```

# Retrieve a batch

Retrieve a batch using the Recharge batch id. A batch can be retrieved during processing to evaluate batch progress.

## HTTP request examples

`GET /async_batches/<batch_id>`

##### Responses

- 200




















successful response










Show response object



GET

/async\_batches/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -X GET 'https://api.rechargeapps.com/async_batches/16'
```

Response

200


```hljs json
{
  "async_batch": {
    "id": 19,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-10-12T20:16:09+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "not_started",
    "submitted_at": null,
    "success_task_count": 0,
    "total_task_count": 0,
    "updated_at": "2022-10-12T20:16:09+00:00",
    "version": "2021-11"
  }
}
```

# List batches

Returns a list of all your async\_batches.

##### Responses

- 200




















successful response










Show response object



GET

/async\_batches


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -X GET 'https://api.rechargeapps.com/async_batches'
```

Response

200


```hljs json
{
  "async_batches": [\
    {\
      "id": 20,\
      "batch_type": "discount_delete",\
      "closed_at": null,\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "deleted_at": null,\
      "fail_task_count": 0,\
      "status": "not_started",\
      "submitted_at": null,\
      "success_task_count": 0,\
      "total_task_count": 40,\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "version": "2021-11"\
    },\
    {\
      "id": 19,\
      "batch_type": "discount_update",\
      "closed_at": null,\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "deleted_at": null,\
      "fail_task_count": 0,\
      "status": "not_started",\
      "submitted_at": null,\
      "success_task_count": 0,\
      "total_task_count": 0,\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "version": "2021-11"\
    },\
    {\
      "id": 16,\
      "batch_type": "discount_create",\
      "closed_at": "2022-10-12T20:16:09+00:00",\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "deleted_at": null,\
      "fail_task_count": 0,\
      "status": "completed",\
      "submitted_at": "2022-10-12T20:16:09+00:00",\
      "success_task_count": 2000,\
      "total_task_count": 2000,\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "version": "2021-11"\
    }\
  ]
}
```

# Process a batch

Until a batch is submitted for processing, no tasks are attempted. Once you have ensured the tasks in a batch are ready for processing, you can submit for processing using this endpoint and the associated batch id.

Webhooks - Batches process quickly, and may result in Recharge dispatching many webhooks at a high rate. Ensure any systems subscribed to resulting webhooks are capable of handling such load.

##### Responses

- 201




















successful response










Show response object



POST

/async\_batches/{batch\_id}/process


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/async_batches/21/process' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

201


```hljs json
{
  "async_batch": {
    "id": 21,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-06-05T10:53:36+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "processing",
    "submitted_at": "2022-06-05T10:54:54+00:00",
    "success_task_count": 0,
    "total_task_count": 10,
    "updated_at": "2022-06-05T10:54:54+00:00",
    "version": "2021-11"
  }
}
```

# Async batch Tasks

Most commonly, the response from listing tasks on an async\_batch id will be identical to the body of a singular request to standard Recharge API endpoints. However, in some instances there are variations from the standard list task response body. See below for examples corresponding to each batch\_type.

Related guides: [Examples of async batches](https://docs.rechargepayments.com/docs/async-batches)

Endpoints

POST

/async\_batches/{batch\_id}/tasks


GET

/async\_batches/{batch\_id}/tasks


Expand

# The async batch Tasks object

##### Attributes

- batch\_id







integer














Indicates the batch that the task is contained by

- body







object














This object contains the body of a standard API request. For example, when creating discounts with a discount\_create batch, this parameter contains a standard body for POST /discounts

- completed\_at







datetime














Indicates the date and time a task was completed

- created\_at







datetime














Indicates the date and time that a task was created and added to the batch

- deleted\_at







datetime














Indicates the date and time that a task was deleted from the batch

- id







integer














Unique identifier for the task within a batch

- queued\_at







datetime














Indicates the date and time a task was queued for processing within batch processing

- result







string














Contains the individual response body for the task

- started\_at







datetime














Indicates the date and time a task was processed

- status







string













Possible values:

pending,

processing,

failed,

success










Indicates the status of the task within a batch.

- updated\_at







datetime














Indicates the date and time a task was most recently updated


##### Error related attributes

##### More Attributes

The async batch Tasks object

```hljs json

```

# Create a batch task

A batch contains operations of similar type (indicated by batch\_type), called tasks. A task is typically representative of a single API request, with a body parameter containing the standard request body for the associated batch\_type. A single request to add tasks may contain up to 1,000 tasks, and a batch may contain up to 10,000 tasks.

##HTTP examples

`POST /async_batches/<batch_id>/tasks`

Batches will only leverage resources from the same version they are created in. e.g. a batch created with `2021-11` will only process tasks from the `2021-11` version.

##### Body Parameters

- batch\_id







integer














Indicates the batch that the task is contained by

- body







object














This object contains the body of a standard API request. For example, when creating discounts with a discount\_create batch, this parameter contains a standard body for POST /discounts

- completed\_at







datetime














Indicates the date and time a task was completed

- created\_at







datetime














Indicates the date and time that a task was created and added to the batch

- deleted\_at







datetime














Indicates the date and time that a task was deleted from the batch

- id







integer














Unique identifier for the task within a batch

- queued\_at







datetime














Indicates the date and time a task was queued for processing within batch processing

- result







string














Contains the individual response body for the task

- started\_at







datetime














Indicates the date and time a task was processed

- status







string













Possible values:

pending,

processing,

failed,

success










Indicates the status of the task within a batch.

- updated\_at







datetime














Indicates the date and time a task was most recently updated


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/async\_batches/{batch\_id}/tasks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-X POST https://api.rechargeapps.com/async_batches/21/tasks \
--data '{
  "tasks": [\
    {\
      "body": {\
        "code": "indexing",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "maroon",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "web services",\
        "value": 100,\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled"\
      }\
    },\
    {\
      "body": {\
        "code": "PCI",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "Cheese",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "overriding",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "bandwidth-monitored",\
        "value": 100,\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled"\
      }\
    },\
    {\
      "body": {\
        "code": "Falkland Islands (Malvinas)",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "Computer",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "digital",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    }\
  ]
}'
```

Response

200


```hljs json
{
  "count": 10
}
```

# List batch tasks

Returns a list of all tasks in the indicated batch, using batch id. For batches with many tasks, pagination is supported when listing tasks. Use this function to evaluate the task-level results of a batch during, or after processing. Task results will be contained in the `results` object of each task.

##### Query Parameters

- ids







string














Filter tasks by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/async\_batches/{batch\_id}/tasks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-X GET https://api.rechargeapps.com/async_batches/16/tasks
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "async_batch_tasks": [\
    {\
      "id": 1490831511,\
      "batch_id": 765278,\
      "body": {\
        "code": "Computer",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831510,\
      "batch_id": 765278,\
      "body": {\
        "code": "Falkland Islands (Malvinas)",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831509,\
      "batch_id": 765278,\
      "body": {\
        "code": "bandwidth-monitored",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831508,\
      "batch_id": 765278,\
      "body": {\
        "code": "overriding",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831507,\
      "batch_id": 765278,\
      "body": {\
        "code": "Cheese",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831506,\
      "batch_id": 765278,\
      "body": {\
        "code": "PCI",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831505,\
      "batch_id": 765278,\
      "body": {\
        "code": "web services",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831504,\
      "batch_id": 765278,\
      "body": {\
        "code": "maroon",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831503,\
      "batch_id": 765278,\
      "body": {\
        "code": "indexing",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    }\
  ]
}
```

# Token information

This resource allows a caller to inspect basic information regarding the `token` in use. It will only return a single object related to the calling `token` ( ie - a call with `api_token.id=1` will only return information regarding `api_token.id=1`.

Endpoints

GET

/token\_information


Expand

# The token information object

Details of the client which generated the token.

If the API token was generated by an OAuth app, the object will contain associated client information.

If the API token was generated by the merchant, the object will reflect the `name` prefaced by ‘\[Private App\]’ and `contact_email` of the token.

##### Attributes

- client







object














If the API Token was generated by an Oauth app, an object containing associated client information.










Show object attributes


- contact\_email







string














The email associated with the API Token record.







For tokens created via OAuth App the contact can be `null`

- name







string














The name of the API Token as created by merchant.

- scopes







array














A list of scopes on the API Token.


##### Error related attributes

##### More Attributes

The token information object

```hljs json
{
  "client": {
    "name": "PARTNER",
    "contact_email": "ed@partner.com"
  },
  "contact_email": "jbluhm@example.com",
  "name": "token name",
  "scopes": [\
    "read_shop",\
    "write_payments"\
  ]
}
```

# Retrieve token information

Retrieve token details.

##### Responses

- 200




















successful response










Show response object



GET

/token\_information


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/token_information' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "token_information": {
    "client": {
      "name": "PARTNER",
      "contact_email": "ed@partner.com"
    },
    "contact_email": "jbluhm@example.com",
    "name": "token name",
    "scopes": [\
      "read_store",\
      "write_payment_methods"\
    ]
  }
}
```

# Accounts

This resource allows a caller to inspect basic information regarding the staff accounts in the store. ![](https://developer.getrecharge.com/images/accounts.png)

Endpoints

GET

/accounts/{id}


GET

/accounts


Expand

# The account object

An `Account` record represents a staff account details for the `Store`. One `Store` can have many staff’s account.

##### Attributes

- id







integer














Unique numeric identifier for the `Account`.

- user\_id







integer














The unique numeric identifier of the user associated to the `Account`.







There can only be one `Account` per user per `Store`.

- created\_at







datetime














The date and time when the `Account` was created.

- invited\_at







datetime














The date and time the user was last invited to open their `Account`







`null` for the store creator.

If an invite to open an `Account` is re-issued for a user, `invited_at` will hold the timestamp of the most recent invite sent.

- is\_owner







boolean














Flags whether this user is the store owner.







A `Store` can have multiple owners.


##### Error related attributes

##### More Attributes

The account object

```hljs json
{
  "account": {
    "id": 3315125,
    "user_id": 2057785,
    "created_at": "2021-07-20T09:10:19+00:00",
    "invited_at": "2021-07-18T09:10:19+00:00",
    "is_owner": false
  }
}
```

# Retrieve an account

Retrieves an account for the store.

Scopes:
read\_accounts


##### Responses

- 200




















successful response










Show response object



GET

/accounts/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/accounts/331512' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "account": {
    "id": 3315125,
    "user_id": 2057785,
    "created_at": "2021-07-20T09:10:19+00:00",
    "invited_at": "2021-07-18T09:10:19+00:00",
    "is_owner": false
  }
}
```

# List accounts

Returns all accounts associated to the store.

Scopes:
read\_accounts


##### Responses

- 200




















successful response










Show response object



GET

/accounts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/accounts' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "accounts": [\
    {\
      "id": 3315125,\
      "user_id": 2057785,\
      "created_at": "2021-07-20T09:10:19+00:00",\
      "invited_at": "2021-07-18T09:10:19+00:00",\
      "is_owner": false\
    },\
    {\
      "id": 3316125,\
      "user_id": 2056785,\
      "created_at": "2021-05-20T09:10:19+00:00",\
      "invited_at": null,\
      "is_owner": true\
    }\
  ]
}
```

# Events

This resource allows a caller to inspect recent events in the store.

Endpoints

GET

/events


Expand

# The event object

Pro plan

An `Event` record represents an action that took place at a point in time.

##### Attributes

- id







integer














Unique numeric identifier for the `Event`.

- object\_id







integer














The unique numeric identifier of the object associated with the `Event`.

- customer\_id







integer














The unique numeric identifier of the customer associated with the `Event`.







This value can be `null` for events not directly associated with a customer.

- created\_at







datetime














The date and time when the `Event` was created.

- object\_type







string














The resource type of the object associated with the `Event`, e.g. ‘customer’ or ‘subscription’

- verb







string














The action describing the `Event`, e.g. ‘created’ or ‘updated’

- description







string














The short description that summarizes the `Event`.

- updated\_attributes







object














A list of objects describing attributes that were changed during the `Event`.










Show object attributes


- source







object














An object containing details about the origin of the `Event`.










Show object attributes


- custom\_attributes







object














A list of objects passed explicitly to a Recharge API call that created the `Event`.







This field will only be populated on events created using the Recharge API.










Show object attributes



##### Error related attributes

##### More Attributes

The event object

```hljs json
{
  "event": {
    "id": 7160141294,
    "object_id": 362310818,
    "customer_id": 36885098,
    "created_at": "2023-05-31T14:16:07",
    "object_type": "subscription",
    "verb": "updated",
    "description": "Updated subscription #362310818",
    "updated_attributes": [\
      {\
        "attribute": "price",\
        "previous_value": "12.00",\
        "value": "15.00"\
      },\
      {\
        "attribute": "quantity",\
        "previous_value": "3",\
        "value": "5"\
      }\
    ],
    "source": {
      "account_id": null,
      "api_token_id": 987654321,
      "api_token_name": "Subscription API token",
      "account_email": null,
      "origin": "api",
      "user_type": null
    },
    "custom_attributes": [\
      {\
        "key": "ab_testing_flag",\
        "value": "a"\
      }\
    ]
  }
}
```

# List events

Returns all events associated with the store. The Events API is limited to events that occurred in the last 7 days

Granting the `read_events` scope to a token will expose some details about other Recharge API resources via the Events API.

Scopes:
read\_events


##### Query Parameters

- created\_at\_min







string














Show events that occurred after a certain date

- created\_at\_max







string














Show events that occurred before a certain date

- object\_type







string














Show events that occurred for a certain `object_type`, such as `customers`, `addresses`, `charges`, etc.

- object\_id







integer














Show events with a specific `object_id`. This filter should be used with the `object_type` filter.

- verbs







string














Show events with a specific `verb` or comma-separated list of `verbs`

- customer\_id







integer














Show events related to a specific `customer` using the customer’s primary identifier

- origin







string














Show events with a specific source.origin, such as `api`, `customer_portal`, `merchant_portal`, or `recharge_process`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/events


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/events' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "events": [\
    {\
      "id": 7160141294,\
      "object_id": 362310818,\
      "customer_id": 36885098,\
      "created_at": "2023-05-31T14:16:07",\
      "object_type": "subscription",\
      "verb": "updated",\
      "description": "Updated subscription #362310818",\
      "updated_attributes": [\
        {\
          "attribute": "price",\
          "previous_value": "12.00",\
          "value": "15.00"\
        },\
        {\
          "attribute": "quantity",\
          "previous_value": "3",\
          "value": "5"\
        }\
      ],\
      "source": {\
        "account_id": null,\
        "api_token_id": 987654321,\
        "api_token_name": "Subscription API token",\
        "account_email": null,\
        "origin": "api",\
        "user_type": null\
      },\
      "custom_attributes": [\
        {\
          "key": "ab_testing_flag",\
          "value": "a"\
        }\
      ]\
    }\
  ]
}
```

## Recharge API Documentation
v.2021-01v.2021-11

# API Reference

The Recharge API is primarily a REST API with some RPC endpoints to support common operations. It has predictable, resource-oriented URLs, accepts JSON-encoded request bodies, returns JSON-encoded responses, and uses standard HTTP response codes, authentication, and methods.

Related guides: [Generate API tokens](https://docs.rechargepayments.com/docs/recharge-api-key), [Using the API](https://docs.rechargepayments.com/docs/using-the-api)

## API and Platforms compatibility

Recharge offers hosted solutions and integrates with various ecommerce platforms to process recurring transactions with the setup of your choice. In order to be compatible with those platforms some of our API resources and endpoints may be limited in use to a subset of platforms. When that is the case we will flag with the help of tags the checkout/platform association for which that feature is compatible.

**When there is no restriction of compatibility no tags will appear.**

Below is a legend of the tags you may come across:

| Tag | Checkout solution | Ecommerce platform |
| --- | --- | --- |
| BigCommerce | Recharge hosted | BigCommerce |
| Custom | Recharge hosted or API-first | Custom |
| RCS | Recharge hosted | Shopify |
| SCI | Shopify hosted | Shopify |

You may also come across other tags specifying regional restrictions (e.g. USA Only) or new releases (e.g. Alpha, Beta).

![Intro image](https://developer.getrecharge.com/images/intro_v2.png)

Base URL

```hljs
https://api.rechargeapps.com
```

# Authentication

Recharge uses API keys to authenticate requests.

Each request to the API should contain an API token in the following header:

`X-Recharge-Access-Token:store_api_token`

Replace `store_api_token` with your API key.

All requests must be made over HTTPS.

## API Token Scopes

Scopes can be set up from the API token edit page in Recharge to control the level of access of an API token.

The API currently supports the scopes below:

| Write | Read |
| --- | --- |
|  | `read_accounts` |
| `write_batches` | `read_batches` |
| `write_customers` | `read_customers` |
| `write_discounts` | `read_discounts` |
|  | `read_events` |
| `write_notifications` |  |
| `write_orders` | `read_orders` |
| `write_payment_methods` | `read_payment_methods` |
| `write_products` | `read_products` |
| `write_subscriptions` | `read_subscriptions` |
|  | `read_store` |
|  | `read_credit_accounts` |
|  | `read_credit_adjustments` |

GET /

cURLPythonPHPRuby

```hljs bash
curl -i -H 'X-Recharge-Access-Token: your_api_token'
-X GET
```

# Versioning

All requests will use your account API settings, unless you send a `X-Recharge-Version` header to specify the version.

You can use the same token to make calls to all versions. When no version is specified it will default to the default version on your store.

| Existing API Versions | Release notes |
| --- | --- |
| `2021-11` | 2021-11 [release notes](https://changelog.rechargepayments.com/recharge-api-v2021-11-is-now-available-4syNNK) |
| `2021-01` |  |

# Responses

Recharge uses conventional `HTTP` response codes to indicate the success or failure of an API request. In general, codes in the `2xx` range indicate success, codes in the `4xx` range indicate an error that failed given the information provided ( e.g. a required parameter was omitted, a charge failed, etc ), and codes in the `5xx` range indicate an error with Recharge’s servers.

```hljs
200 - OK: Everything worked as expected.
201 - OK: The request was successful, created a new resource, and resource created is in the body.
202 - OK: The request has been accepted and is in processing.
204 - OK: The server has successfully fulfilled the request and there is no content to send in the response body.
400 - Bad Request: The request was unacceptable, often due to a missing required parameter.
401 - Unauthorized: No valid API key was provided.
402 - Request Failed: The parameters were valid but the request failed.
403 - The request was authenticated but not authorized for the requested resource (permission scope error).
403 - Uninstalled Store.
404 - Not Found: The requested resource doesn’t exist.
405 - Method Not Allowed: The method is not allowed for this URI.
406 - The request was unacceptable, or requesting a data source which is not allowed although permissions permit the request.
409 - Conflict: You will get this error when you try to send two requests to edit an address or any of its child objects at the same time, in order to avoid out of date information being returned.
415 - The request body was not a JSON object.
422 - The request was understood but cannot be processed due to invalid or missing supplemental information.
426 - The request was made using an invalid API version.
429 - The request has been rate limited.
500 - Internal server error.
501 - The resource requested has not been implemented in the current version but may be implemented in the future.
503 - A 3rd party service on which the request depends has timed out.
```

# Extending responses

Our API endpoints and webhooks allow developers to extend responses with additional data in order to optimize calls, allowing for simpler and more efficient implementations.

The API supports including additional objects when using a `GET` request to retrieve a list or a `GET` request to retrieve a record by a specific id. This is achieved by using an `include` query parameter in the request URL. The `include` value contains the object or objects you want to include in the response of your request. On routes where multiple includes are available, you are able to pass multiple values separated by a comma ( `include=customer,metafields`). The below table defines available `include` values for commonly used resources of the API.

Webhooks support `included_objects` on the topics listed below. Webhook `included_objects` accepts an array of supported values ( `"included_objects": [ "customer", "metafields"]`). Specifying `included_objects` will return an enriched payload, containing the original resource and the associated included objects.

When including `charge_activities` in API calls or webhooks, note that only the last 90 days of activities will be included in the response.

| Resource | Endpoints | Webhook topics | Supported `include` values | Supported `included_objects` values |
| --- | --- | --- | --- | --- |
| `Addresses` | `GET /addresses`<br>`GET /addresses/{id}` | `address/created`<br>`address/updated` | `charge_activities`<br>`customer`<br>`discount`<br>`payment_methods`<br>`subscriptions` | `customer`<br>`payment_methods` |
| `Charges` | `GET /charges`<br>`GET /charges/{id}` | `charge/created`<br>`charge/failed`<br>`charge/max_retries_reached`<br>`charge/paid`<br>`charge/refunded`<br>`charge/uncaptured`<br>`charge/upcoming`<br>`charge/updated`<br>`charge/deleted` | `charge_activities` (beta)<br>`customer`<br>`metafields`<br>`payment_methods` | `customer`<br>`metafields`<br>`payment_methods` |
| `Customers` | `GET /customers`<br>`GET /customers/{id}` | `customer/activated`<br>`customer/created`<br>`customer/deactivated`<br>`customer/payment_method_updated`<br>`customer/updated`<br>`customer/deleted` | `addresses`<br>`metafields`<br>`payment_methods`<br>`subscriptions` | `addresses`<br>`metafields`<br>`payment_methods` |
| `Orders` | `GET /orders`<br>`GET /orders/{id}` | `order/cancelled`<br>`order/created`<br>`order/deleted`<br>`order/processed`<br>`order/payment_captured`<br>`order/upcoming`<br>`order/updated`<br>`order/success` | `customer`<br>`metafields` | `customer`<br>`metafields` |
| `Payment Methods` | `GET /payment_methods`<br>`GET /payment_methods/{id}` |  | `addresses` | `addresses` |
| `Subscriptions` | `GET /subscriptions`<br>`GET /subscriptions/{id}` | `subscription/activated`<br>`subscription/cancelled`<br>`subscription/created`<br>`subscription/deleted`<br>`subscription/skipped`<br>`subscription/updated`<br>`subscription/unskipped`<br>`subscription/paused` | `address`<br>`charge_activities`<br>`customer`<br>`metafields`<br>`bundle_product`<br>`bundle_selections` | `customer`<br>`metafields` |

# Cursor Pagination

By default, calls for a list of objects will return 50 results. Using the `limit` parameter, that can be increased to 250 results per response.

When there are more results than the current `limit` a cursor may be used to request additional results.

The `next_cursor` and `previous_cursor` attributes are are included in all list responses.

To request the next set of results, find the `next_cursor` in the list response and include it in the url with the cursor parameter e.g. `GET https://api.rechargeapps.com/subscriptions?limit=250&cursor=<next_cursor>`

To request the previous set of results, find the `previous_cursor` in the list response and include it in the url with the cursor parameter e.g. `GET https://api.rechargeapps.com/subscriptions?limit=250&cursor=<previous_cursor>`

## Retrieving total number of records

Starting with the `2021-11` version of the API, you will not be able to retrieve a count of total records for a given `GET` request. If you are building a UI page that allows end users to paginate through result sets (such as paginating through a list of orders or subscriptions), we recommend that your pagination implementation allow users to go to the next and previous page of results (as opposed to allowing users to jump to specific page in the results). This aligns well with the `previous_cursor` and the `next_cursor` fields included in all list responses.

Example Request

cURLPythonPHPRuby

```hljs bash
URL="https://api.rechargeapps.com/charges?limit=5"

response=$(curl -s -w "%{http_code}"\
    -H 'X-Recharge-Access-Token: your_api_token' \
    -H 'X-Recharge-Version: 2021-11' \    -X GET $URL)

content=$(sed '$ d' <<< "$response") # get all but the last line which contains the status code

# Display results
echo $content | jq "."

# parse next url
echo "Next URL"
next_cursor=$(jq ".next_cursor" <<< "${content}")

# Notice next_cursor value is passed as page_info query param
echo "$URL&page_info=$next_cursor"
```

# Sorting

The API supports sorting of results when using a `GET` request to retrieve a list. Sorting is achieved using a `sort_by` query parameter in the request URL. The `sort_by` value contains the parameter and sort direction for your results (ascending or descending), and available sort\_by values vary between resources. The below table defines available `sort_by` options for commonly used resources.

| Resource | Supported `sort_by_values` |
| --- | --- |
| **`Address`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` |
| **`Async Batch`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` |
| **`Charge`** | **Default: `id-asc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` `scheduled_at-asc` `scheduled_at-desc` |
| **`Customer`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Discount`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Metafield`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` |
| **`Onetime`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Order`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` `processed_at-asc` `processed_at-desc` `scheduled_at-asc` `scheduled_at-desc` |
| **`Plan`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` |
| **`Subscription`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Webhook`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` |

# Addresses

An Addresses record represents a shipping address. Each customer can have multiple addresses. Subscriptions are a child object of an address. ![](https://developer.getrecharge.com/images/address.png)

Endpoints

POST

/addresses


GET

/addresses/{id}


PUT

/addresses/{id}


DELETE

/addresses/{id}


GET

/addresses


POST

/addresses/merge


POST

/addresses/{id}/charges/skip


Expand

# The address object

An Addresses record represents a shipping address. Each customer can have multiple addresses. Subscriptions are a child object of an address.

##### Attributes

- id







integer














Unique numeric identifier for the `Address`.

- payment\_method\_id







integer














Unique numeric identifier for the `Payment Method` associated to the `Address`.

- address1







string














The street associated with the `Address`.

- address2







string














Any additional information associated with the `Address`.

- city







string














The city associated with the address.

- company







string














The company associated with the address.

- country\_code







string














2-letter country code.

- customer\_id







integer














Unique numeric identifier for the customer associated with the address.

- discounts







array














A list of discounts applied on the address. These discounts will apply to future recurring charges associated with this address.










Show object attributes


- first\_name







string














The customer’s first name associated with the address.

- last\_name







string














The customer’s last name associated with the address.

- order\_attributes







array












[BigCommerce](https://developer.getrecharge.com/2021-11/collections#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)

















Replaces cart\_attributes. Extra information that is added to the order.










Show object attributes


- order\_note







string














Notes to be added to all orders associated with the address.

- phone







string














The phone number associated with the address.

- presentment\_currency







string












[SCI](https://developer.getrecharge.com/2021-11/collections#tags_legend)

















The currency on the subscription contract in Shopify.







Only set if the currency is different from the store-level currency. Else, will default to store-level currency.

- province







string














The state or province associated with the address.

- shipping\_lines\_conserved







array














Shipping rates that have previously been overridden via `shipping_lines_override` but are currently inactive.










Show object attributes


- shipping\_lines\_override







array














Used when shipping rates need to be overridden.







If this parameter has value `null`, rates will be fetched when `Charge` is created or regenerated










Show object attributes


- zip







string














The zip or postal code associated with the address.

- created\_at







datetime














The date and time when the address was created.

- updated\_at







datetime














The date and time when the address was last updated.


##### Error related attributes

##### More Attributes

The address object

```hljs json
{
  "address": {
    "id": 21317826,
    "payment_method_id": 17874235,
    "address1": "1776 Washington Street",
    "address2": "",
    "city": "Los Angeles",
    "company": "Recharge",
    "country_code": "US",
    "created_at": "2018-11-14T09:00:01+00:00",
    "customer_id": 18819267,
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "first_name": "John",
    "last_name": "Doe",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note.",
    "phone": "5551234567",
    "presentment_currency": "USD",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [\
      {\
        "code": "Standard Shipping",\
        "price": "0.00",\
        "title": "Standard Shipping"\
      }\
    ],
    "updated_at": "2018-11-14T09:00:01+00:00",
    "zip": "90404"
  }
}
```

# Create an address

Create a new address for a customer.

Scopes:
write\_customers


##### Body Parameters

- customer\_id







integer





\\* Required














Unique numeric identifier for the customer associated with the address.

- address1







string





\\* Required














The street associated with the `Address`. Minimum length is 1 character.

- address2







string














Any additional information associated with the shipping address.

- city







string





\\* Required














The city associated with the shipping address.

- company







string














The company associated with the shipping address.

- country\_code







string





\\* Required














2-letter country code.







Check if the store supports shipping to this country. This is set by the merchant in their Shipping Settings page.

- discounts







array














List of discounts applied on the `Address`.










Show object attributes


- first\_name







string





\\* Required














The customer’s first name associated with the address. Minimum length is 1 character.

- last\_name







string





\\* Required














The customer’s last name associated with the address. Minimum length is 1 character.

- order\_attributes







array












[BigCommerce](https://developer.getrecharge.com/2021-11/collections#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)

















Extra information that is added to the order.










Show object attributes


- order\_note







string














Notes to be added to all orders associated with the address.

- payment\_method\_id







integer














Payment method id for the `Payment_method` to be associated to this address.

- phone







string





\\* Required














The phone number associated with the address. Must be included in the request schema but can be an empty string.

- presentment\_currency







string














The currency that charges on this address will be processed in. If no presentment\_currency is passed, it will be set to your default store currency.

- province







string





\\* Required














The state or province associated with the address. Check if country requires a province `COUNTRIES_REQUIRING_PROVINCE`.

- shipping\_lines\_override







array














Used when shipping rates need to be overridden. If this parameter has value `null`, rates will be fetched when a related `Charge` is created or regenerated










Show object attributes


- zip







string





\\* Required














The zip or postal code associated with the address.







Check if the `country` requires a `zip` code `COUNTRIES_NOT_REQUIRING_ZIP`. If not included in the list then a zip code with the minimum length of 1 character is required. If the country is `United States` validate against regex `UNITED_STATES_ZIP_REGEX`. If country is `United Kingdom` then validate against regex `UNITED_KINGDOM_ZIP_REGEX`.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/addresses


cURLPythonPHPRuby

```hljs js
curl https://api.rechargeapps.com/addresses \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "customer_id": 22152215,
  "address1": "1776 Washington Street",
  "address2": "",
  "city": "Los Angeles",
  "company": "Recharge",
  "country_code": "US",
  "first_name": "John",
  "last_name": "Doe",
  "order_attributes": [\
    {\
      "name": "custom name",\
      "value": "custom value"\
    }\
  ],
  "phone": "5551234567",
 "presentment_currency": "USD",
  "province": "California",
  "zip": "90404"
}'
```

Response

201


```hljs json
{
  "address": {
    "id": 42171447,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Retrieve an address

Retrieves address for customer based on specified address id.

Scopes:
read\_customers


##### Responses

- 200




















successful response










Show response object



GET

/addresses/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/addresses/21317826' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "address": {
    "id": 42171447,
    "payment_method_id": 17874235,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Update an address

Updates an existing address to match the specified parameters.

## Example: remove discounts from an address

To remove all discounts from an address, set the `discounts` parameter to an empty array: `{"discounts": []}`

Note: When updating the `country` property you will have to update the `zip` property as well, otherwise you will receive an error.

Scopes:
write\_customers


##### Body Parameters

- address1







string














The street associated with the `Address`. Minimum length is 1 character.

- address2







string














Any additional information associated with the shipping address.

- city







string














The city associated with the shipping address. Minimum length is 1 character.

- company







string














The company associated with the shipping address.

- country\_code







string














2-letter country code.







Check if the `store` supports shipping to this country. This is set by the merchant in their Shipping Settings page.

- discounts







array














A list of discounts applied on the address. These discounts will apply to future recurring charges associated with this address.










Show object attributes


- first\_name







string














The customer’s first name associated with the address. Minimum length is 1 character.

- last\_name







string














The customer’s last name associated with the address. Minimum length is 1 character.

- order\_attributes







array












[BigCommerce](https://developer.getrecharge.com/2021-11/collections#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)

















Extra information that is added to the order.










Show object attributes


- order\_note







string














Notes to be added to all orders associated with the address.

- payment\_method\_id







integer














Payment method id for the `Payment_method` to be associated to this address.

- phone







string














The phone number associated with the address. Must be included in the request schema but can be an empty string.

- province







string














The state or province associated with the address. Check if country requires a province `COUNTRIES_REQUIRING_PROVINCE`.

- shipping\_lines\_override







array












[BigCommerce](https://developer.getrecharge.com/2021-11/collections#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)











[SCI](https://developer.getrecharge.com/2021-11/collections#tags_legend)

















Used when shipping rates need to be overridden. If this parameter has value `null`, rates will be fetched when a related `Charge` is created or regenerated.










Show object attributes


- zip







string














The zip or postal code associated with the address. Check if the country requires a zip code `COUNTRIES_NOT_REQUIRING_ZIP`. If not included in the list then a zip code with the minimum length of 1 character is required. If the country is `United States` then validate against regex `UNITED_STATES_ZIP_REGEX`. If country is `United Kingdom` then validate against regex `UNITED_KINGDOM_ZIP_REGEX`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/addresses/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/addresses/38700614' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"address1": "1776 Washington Street"}'
```

Response

200


```hljs json
{
  "address": {
    "id": 42171447,
    "payment_method_id": 17874235,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Delete an address

It is possible to delete certain addresses from the store using API.

Only `Addresses` with no active `Subscriptions` can be deleted.

Scopes:
write\_customers


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/addresses/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/addresses/38700614'\
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List addresses

Returns all addresses from the store, or addresses for the user given in the parameter.

## HTTP examples

`GET /addresses`

`GET /addresses?customer_id=<customer_id>`

`GET /addresses?discount_id=<discount_id>`

`GET /addresses?discount_code=<discount_code>`

You can combine `created_at_min` and `created_at_max` to return all addresses created in the given timespan. This also applies to `updated_at_min` and `updated_at_max` parameters.

Scopes:
read\_customers


##### Query Parameters

- created\_at\_max







datetime














Returns addresses created before the given time.

- created\_at\_min







datetime














Returns addresses created after the given time.

- customer\_id







integer














Unique identifier of the customer.

- discount\_code







string














Returns addresses that have the provided discount\_code.

- discount\_id







string














Returns addresses that have the provided discount\_id.

- ids







string














Filter addresses by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










The amount of results. Default is 50 while the maximum is 250.

- page







string





\*Deprecated













Default: 1










The page to show. Default is 1.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- updated\_at\_max







string














Returns addresses updated before the given date.

- updated\_at\_min







string














Returns addresses updated after the given time.

- is\_active







boolean














Returns active addresses.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/addresses


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/addresses' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "addresses": [\
    {\
      "id": 42171447,\
      "payment_method_id": 17874235,\
      "address1": "1030 Barnum Ave",\
      "address2": "Suite 101",\
      "city": "Stratford",\
      "company": "Fake Company",\
      "country_code": "US",\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "customer_id": 37657002,\
      "discounts": [\
        {\
          "id": 123456\
        }\
      ],\
      "first_name": "Fake First",\
      "last_name": "Fake Last",\
      "order_attributes": [\
        {\
          "name": "custom name",\
          "value": "custom value"\
        }\
      ],\
      "order_note": "My recurring order note",\
      "phone": "999-999-9999",\
      "presentment_currency": "USD",\
      "province": "Connecticut",\
      "shipping_lines_conserved": [],\
      "shipping_lines_override": [\
        {\
          "code": "Standard Shipping",\
          "price": "0.00",\
          "title": "Standard Shipping"\
        }\
      ],\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "zip": "06614"\
    }\
  ]
}
```

# Merge addresses

Merges up to 10 source addresses into 1 target address.

If one of the `Addresses` being merged has a different presentment currency, the entire merge will fail and throw an error.

Scopes:
write\_customers


##### Body Parameters

- delete\_source\_addresses







boolean














Indicates whether source addresses should be deleted.

- next\_charge\_date







string














Specifies the next charge date of the associated subscriptions on the target address.

- target\_address







object





\\* Required














The address all of the subscriptions should be moved to.










Show object attributes


- source\_addresses







array





\\* Required














The list of addresses that the subscriptions should move from.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/addresses/merge


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/addresses/merge' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"target_address": {"id": 42171447}, "source_addresses": [{"id": 42171446}, {"id": 42171445}]}'
```

Response

200


```hljs json
{
  "address": {
    "id": 42171447,
    "payment_method_id": 17874235,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Skip future charge

Skip a `Charge` in the future for one or multiple `Subscriptions` associated with the `Address`.

If the `Charge` does not exist on the date, it will be created with a `SKIPPED` status.

Scopes:
write\_orders


##### Body Parameters

- date







datetime





\\* Required














The date in the future of the `Charge` to be skipped.







This date must be within the delivery schedules of the `Customer`.

- subscription\_ids







array





\\* Required














A list containing the `Subscription` IDs to be skipped.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 404




















the `Address` with `id` does not exist










Show response object


- 422




















invalid data passed to the endpoint










Show response object



POST

/addresses/{id}/charges/skip


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/addresses/91977136/charges/skip' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"date": "2022-09-15", "purchase_item_ids": [27363808, 27363809]}'
```

Response

200

404

422


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": null,
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "skipped",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Bundle Selections

Pro plan

[SCI](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)

A bundle selection represents the contents within a Bundle linked to an individual Subscription. It can represent the selection for upcoming orders or past orders. A `BundleSelection` is associated with a corresponding `Subscription` and a `BundleVariant` (the `BundleVariant` is used to validate contents in the selection). When a new order for the associated `Subscription` occurs, it will extract the current contents of the `BundleSelection` for the Bundle item in the order.

Endpoints

GET

/bundle\_selections


GET

/bundle\_selections/{id}


POST

/bundle\_selections


PUT

/bundle\_selections/{id}


DELETE

/bundle\_selections/{id}


Expand

# The bundle selection object

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/collections#tags_legend)

A bundle selection represents the contents within a Bundle linked to an individual Subscription. It can represent the selection for upcoming orders or past orders. A `BundleSelection` is associated with a corresponding `Subscription` and a `BundleVariant` (the `BundleVariant` is used to validate contents in the selection).

##### Attributes

- id







integer














The unique numeric identifier for the `BundleSelection`.

- bundle\_variant\_id







integer














The ID of the `BundleVariant` associated with the `BundleSelection`.

- purchase\_item\_id







integer














The ID of the `PurchaseItem` associated with the `BundleSelection`.

- created\_at







datetime














The date and time when the contents were selected.

- external\_product\_id







string














The product id as it appears in the external e-commerce platform. The `external_product_id` of the `Product` record in Recharge, linking the `BundleSelection` to a `Product` associated with a Bundle.

- external\_variant\_id







string














The variant id as it appears in the external e-commerce platform. The `external_variant_id` of the `Product` record in Recharge, linking the `BundleSelection` to a `Product` associated with a Bundle.

- items







array














A list of `item` objects, each containing information about a distinct product selected as part of the Bundle.










Show object attributes


- updated\_at







datetime














The date and time at which the `BundleSelection` was most recently updated.


##### Error related attributes

##### More Attributes

The bundle selection object

```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# List bundle selections

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Returns a list of `BundleSelections`.

## HTTP request examples

`GET /bundle_selections?purchase_item_ids=:purchase_item_id_1,:purchase_item_id_2`

`GET /bundle_selections?bundle_variant_ids=:bundle_variant_id_1,:bundle_variant_id_2`

`GET /bundle_selections?limit=1`

`GET /bundle_selections?limit=1&page=2`

`GET /bundle_selections?sort_by=updated_at-desc`

Returned `BundleSelections` are sorted descending by ID value by default.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
read\_subscriptions


##### Query Parameters

- purchase\_item\_ids







string














Filter `BundleSelections` by `Subscription` or `Onetime` ID.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- bundle\_variant\_ids







string














Filter `BundleSelections` by `BundleVariants`.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- item\_external\_variant\_ids







string














Filter `BundleSelections` by contents. If the Variant ID exists as a content of the `BundleSelection` it will appear as a result.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- item\_external\_product\_ids







string














Filter `BundleSelections` by contents. If the Product ID exists as a content of the `BundleSelection` it will appear as a result.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- limit







string













Default: 50





Max: 250










The amount of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- sort\_by







string














Sort listed `BundleSelections` in a specific order.

Available sort options: `id-asc`, `id-desc`, `updated_at-asc`, `updated_at-desc`.

- active\_purchase\_items







boolean














Bundle selections are not directly linked to Subscriptions. By default, the endpoint returns Bundle Selections, even those associated with cancelled subscriptions, unless the Bundle Selection has been deleted.

_To exclude cancelled subscriptions from your results, include `active_purchase_items=true` in your query._


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/bundle\_selections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/bundle_selections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "bundle_selections": [\
    {\
      "id": 100714428,\
      "bundle_variant": 382417,\
      "purchase_item_id": 199820883,\
      "created_at": "2022-08-26T18:31:28+00:00",\
      "external_product_id": "7121697210548",\
      "external_variant_id": "41450875650228",\
      "items": [\
        {\
          "id": 541,\
          "collection_id": "287569608884",\
          "collection_source": "shopify",\
          "created_at": "2022-08-26T18:31:28+00:00",\
          "external_product_id": "7121693671604",\
          "external_variant_id": "41450853105844",\
          "quantity": 3,\
          "updated_at": "2022-08-26T18:52:41+00:00"\
        }\
      ],\
      "updated_at": "2022-08-26T18:31:28+00:00"\
    }\
  ]
}
```

# Retrieve a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Retrieve a `BundleSelection` using the `bundle_selection_id`.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object


- 404




















the `BundleSelection` with `bundle_selection_id` does not exist










Show response object



GET

/bundle\_selections/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/bundle_selections/100714428' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200

404


```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# Create a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Create a `BundleSelection`.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_subscriptions


##### Body Parameters

- purchase\_item\_id







integer





\\* Required














The ID of the `PurchaseItem` associated with the `BundleSelection`.

- plan\_id







integer














A Recharge Plan ID. If provided in a dynamically-priced Bundle, the unit price of each product variant will be inferred from the plan associated with the ID; otherwise, it will be inferred from the plan with the greatest discount for each product in the selection. This is not used in fixed-priced Bundles.

- items







array





\\* Required














A list of `item` objects, each containing information about a distinct product selected as part of the Bundle.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 422




















missing required field or invalid items passed










Show response object



POST

/bundle\_selections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/bundle_selections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "purchase_item_id": 199820883,
  "items": [\
    {\
      "collection_id": "287569608884",\
      "collection_source": "shopify",\
      "external_product_id": "7121693671604",\
      "external_variant_id": "41450853105844",\
      "quantity": 3\
    }\
  ]
}'
```

Response

200

422


```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# Update a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Modify an existing `BundleSelection` to match the specified parameters.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_subscriptions


##### Body Parameters

- purchase\_item\_id







integer














The ID of the `PurchaseItem` associated with the `BundleSelection`.

- plan\_id







integer














A Recharge Plan ID. If provided in a dynamically-priced Bundle, the unit price of each product variant will be inferred from the plan associated with the ID; otherwise, it will be inferred from the plan with the greatest discount for each product in the selection. This is not used in fixed-priced Bundles.

- items







array














A list of `item` objects, each containing information about a distinct product selected as part of the Bundle.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 404




















the `BundleSelection` with `bundle_selection_id` does not exist










Show response object


- 422




















invalid items passed










Show response object



PUT

/bundle\_selections/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/bundle_selections/100714428' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "purchase_item_id": 199820883,
  "items": [\
    {\
      "collection_id": "287569608884",\
      "collection_source": "shopify",\
      "external_product_id": "7121693671604",\
      "external_variant_id": "41450853105844",\
      "quantity": 3\
    }\
  ]
}'
```

Response

200

404

422


```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# Delete a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Delete a `BundleSelection`

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_subscriptions


##### Responses

- 204




















the `BundleSelection` has been removed and there is no content to send back in the response body.










Show response object


- 404




















the `BundleSelection` with `id` does not exist










Show response object



DELETE

/bundle\_selections/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/bundle_selections/100714428' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204

404


```hljs json
{}
```

# Charges

A charge is the representation of a financial transaction linked to the purchase of an item (past or future). It can be a transaction that was processed already or the representation of an upcoming transaction. A `Charge` is linked to its corresponding `Orders` (one `Order` for pay as you go subscriptions and several for pre-paid). `Orders` are created once the corresponding `Charge` is successful. After successful payment, the first `Order` will be immediately submitted to the external platform if applicable (e.g. Shopify, BigCommerce). ![](https://developer.getrecharge.com/images/charge.png)

Endpoints

GET

/charges/{id}


GET

/charges


POST

/charges/{id}/apply\_discount


POST

/charges/{id}/remove\_discount


POST

/charges/{id}/skip


POST

/charges/{id}/unskip


POST

/charges/{id}/refund


POST

/charges/{id}/process


POST

/charges/{id}/capture\_payment


Expand

# The charge object

A `Charge` is the representation of the financial transaction linked to a purchase (past or future). It can be a transaction that was processed already or the representation of an upcoming transaction. A charge is linked to its corresponding `Orders` (one for pay as you go subscriptions and several for pre-paid).

A `Charge` can have many parent subscriptions. All subscriptions on a given `Address` with the same `next_charge_date` date will be merged into one `Charge` and that charge will contain one `line_item` per `Subscription`.

##### Attributes

- id







integer














The unique numeric identifier for the `Charge`.

- address\_id







integer














The ID of the shipping `Address` tied to the `Charge`.

- analytics\_data







object














An object containing analytics data associated with the `Charge`.










Show object attributes


- billing\_address







object














All the billing information related to the charge.










Show object attributes


- client\_details







object














Details of the access method used by the purchaser.










Show object attributes


- created\_at







datetime














The date and time when the transaction was created.

- currency







string














The code of the currency for this `Charge`, such as `USD`.







Related guides: [Supported currencies](https://support.rechargepayments.com/hc/en-us/articles/360037897534-Supported-currencies)

- customer







object














An object containing `Customer` information associated with this `Charge`.










Show object attributes


- discounts







array














An array of `Discounts` associated with the `Charge`.










Show object attributes


- external\_order\_id







object














An object containing the associated external order ID.










Show object attributes


- external\_transaction\_id







object














An object containing the associated external transaction ID.










Show object attributes


- line\_items







array














A list of `line_item` objects, each containing information about a distinct purchase item.










Show object attributes


- note







string














Notes associated with the `Charge`.

- order\_attributes







array














An array of name-value pairs of order attributes on the `Charge`.










Show object attributes


- orders\_count







integer














The number of `Orders` generated from this `Charge` (>1 for prepaid `Subscriptions`).

- payment\_processor







string














The payment processor used for this `Charge`.

- processed\_at







datetime














The date and time when the transaction was processed.

- scheduled\_at







date














The date time of when the `Charge` is/was scheduled to process.

- shipping\_address







object














The shipping `Address` of the `Charge`.










Show object attributes


- shipping\_lines







array














An array of shipping lines associated with the `Charge`.










Show object attributes


- status







string













Possible values:

success,

error,

queued,

skipped,

refunded,

partially\_refunded,

pending\_manual\_payment,

pending










The status of the `Charge`.

- subtotal\_price







string














The combined price of all `line_items` without taxes and shipping.

- tags







string














A comma-separated list of tags on the `Charge`.

- tax\_lines







array














An array of tax lines that apply to the `Charge`.










Show object attributes


- taxable







boolean














A boolean indicator of the taxability of the `Charge`.

- taxes\_included







boolean














Whether taxes are included in the order subtotal.

- total\_discounts







string














The sum of the `Discounts` applied to the `Charge`.

- total\_line\_items\_price







string














The total price of all line items of the `Charge`.

- total\_price







string














The sum of all the prices of all the items in the `Charge`, taxes and discounts included (must be positive).

- total\_refunds







string














The sum of all refunds that were applied to the `Charge`.

- total\_tax







string














The total tax due associated with the `Charge`.

- total\_weight\_grams







integer














The total weight of the `Charge`’s line items in grams.

- type







string













Possible values:

checkout,

recurring










An indicator of the `Charge`’s type, either checkout or recurring.

- updated\_at







datetime














The date time at which the `Charge` was most recently updated.


##### Error related attributes

- error







string














Error reason as sentence text (typically returned direct from the payment processor). e.g. `"error": "Customer needs to update credit card"`

- error\_type







string














Structured reason why the charge failed such as `CUSTOMER_NEEDS_TO_UPDATE_CARD`.

- charge\_attempts







integer














Shows how many times an attempt to charge was placed.

- external\_variant\_id\_not\_found







boolean














Indicates if Recharge was able to find the `external_variant_id` from the `Charge`.

- retry\_date







date














The date when the next attempt will be placed.


##### More Attributes

- has\_uncommited\_changes







boolean














Specifies whether the `Charge` is scheduled for a regeneration (if the `Subscription` related to the charge was updated in the last 5 seconds using `commit=false`).


The charge object

```hljs json
{
  "charge": {
    "id": 100714428,
    "address_id": 21317826,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "differentiate-content",\
          "utm_data_source": "cookie",\
          "utm_medium": "email",\
          "utm_source": "newsletter",\
          "utm_term": "test-term",\
          "utm_time_stamp": "2019-12-16T23:57:28.752Z"\
        }\
      ]
    },
    "billing_address": {
      "address1": "3030 Nebraska Avenue",
      "address2": null,
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Mike",
      "last_name": "Flynn",
      "phone": "3103843698",
      "province": "California",
      "zip": "90404"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2018-11-14T09:45:44+00:00",
    "currency": "USD",
    "customer": {
      "id": 12345,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "10DOLLAROFF",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_XXXXXXXXXXXXXXX"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "99999999999"\
        },\
        "grams": 4536,\
        "images": {\
          "large": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee_large.png",\
          "medium": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee__medium.png",\
          "original": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee_.png",\
          "small": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee__small.png"\
        },\
        "original_price": "12.00",\
        "properties": [\
          {\
            "name": "grind",\
            "value": "drip"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "MILK-1",\
        "tax_due": "1.14",\
        "tax_lines": [\
          {\
            "price": "0.870",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.270",\
            "rate": 0.0225,\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "12.00",\
        "title": "Sumatra Coffee",\
        "total_price": "13.14",\
        "unit_price": "12.00",\
        "variant_title": "Milk - a / b"\
      }\
    ],
    "note": "next order #1",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "processor_name": "stripe",
    "scheduled_at": "2018-12-12",
    "shipping_address": {
      "address1": "3030 Nebraska Avenue",
      "address2": "",
      "city": "Los Angeles",
      "company": "Recharge",
      "country": "United States",
      "first_name": "Mike",
      "last_name": "Flynn",
      "phone": "3103843698",
      "province": "California",
      "zip": "90404"
    },
    "shipping_lines": [\
      {\
        "code": "Standard Shipping",\
        "price": "0.00",\
        "title": "Standard Shipping"\
      }\
    ],
    "status": "queued",
    "subtotal_price": "12.00",
    "tags": "Subscription",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles County Tax"\
      }\
    ],
    "taxes_included": true,
    "total_discounts": "0.00",
    "total_line_items_price": "12.00",
    "total_price": "13.14",
    "total_refunds": null,
    "total_tax": "1.14",
    "total_weight_grams": 4536,
    "type": "recurring",
    "updated_at": "2018-11-14T09:45:44+00:00"
  }
}
```

# Retrieve a charge

Retrieve a `Charge` using the `charge_id`.

Starting March 19th, 2025, processed charges (those where status equals success, refunded, or partially-refunded) that have a value for processed\_at greater than 90 days in the past will no longer appear in responses. As a result, you may receive an error.

Charge data processed over 90 days ago will remain available through the [Exports tool](https://support.getrecharge.com/hc/en-us/articles/360049725373-Available-exports-in-the-Export-Builder#h_9ade00c9-7cdb-474d-9d91-1e976689eca9) in the Recharge merchant portal and within the [Merchant portal UI](https://support.getrecharge.com/hc/en-us/articles/360008829113-Viewing-order-information-in-the-merchant-portal).

Example of unaffected API calls:

\[RETRIEVE A CHARGE\] `/charges/{id}` (if it’s a charge that does not have a processed\_at date or the processed\_at date is within the last 90 days)

Example of API calls that will result in an error:

\[RETRIEVE A CHARGE\] `/charges/{id}` (if it’s a charge with a processed\_at date older than 90 days)

Scopes:
read\_orders


##### Responses

- 200




















successful response










Show response object



GET

/charges/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": "2021-01-01",
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "taxes_included": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# List charges

Returns a list of `Charges`.

## HTTP request examples

`GET /charges?address_id=:address_id`

`GET /charges?created_at_min=2016-05-18&created_at_max=2016-06-18`

`GET /charges?customer_id=:customer_id`

`GET /charges?discount_code=10PERCENTOFF`

`GET /charges?discount_id=:discount_id`

`GET /charges?external_order_id=:external_order_id`

`GET /charges?ids=1123551,262667345,12341535`

`GET /charges?purchase_item_id=:purchase_item_id`

`GET /charges?scheduled_at=2016-06-18`

`GET /charges?scheduled_at_min=2016-05-18&scheduled_at_max=2016-06-18`

`GET /charges?sort_by=id-desc`

`GET /charges?status=queued`

`GET /charges?status=queued,refunded,partially_refunded`

`GET /charges?updated_at_min=2016-05-18&updated_at_max=2016-06-18`

`GET /charges?processed_at_min=2022-01-18&processed_at_max=2022-02-18`

Starting March 19th, 2025, processed charges (those where status equals success, refunded, or partially- refunded) that have a value for processed\_at greater than 90 days in the past will no longer appear in responses. As a result, you may receive a partial data set or an empty list.

Charge data processed over 90 days ago will remain available through the [Exports tool](https://support.getrecharge.com/hc/en-us/articles/360049725373-Available-exports-in-the-Export-Builder#h_9ade00c9-7cdb-474d-9d91-1e976689eca9) in the Recharge merchant portal and within the [Merchant portal UI](https://support.getrecharge.com/hc/en-us/articles/360008829113-Viewing-order-information-in-the-merchant-portal).

Examples of unaffected API calls:

\[LIST CHARGES\] `/charges?status=queued`

\[LIST CHARGES\] `/charges?status=error`

Examples of API calls that may return partial results:

\[LIST CHARGES\] `/charges?processed_at_min=2024-01-01` (this would only return results that have a processed\_at date in the last 90 days)

\[LIST CHARGES\] `/charges?status=success,queued` (this would return all queued charges but only return success charges that have a processed\_at date in the last 90 days)

Example of API calls that will result in an empty list:

\[LIST CHARGES\] `/charges?processed_at_max=2024-01-01` (any date over 90 days old)

Reminder: returned charges are sorted ascending by id value by default.

Scopes:
read\_orders


##### Query Parameters

- address\_id







string














Filter `Charges` by `Address`.

- created\_at\_max







string














Show `Charges` created before the given date.

- created\_at\_min







string














Show `Charges` created after the given date.

- customer\_id







string














Filter `Charges` by `Customer`.

- discount\_code







string














List `Charges` that contain the given `discount_code`.

- discount\_id







string














List `Charges` that contain the given `discount_id`.

- external\_order\_id







string














Filter `Charges` by the associated order ID in the external e-commerce platform.

- ids







string














Filter `Charges` by ID.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- limit







string













Default: 50





Max: 250










The amount of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- purchase\_item\_id







string














Filter `Charges` by a `Subscription` or `Onetime` ID.

- purchase\_item\_ids







string














Filter `Charges` by a comma-separated list of `Subscription` or `Onetime` IDs.

- scheduled\_at







string














Filter `Charges` by specific scheduled charge date.

- scheduled\_at\_max







string














Show `Charges` scheduled to be processed before the given date.

- scheduled\_at\_min







string














Show `Charges` scheduled to be processed after the given date.

- sort\_by







string














Sort listed `Charges` in a specific order.

Available sort options: `id-asc`, `id-desc`, `updated_at-asc`, `updated_at-desc`, `scheduled_at-asc`, `scheduled_at-desc`.

- status







string














Filter charges by status.

Available status: `success`, `queued`, `error`, `refunded`, `partially_refunded`, `skipped`, `pending_manual_payment`, `pending`.

- updated\_at\_max







string














Show charges updated before the given date.

- updated\_at\_min







string














Show charges updated after the given date.

- processed\_at\_min







string














Show charges processed after, and including, the given date.

- processed\_at\_max







string














Show charges processed before, and including, the given date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/charges


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next": "next_cursor",
  "previous": "previous_cursor",
  "charges": [\
    {\
      "id": 377749210,\
      "address_id": 42171447,\
      "analytics_data": {\
        "utm_params": [\
          {\
            "utm_source": "facebook",\
            "utm_medium": "cpc"\
          }\
        ]\
      },\
      "billing_address": {\
        "address1": "601 SW Washing St.",\
        "address2": "Suite 101",\
        "city": "Portland",\
        "company": "Acme Corp",\
        "country_code": "US",\
        "first_name": "Jane",\
        "last_name": "Doe",\
        "phone": "888-888-8888",\
        "province": "Oregon",\
        "zip": "97205"\
      },\
      "client_details": {\
        "browser_ip": "192.168.0.1",\
        "user_agent": "safari webkit"\
      },\
      "created_at": "2021-11-09T19:22:13+00:00",\
      "currency": "USD",\
      "customer": {\
        "id": 37657002,\
        "email": "test@test.com",\
        "external_customer_id": {\
          "ecommerce": "2879413682227"\
        },\
        "hash": "7e706455cbd13e40"\
      },\
      "discounts": [\
        {\
          "id": 12345,\
          "code": "TESTCODE10",\
          "value": 10,\
          "value_type": "fixed_amount"\
        }\
      ],\
      "error": null,\
      "error_type": null,\
      "external_order_id": {\
        "ecommerce": "2541635698739"\
      },\
      "external_transaction_id": {\
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"\
      },\
      "has_uncommitted_changes": false,\
      "line_items": [\
        {\
          "purchase_item_id": 63898947,\
          "external_product_id": {\
            "ecommerce": "4381728735283"\
          },\
          "external_variant_id": {\
            "ecommerce": "999999999999"\
          },\
          "grams": 454,\
          "handle": "shirt-package",\
          "images": {\
            "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
            "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
            "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
            "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
          },\
          "original_price": "10.00",\
          "properties": [\
            {\
              "name": "Color",\
              "value": "Blue"\
            }\
          ],\
          "purchase_item_type": "subscription",\
          "quantity": 1,\
          "sku": "TOM0001",\
          "tax_due": "1.30",\
          "tax_lines": [\
            {\
              "price": "0.9931",\
              "rate": "0.0725",\
              "title": "CA State Tax",\
              "unit_price": "0.3310"\
            },\
            {\
              "price": "0.3082",\
              "rate": "0.0225",\
              "title": "LA County Tax",\
              "unit_price": "0.1027"\
            }\
          ],\
          "taxable": true,\
          "taxable_amount": "10.00",\
          "title": "Shirt package",\
          "total_price": "11.30",\
          "unit_price": "10.00",\
          "unit_price_includes_tax": false,\
          "variant_title": "Blue T-shirt"\
        }\
      ],\
      "note": "next order in sequence 3",\
      "order_attributes": [\
        {\
          "name": "Checkout-Method",\
          "value": "delivery"\
        }\
      ],\
      "orders_count": 1,\
      "payment_processor": "stripe",\
      "processed_at": "2021-11-09T23:59:31+00:00",\
      "retry_date": "2021-01-01",\
      "scheduled_at": "2021-12-09",\
      "shipping_address": {\
        "address1": "1030 Barnum Ave",\
        "address2": "Suite 101",\
        "city": "Stratford",\
        "company": "Fake Company",\
        "country_code": "US",\
        "first_name": "Fake First",\
        "last_name": "Fake Last",\
        "phone": "999-999-9999",\
        "province": "Connecticut",\
        "zip": "06614"\
      },\
      "shipping_lines": [\
        {\
          "code": "Standard",\
          "price": "4.90",\
          "source": "shopify",\
          "taxable": true,\
          "tax_lines": [\
            {\
              "price": "0.355",\
              "rate": 0.0725,\
              "title": "CA State Tax"\
            },\
            {\
              "price": "0.110",\
              "rate": 0.0225,\
              "title": "Los Angeles  County Tax"\
            }\
          ],\
          "title": "Standard"\
        }\
      ],\
      "status": "success",\
      "subtotal_price": "10.00",\
      "tags": "Subscription, Subscription Recurring Order",\
      "tax_lines": [\
        {\
          "price": "0.950",\
          "rate": 0.0725,\
          "title": "CA State Tax"\
        },\
        {\
          "price": "0.335",\
          "rate": 0.0225,\
          "title": "Los Angeles  County Tax"\
        }\
      ],\
      "taxable": true,\
      "taxes_included": true,\
      "total_discounts": "10.0",\
      "total_line_items_price": "10.00",\
      "total_price": "11.29",\
      "total_refunds": "0.00",\
      "total_tax": "1.29",\
      "total_weight_grams": 454,\
      "type": "recurring",\
      "updated_at": "2021-11-09T23:59:32+00:00"\
    }\
  ]
}
```

# Apply a discount

Endpoint for adding `Discount` to an existing queued `Charge`.

You cannot add a `Discount` to an existing queued `Charge` if the `Charge` or the associated `Address` already has one.

You can provide either `discount_id` or `discount_code`. If both parameters are passed, the value for `discount_id` will take precedence.

If a `Charge` has a `Discount` and it gets updated, or a regeneration occurs, the `Discount` will be lost. Regeneration is a process that refreshes the `Charge` JSON with new data in the case of the `Subscription` or `Address` being updated.

Scopes:
write\_orders


##### Body Parameters

- discount\_code







string














Code of the `Discount` you want to apply to a `Charge`.

- discount\_id







integer














ID of the `Discount` you want to apply to a `Charge`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/apply\_discount


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/105805051/apply_discount' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"discount_code": "test"}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": "2021-01-01",
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Remove a discount

Remove a `Discount` from a `Charge` without destroying the `Discount`.

## HTTP request examples

`POST /charges/<charge_id>/remove_discount/`

In most cases the `Discount` should be removed from the `Address`. When the `Discount` is removed from the `Address`, the `Discount` is also removed from any future `Charges`.

If the `Discount` is on the parent `Address`, you cannot remove it using `charge_id`. When removing your `Discount`, it is preferable to pass the `address_id` so that the `Discount` stays removed if the `Charge` is regenerated. Only pass `charge_id` in edge cases in which there are two or more `Charges` on a parent `Address` and you only want to remove the `Discount` from one `Charge`. If you pass both parameters, it will remove the `Discount` from the `Address`.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/remove\_discount


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/459904607/remove_discount' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": "2021-01-01",
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Skip a charge

Skip a `Charge`.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/skip


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210/skip' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"purchase_item_ids": [27363808, 27363809]}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": null,
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "skipped",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Unskip a charge

Unskip a `Charge`.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object


- 422




















Unprocessable










Show response object



POST

/charges/{id}/unskip


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210/unskip' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"purchase_item_ids": [27363808]}'
```

Response

200

422


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": null,
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "queued",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Refund a charge

[BigCommerce](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Refund a `Charge`.

After the `POST` request, that particular `Charge` will have `status` parameter updated to `refunded` or `partially_refunded` depending on the value of the `amount` parameter. If `retry` is `true`, `error` and `error_type` are required, the `Charge` will have `status` parameter updated to `error`. This means a new transaction would occur if the charge dunning process succeeds again. This functionality is used when the order submission attempt on the remote platform failed after the transaction succeeded.

Scopes:
write\_orders

write\_payment\_methods


##### Body Parameters

- amount







string





\\* Required














Amount of money that will be refunded. It can be fully or partially refunded.

- full\_refund







boolean














If this parameter has value `true`, the `Charge` will be totally refunded.

- retry







boolean














If this parameter has value `true` and `full_refund` has value `true`, the `Charge` will be retried. The `status` on the `Charge` will be returned as “error”.

- error







string














If the `retry` parameter has value `true`, this value is required. Valid values are “insufficient\_inventory”.

- error\_type







string














If the `retry` parameter has value `true`, this value is required.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/refund


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210/refund' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"amount": 11.00}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "refunded",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "11.29",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Process a charge

Pro only

The charge processing route can be used to process `Charges` that are in a `queued` or `error` status.

Related guides:
[Charges FAQ](https://docs.rechargepayments.com/docs/charges#charges-faq)

The `/charges/{id}/process` endpoint is available to Recharge Pro merchants on a request basis. If you’re interested in leveraging the Recharge `Charge` processing API, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_payments


##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/process


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/100714428/process' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Capture a charge

If you are leveraging the authorize/capture workflow with Recharge, the `charge/{id}/capture_payment` endpoint is how to capture the funds of a previously authorized `Charge`.

## Capture Window

You can only capture payment on `Charges` that have been authorized within the last 7 days. This is a limitation of payment providers/financial institutions and Recharge cannot configure or override this limit. Any `Charges` that are attempted to be captured beyond that 7 day window may result in an error indicating the `Charge` cannot be captured.

As a result, Recharge provides a `charge/uncaptured` `Webhook`. If subscribed, this `Webhook` will notify you of any `Charges` that are not captured 6 days after authorization. Please refer to the [webhooks section](https://developer.getrecharge.com/2021-01/webhooks_endpoints) for more information.

The `/charges/{id}/capture_payment` endpoint is available to Recharge Pro merchants in the Recharge Closed Beta group. If you’re interested in leveraging the Recharge `capture_payment` endpoint, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_customers

write\_orders

write\_payment\_methods

write\_subscriptions


##### Responses

- 200




















Charge captured successfully










Show response object


- 400




















Bad Request










Show response object


- 404




















Not Found










Show response object


- 422




















Unprocessable










Show response object



POST

/charges/{id}/capture\_payment


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/100714428/capture_payment' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200

400

404

422


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Checkouts

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)

`Checkouts` allow you to create, update, and process a `Checkout` programmatically. Shipping cost and sales tax determination are automatic functions of the Recharge Checkout resource.

Related guides: [Recharge checkout integrations](https://docs.rechargepayments.com/docs/checkout), [How to use the Checkout resource](https://docs.rechargepayments.com/docs/checkouts#how-to-use-checkout-api)

**Important -** The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Endpoints

POST

/checkouts


GET

/checkouts/{token}


POST

/checkouts


PUT

/checkouts/{token}


GET

/checkouts/{token}/shipping\_rates


POST

/checkouts/{token}/charge


Expand

# The checkout object

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)

`Checkouts` resource allows you to create, update, and process a checkout programmatically. Shipping cost and sales tax determination are automatic functions of the Recharge Checkout resource.

The `Checkout` endpoints are only available for BigCommerce and Custom. `Checkouts` on Shopify must go through Shopify.

##### Attributes

- charge\_id







integer














ID for the `Charge` resulting from processing the `Checkout`.

- analytics\_data







object














Urchin Tracking Module (UTM) parameters are used for online marketing campaigns.










Show object attributes


- applied\_discounts







array














`Discount` details, populated once the `Discount` has been applied successfully to the `Checkout`.










Show object attributes


- applied\_shipping\_rate







object














Shipping rates details, populated once the rates have been selected and applied successfully to the `Checkout`.










Show object attributes


- available\_shipping\_rates







array














Shipping rates available for the shipping address provided in the `Checkout`.







`Checkout` object must contain the `shipping_address` before the `available_shipping_rates` are populated.










Show object attributes


- billing\_address







object














Billing `Address` for the `Checkout`.










Show object attributes


- completed\_at







datetime














Timestamp for when the `Checkout` was processed.

- created\_at







datetime














Timestamp for when the `Checkout` was created.

- currency







string














Currency of the `Checkout`.

- email







string














Email address for the `Customer`.

- external\_checkout\_id







string














External checkout reference, if one exists.

- external\_checkout\_source







string














External checkout platform, if one exists.

- external\_customer\_id







object














External customer reference, if one exists.










Show object attributes


- external\_transaction\_id







object














The ID of the associated transaction in a payment processor system (like Stripe).










Show object attributes


- line\_items







array














A list of items included in the `Checkout`







`quantity` and `external_variant_id` are required parameters in `line_items`.










Show object attributes


- note







string














Custom note.

- notification\_preferences







object














Notification preferences for the `Customer`.










Show object attributes


- order\_attributes







array














List of name-value pairs for custom attributes.










Show object attributes


- payment\_processor







string














Name of the payment processor.

- requires\_shipping







boolean














Whether or not the `Checkout` contains items that require shipping.

- shipping\_address







object














Shipping `Address` for the `Checkout`.










Show object attributes


- shipping\_lines







object














Details of shipping rate, cost…










Show object attributes


- subtotal\_price







string














Value of the `Checkout` minus shipping and tax.

- tax\_lines







array














Array of `tax_line` objects.










Show object attributes


- taxable







boolean














Whether the `Checkout` contains items that are taxable.

- taxes\_included







boolean














Whether the tax is included in the price of the items.

- token







string














Unique token for the `Checkout`.

- total\_price







string














Full price of the `Checkout` including shipping and tax.

- total\_tax







string














Tax charged on the `Checkout`.

- updated\_at







datetime














Timestamp for the latest `Checkout` update.


##### Error related attributes

##### More Attributes

The checkout object

```hljs json
{
  "checkout": {
    "charge_id": null,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discounts": [\
      {\
        "amount": "5.00",\
        "applicable": true,\
        "discount_code": "5_DOLLARS_OFF",\
        "non_redeemable_reason": null,\
        "value": "5.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "applied_shipping_rate": {
      "checkout": {
        "subtotal_price": null,
        "total_price": null,
        "total_tax": null
      },
      "code": "Flat rate (3 - 7 Business Days)",
      "delivery_range": null,
      "description": null,
      "handle": "recharge-Flat%20rate%20%283%20-%207%20Business%20Days%29-7.49",
      "name": "Flat rate (3 - 7 Business Days)",
      "phone_required": null,
      "price": "7.49",
      "tax_lines": [],
      "title": "Flat rate (3 - 7 Business Days)"
    },
    "available_shipping_rates": [\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "Flat rate (3 - 7 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-Flat%20rate%20%283%20-%207%20Business%20Days%29-7.49",\
        "name": "Flat rate (3 - 7 Business Days)",\
        "phone_required": null,\
        "price": "7.49",\
        "tax_lines": [],\
        "title": "Flat rate (3 - 7 Business Days)"\
      },\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "3 Days (3 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-3%20Days%20%283%20Business%20Days%29-11.75",\
        "name": "3 Days (3 Business Days)",\
        "phone_required": null,\
        "price": "11.75",\
        "tax_lines": [],\
        "title": "3 Days (3 Business Days)"\
      }\
    ],
    "billing_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "completed_at": null,
    "created_at": "2021-11-16T00:51:28+00:00",
    "currency": "USD",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "<external_cart_id>",
    "external_checkout_source": "custom",
    "external_customer_id": {
      "ecommerce": null,
      "payment_processor": null
    },
    "external_transaction_id": {
      "payment_processor": null
    },
    "line_items": [\
      {\
        "id": 0,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "12345"\
        },\
        "external_variant_id": {\
          "ecommerce": "123456"\
        },\
        "handle": "shirt-with-design",\
        "images": {\
          "small": "https://veryniceimage.jpg"\
        },\
        "properties": [\
          {\
            "name": "size",\
            "value": "xl"\
          }\
        ],\
        "purchase_item_type": "onetime",\
        "quantity": 3,\
        "recurring_unit_price": "12.00",\
        "requires_shipping": true,\
        "sku": null,\
        "subscription_preferences": {\
          "charge_delay": null,\
          "charge_interval_frequency": null,\
          "charge_on_day_of_month": null,\
          "charge_on_day_of_week": null,\
          "number_charges_until_expiration": null,\
          "shipping_interval_frequency": null,\
          "shipping_interval_unit_type": null\
        },\
        "tax_lines": [],\
        "taxable": false,\
        "title": "A Nice Shirt",\
        "total_price": "36.00",\
        "unit_price": "12.00",\
        "variant_title": null,\
        "weight": 340,\
        "weight_unit": "g"\
      }\
    ],
    "note": "flash sale",
    "notification_preferences": {
      "email": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      },
      "sms": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      }
    },
    "order_attributes": {
      "customer_niceness": "very"
    },
    "payment_processor": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "shipping_lines": [\
      {\
        "code": "Flat rate (3 - 7 Business Days)",\
        "price": "7.49",\
        "tax_lines": [],\
        "taxable": false,\
        "title": "Flat rate (3 - 7 Business Days)"\
      }\
    ],
    "subtotal_price": "31.00",
    "tax_lines": [],
    "taxable": false,
    "taxes_included": false,
    "token": "efd5a6b12b984f439ec16ce2a00fb5c3",
    "total_price": "31.00",
    "total_tax": "0.00",
    "updated_at": "2021-11-16T00:51:28+00:00"
  }
}
```

# Create a checkout

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Create a `Checkout`

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Scopes:
write\_checkouts


##### Query Parameters

- get\_shipping\_rates







boolean














If specified as a query parameter, shipping rates will be retrieved and will allow providing applied\_shipping\_rate upon checkout creation.


##### More Parameters

##### Body Parameters

- analytics\_data







object














Urchin Tracking Module (UTM) parameters are used for online marketing campaigns.










Show object attributes


- applied\_discounts







array














`Discount` to apply to the `Checkout`.










Show object attributes


- applied\_shipping\_rate







object














Shipping rates details, populated once the rates have been selected and applied successfully to the `Checkout`.







Important: You can only create a checkout with `applied_shipping_rate` if you pass the query parameter `get_shipping_rates=true` or if you supply a list of shipping rates using `custom_shipping_rate_options`.










Show object attributes


- custom\_shipping\_rate\_options







array














List of available shipping rates to use when selecting a shipping rate with `applied_shipping_rate`. Custom shipping rates will take precedence over any default rates fetched using `get_shipping_rates=true`.










Show object attributes


- billing\_address







object














Billing `Address` for the `Checkout`.










Show object attributes


- currency







string














Currency of the `Checkout`.

- email







string














Email address for the `Customer`.

- external\_checkout\_id







string














External checkout reference, if one exists.

- external\_checkout\_source







string














External checkout platform, if one exists.

- external\_transaction\_id







object














The ID of the associated transaction in a payment processor system (like Stripe).










Show object attributes


- line\_items







array





\\* Required














A list of items included in the `Checkout`







`quantity` and `external_variant_id` are required parameters in `line_items`.










Show object attributes


- note







string














Custom note.

- order\_attributes







array














List of name-value pairs for custom attributes.










Show object attributes


- shipping\_address







object














Shipping `Address` for the `Checkout`.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/checkouts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "analytics_data": {
    "utm_params": [\
      {\
        "utm_campaign": "spring_sale",\
        "utm_content": "textlink",\
        "utm_data_source": "shopify_cookie",\
        "utm_medium": "cpc",\
        "utm_source": "google",\
        "utm_term": "mleko",\
        "utm_timestamp": "2020-03-05T00:00:00"\
      }\
    ]
  },
  "applied_discounts": [\
    {\
      "discount_code": "5_DOLLARS_OFF"\
    }\
  ],
  "billing_address": {
    "address1": "6419 Ocean Front Walk",
    "address2": "Apt 2",
    "city": "Los Angeles",
    "company": "",
    "country_code": "US",
    "first_name": "Novak",
    "last_name": "Djokovic",
    "phone": "1-800-800-8000",
    "province": "California",
    "zip": "90293"
  },
  "email": "somerandomemail@test.com",
  "external_checkout_id": "<external_cart_id>",
  "external_checkout_source": "custom",
  "line_items": [\
    {\
      "external_product_id": {\
        "ecommerce": "12345"\
      },\
      "external_variant_id": {\
        "ecommerce": "123456"\
      },\
      "handle": "shirt-with-design",\
      "images": {\
        "small": "http://small.jpg"\
      },\
      "properties": [\
        {\
          "name": "size",\
          "value": "xl"\
        },\
        {\
          "name": "color",\
          "value": "fuchsia"\
        }\
      ],\
      "quantity": 3,\
      "subscription_preferences": {\
        "charge_interval_frequency": null,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": null,\
        "interval_unit": null,\
        "order_day_of_month": null,\
        "order_day_of_week": null,\
        "order_interval_frequency": null\
      },\
      "tax_lines": [\
        {\
          "price": "0.950",\
          "rate": 0.0725,\
          "title": "CA State Tax"\
        }\
      ]\
    }\
  ],
  "note": "flash sale",
  "order_attributes": {
    "customer_niceness": "very"
  },
  "shipping_address": {
    "address1": "6419 Ocean Front Walk",
    "address2": "Apt 2",
    "city": "Los Angeles",
    "company": "",
    "country_code": "US",
    "first_name": "Novak",
    "last_name": "Djokovic",
    "phone": "1-800-800-8000",
    "province": "California",
    "zip": "90293"
  }
}'
```

Response

200


```hljs json
{
  "checkout": {
    "charge_id": null,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "shopify_cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discounts": [\
      {\
        "amount": "5.00",\
        "applicable": true,\
        "discount_code": "5_DOLLARS_OFF",\
        "non_redeemable_reason": null,\
        "value": "5.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "billing_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "completed_at": null,
    "created_at": "2021-11-16T00:51:28+00:00",
    "currency": "USD",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "f71848585658686-36f6-d9efg8125rogkfdaa",
    "external_checkout_source": "custom",
    "external_customer_id": {
      "ecommerce": null,
      "payment_processor": null
    },
    "external_transaction_id": {
      "payment_processor": null
    },
    "line_items": [\
      {\
        "id": null,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "12345"\
        },\
        "external_variant_id": {\
          "ecommerce": "123456"\
        },\
        "handle": "shirt-with-design",\
        "images": {\
          "small": "http://small.jpg"\
        },\
        "properties": [\
          {\
            "name": "size",\
            "value": "xl"\
          },\
          {\
            "name": "color",\
            "value": "fuchsia"\
          }\
        ],\
        "purchase_item_type": "onetime",\
        "quantity": 3,\
        "requires_shipping": true,\
        "sku": null,\
        "subscription_preferences": {\
          "charge_interval_frequency": null,\
          "cutoff_day_of_month": null,\
          "cutoff_day_of_week": null,\
          "expire_after_specific_number_of_charges": null,\
          "interval_unit": null,\
          "order_day_of_month": null,\
          "order_day_of_week": null,\
          "order_interval_frequency": null\
        },\
        "tax_lines": [],\
        "taxable": false,\
        "title": "A Very Nice Shirt",\
        "total_price": "36.00",\
        "unit_price": "12.00",\
        "variant_title": null,\
        "weight": 340,\
        "weight_unit": "g"\
      }\
    ],
    "note": "flash sale",
    "notification_preferences": {
      "email": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      },
      "sms": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      }
    },
    "order_attributes": {
      "customer_niceness": "very"
    },
    "payment_processor": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "subtotal_price": "31.00",
    "tax_lines": [],
    "taxable": false,
    "taxes_included": false,
    "token": "efd5a6b12b984f439ec16ce2a00fb5c3",
    "total_price": "31.00",
    "total_tax": "0.00",
    "updated_at": "2021-11-16T00:51:28+00:00"
  }
}
```

# Retrieve a checkout

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Retrieve a checkout.

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Scopes:
read\_checkouts


##### Responses

- 200




















successful response










Show response object



GET

/checkouts/{token}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts/6a7c36a1213a4d7fb746e6588fa55005' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

200


```hljs json
{
  "checkout": {
    "charge_id": null,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "shopify_cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discounts": [\
      {\
        "amount": "5.00",\
        "applicable": true,\
        "discount_code": "5_DOLLARS_OFF",\
        "non_redeemable_reason": null,\
        "value": "5.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "applied_shipping_rate": {
      "checkout": {
        "subtotal_price": null,
        "total_price": null,
        "total_tax": null
      },
      "code": "3 Days (3 Business Days)",
      "delivery_range": null,
      "description": null,
      "handle": "recharge-3%20Days%20%283%20Business%20Days%29-11.75",
      "name": "3 Days (3 Business Days)",
      "phone_required": null,
      "price": "11.75",
      "tax_lines": [],
      "title": "3 Days (3 Business Days)"
    },
    "available_shipping_rates": [\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "Flat rate (3 - 7 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-Flat%20rate%20%283%20-%207%20Business%20Days%29-7.49",\
        "name": "Flat rate (3 - 7 Business Days)",\
        "phone_required": null,\
        "price": "7.49",\
        "tax_lines": [],\
        "title": "Flat rate (3 - 7 Business Days)"\
      },\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "3 Days (3 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-3%20Days%20%283%20Business%20Days%29-11.75",\
        "name": "3 Days (3 Business Days)",\
        "phone_required": null,\
        "price": "11.75",\
        "tax_lines": [],\
        "title": "3 Days (3 Business Days)"\
      }\
    ],
    "billing_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "completed_at": null,
    "created_at": "2021-11-16T00:51:28+00:00",
    "currency": "USD",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "<external_cart_id>",
    "external_checkout_source": "headless",
    "external_customer_id": {
      "ecommerce": null,
      "payment_processor": null
    },
    "external_transaction_id": {
      "payment_processor": null
    },
    "line_items": [\
      {\
        "id": null,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "12345"\
        },\
        "external_variant_id": {\
          "ecommerce": "123456"\
        },\
        "handle": "shirt-with-design",\
        "images": {\
          "small": "http://small.jpg"\
        },\
        "properties": [\
          {\
            "name": "size",\
            "value": "xl"\
          }\
        ],\
        "purchase_item_type": "onetime",\
        "quantity": 3,\
        "requires_shipping": true,\
        "sku": null,\
        "subscription_preferences": {\
          "charge_interval_frequency": null,\
          "cutoff_day_of_month": null,\
          "cutoff_day_of_week": null,\
          "expire_after_specific_number_of_charges": null,\
          "interval_unit": null,\
          "order_day_of_month": null,\
          "order_day_of_week": null,\
          "order_interval_frequency": null\
        },\
        "tax_lines": [],\
        "taxable": false,\
        "title": "A Very Nice Shirt",\
        "total_price": "36.00",\
        "unit_price": "12.00",\
        "variant_title": null,\
        "weight": 340,\
        "weight_unit": "g"\
      }\
    ],
    "note": "flash sale",
    "notification_preferences": {
      "email": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      },
      "sms": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      }
    },
    "order_attributes": {
      "customer_niceness": "very"
    },
    "payment_processor": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "subtotal_price": "31.00",
    "tax_lines": [],
    "taxable": false,
    "taxes_included": false,
    "token": "efd5a6b12b984f439ec16ce2a00fb5c3",
    "total_price": "31.00",
    "total_tax": "0.00",
    "updated_at": "2021-11-16T00:51:28+00:00"
  }
}
```

# Update a checkout

You can modify an existing checkout to match the specified parameters.

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Scopes:
write\_checkouts


##### Query Parameters

- get\_shipping\_rates







boolean














If specified as a query parameter, shipping rates will be retrieved and will allow providing applied\_shipping\_rate upon checkout update.


##### More Parameters

##### Body Parameters

- analytics\_data







array














Urchin Tracking Module (UTM) parameters are used for online marketing campaigns.










Show object attributes


- applied\_shipping\_rate







object














Shipping rates details, populated once the rates have been selected and applied successfully to the `Checkout`.







Important: You can only set `applied_shipping_rate` if you have already collected the `available_shipping_rates` by calling `GET /checkout/<checkout_token>/shipping_rates` or if you pass the query parameter `get_shipping_rates=true` when calling this route.



`code`, `price` and `title` are required when setting a custom shipping rate










Show object attributes


- billing\_address







object














Billing address for the checkout.










Show object attributes


- buyer\_accepts\_marketing







boolean














Does the buyer accept marketing, newsletters etc.

- discount\_code







string














Discount code to be used on the checkout, e.g. “DISCOUNT20”.

- currency







string














Currency of the `Checkout`.

- email







string














Email address for the customer.

- external\_checkout\_id







string














Represents the external cart token.

- external\_checkout\_source







string














Represents the source for `external_checkout_id`.

- line\_items







array














`quantity`, `product_id` and `variant_id` are required parameters in line\_items.










Show object attributes


- note







string














Note attribute used to store custom notes.

- partial\_shipping







boolean














When set to true, shipping address validations are reduced to only require country and zip when creating/updating a checkout. The full shipping address including address line 1 must be added to the checkout before processing associated charges. This is helpful for mobile payments.



Related guides: [Mobile payments](https://docs.rechargepayments.com/docs/checkouts#mobile-payments-with-checkout-api)

- order\_attributes







array














Structured custom notes.










Show object attributes


- phone







string














Customer phone number.

- shipping\_address







object














Shipping address for the checkout.







When using mobile payment options, insufficient shipping address data is available until payment intent, which causes validation errors when updating the checkout object.



Related guides: [Checkout mobile payment](https://docs.rechargepayments.com/docs/checkouts#mobile-payments-with-checkout-api)










Show object attributes


- shipping\_line







array














Shipping lines.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/checkouts/{token}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/checkouts/b706eecfd66c45329d3886a02d7515d6' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "line_items": [\
    {\
      "product_id": 4546063663207,\
      "quantity": 6,\
      "variant_id": 3844924611\
    }\
  ]
}'
```

Response

200


```hljs json
{
  "checkout": {
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "shopify_cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discount": {
      "amount": "7.50",
      "applicable": true,
      "non_applicable_reason": "",
      "value": "7.50",
      "value_type": "fixed_amount"
    },
    "billing_address": null,
    "buyer_accepts_marketing": false,
    "charge_id": null,
    "completed_at": null,
    "created_at": "2020-07-10T09:21:46.259352+00:00",
    "currency": "USD",
    "discount_code": "POPUS_25",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "<shopify_cart_token>",
    "external_checkout_source": "shopify",
    "line_items": [\
      {\
        "charge_interval_frequency": 5,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": null,\
        "first_recurring_charge_delay": null,\
        "fulfillment_service": "manual",\
        "image": "//cdn.shopify.com/s/files/1/0279/8387/2103/products/kazan_small.jpg?v=1586451337",\
        "line_price": "30.00",\
        "order_day_of_month": null,\
        "order_day_of_week": null,\
        "order_interval_frequency": 5,\
        "order_interval_unit": "day",\
        "order_interval_unit_type": "day",\
        "original_price": "5.00",\
        "price": "5.00",\
        "product_id": 4546063663207,\
        "product_type": "Milk",\
        "properties": null,\
        "quantity": 6,\
        "recurring_price": "5.00",\
        "requires_shipping": true,\
        "sku": "kRaViCah-1",\
        "tax_code": null,\
        "taxable": false,\
        "title": "Powder Milk",\
        "type": "SUBSCRIPTION",\
        "variant_id": 32165284380775,\
        "variant_title": "1 / Powder",\
        "vendor": "Imlek"\
      }\
    ],
    "note": null,
    "order_attributes": null,
    "payment_processor": null,
    "payment_processor_customer_id": null,
    "payment_processor_transaction_id": null,
    "phone": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": "",
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "shipping_address_validations": {
      "country_is_supported": true,
      "ups": true
    },
    "shipping_line": null,
    "shipping_rate": null,
    "subtotal_price": "22.50",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxes_included": false,
    "token": "b706eecfd66c45329d3886a02d7515d6",
    "total_price": "22.50",
    "total_tax": "0.00",
    "updated_at": "2020-07-10T09:21:46.284703+00:00"
  }
}
```

# Retrieve shipping rates

You can retrieve all shipping rates for a specific checkout.

Scopes:
read\_checkouts


##### Responses

- 200




















successful response










Show response object



GET

/checkouts/{token}/shipping\_rates


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts/6a7c36a1213a4d7fb746e6588fa55005/shipping_rates' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

200


```hljs json
{
  "shipping_rates": [\
    {\
      "checkout": {\
        "subtotal_price": "22.50",\
        "total_price": "42.40",\
        "total_tax": "0.00"\
      },\
      "code": "Standard",\
      "delivery_range": null,\
      "description": null,\
      "handle": "shopify-Standard-19.90",\
      "name": "Standard",\
      "phone_required": false,\
      "price": "19.90",\
      "title": "Standard"\
    }\
  ]
}
```

# Process a checkout

You can process and charge checkout using our API.

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

We support **Stripe**, **Apple Pay**, **Google Pay**, and **Braintree** as payment processor.

If you are using test stripe keys, you can use `tok_visa` as your token.

Related guides: [Mobile payments](https://docs.rechargepayments.com/docs/checkouts#mobile-payments-with-checkout-api)

Scopes:
write\_checkouts


##### Body Parameters

- payment\_processor







string





\\* Required













Possible values:

stripe,

braintree,

authorize










The name of payment processor.

- payment\_token







string





\\* Required














Payment token that will be used in transaction.







For Stripe this field needs to be populated with a payment method.

For Braintree this field needs to be populated with a payment nonce.

- payment\_type







string













Possible values:

CREDIT\_CARD,

PAYPAL,

APPLE\_PAY,

GOOGLE\_PAY,

SEPA\_DEBIT










The payment type used for the `Checkout`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/checkouts/{token}/charge


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts/5a5c19ea31c44641855017f1276db959/process' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "payment_processor": "stripe",
  "payment_token": "<payment_token>",
  "payment_type": "CREDIT_CARD"
}'
```

Response

200


```hljs json
{
  "checkout_charge": {
    "authorization_token": null,
    "charge_id": 258065996,
    "free": false,
    "payment_processor": "stripe",
    "processor_customer_token": "cus_HcbgqiS49fABBg62E",
    "processor_payment_method_token": "pm_lkj3lkl4lk34",
    "payment_processor_transaction_id": "ch_1H3McXJ2zdqHvZaRd191xV2idRt",
    "payment_token": "tok_visa",
    "payment_type": "CREDIT_CARD",
    "status": "successful"
  }
}
```

# Collections

`Collections` allow to create and manage a logical list of `Products` called a `Collection`. A `Collection` contains an ordered list of `Products` and can be used for selective display of `Products` on chosen interfaces or for business logic automation (e.g. `Discounts` definition…).

Endpoints

POST

/collections


GET

/collections/{id}


PUT

/collections/{id}


DELETE

/collections/{id}


GET

/collections


GET

/collection\_products


POST

/collections/{id}/collection\_products-bulk


DELETE

/collections/{id}/collection\_products-bulk


# The collection object

##### Attributes

- id







integer














Unique numeric identifier for the `Collection`.

- created\_at







datetime














The date and time when the `Collection` was created.

- description







string














The `Collection` description. Used to store a detailed explanation of the `Collection` content and its purpose.

- sort\_order







string













Possible values:

id-asc,

id-desc,

title-asc,

title-desc,

created\_at-asc,

created\_at-desc










The order in which the `Products` in the collection should appear.

- title







string














The title of the `Collection`. A short descriptive definition of the `Collection`.

- type







string













Possible values:

manual










The type of the `Collection`.







`manual` stands for `Collections` which were manually created ie. when the products where explicitly selected to be part of the `Collection`.

- updated\_at







datetime














The date and time when the `Collection` was last updated.


##### Error related attributes

##### More Attributes

The collection object

```hljs json
{
  "id": 4021,
  "created_at": "2021-08-30T17:25:57+00:00",
  "description": "August 2021 cat products new release.",
  "sort_order": "id-desc",
  "title": "Cats Summer Collection",
  "type": "manual",
  "updated_at": "2021-08-30T17:25:57+00:00"
}
```

# Create a collection

Create a `Collection` in Recharge.

Scopes:
write\_products


##### Body Parameters

- description







string





\\* Required














The `Collection` description. Used to store a detailed explanation of the `Collection` content and its purpose.

- sort\_order







string













Default: id-desc









Possible values:

id-asc,

id-desc,

title-asc,

title-desc,

created-asc,

created-desc










The order in which the `Products` in the collection should appear.

- title







string





\\* Required














The title of the `Collection`. A short descriptive definition of the `Collection`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/collections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "description": "cat products new release",
  "title": "Cats Spring 2022"
}
```

Response

200


```hljs json
{
  "collection": {
    "id": 134157,
    "created_at": "2022-03-29T04:57:36+00:00",
    "description": "cat products new release",
    "sort_order": "id-desc",
    "title": "Cats Spring 2022",
    "type": "manual",
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Retrieve a collection

Retrieve one `Collection` using `collection_id`.

Scopes:
read\_products


##### Responses

- 200




















successful response










Show response object


- 404




















Not found










Show response object



GET

/collections/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collections/134157' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200

404


```hljs json
{
  "collection": {
    "id": 134157,
    "created_at": "2022-03-29T04:57:36+00:00",
    "description": "cat products new release",
    "sort_order": "id-desc",
    "title": "Cats Spring 2022",
    "type": "manual",
    "updated_at": "2022-03-29T04:57:36+00:00"
  }
}
```

# Update a collection

Modify an existing `Collection` to match the specified parameters.

Scopes:
write\_products


##### Body Parameters

- description







string














The `Collection` description. Used to store a detailed explanation of the `Collection` content and its purpose.

- sort\_order







string













Possible values:

id-asc,

id-desc,

title-asc,

title-desc,

created-asc,

created-desc










The order in which the `Products` in the collection should appear.

- title







string














The title of the `Collection`. A short descriptive definition of the `Collection`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 404




















Not found










Show response object


- 415




















Unprocessable entity










Show response object



PUT

/collections/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/collections/134157' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"sort_order": "title-asc"}'
```

Response

200

404

415


```hljs json
{
  "collection": {
    "id": 134157,
    "created_at": "2022-03-29T04:57:36+00:00",
    "description": "cats products new release",
    "sort_order": "title-asc",
    "title": "Cats Spring 2022",
    "type": "manual",
    "updated_at": "2022-03-29T05:27:39+00:00"
  }
}
```

# Delete a collection

Delete a `Collection`

For safety and good UX, you can only delete a `Collection` if it is not in use in the Customer Portal

Scopes:
write\_products


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object


- 404




















Not found










Show response object



DELETE

/collections/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/collections/134129' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204

404


```hljs json
{}
```

# List collections

Return a list of `Collections` in your store.

## HTTP request examples

`GET /collections`

`GET /collections?title=Cats`

Scopes:
read\_products


##### Query Parameters

- title







string














The title of the `Collection`. A short descriptive definition of the `Collection`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/collections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "collections": [\
    {\
      "id": 134136,\
      "created_at": "2022-03-28T15:38:27+00:00",\
      "description": "cat products august 2022",\
      "sort_order": "title-asc",\
      "title": "Cats",\
      "type": "manual",\
      "updated_at": "2022-03-28T15:38:27+00:00"\
    },\
    {\
      "id": 134129,\
      "created_at": "2022-03-28T12:27:03+00:00",\
      "description": "kitten accessories soft.",\
      "sort_order": "id-asc",\
      "title": "Soft Kitty",\
      "type": "manual",\
      "updated_at": "2022-02-23T11:27:34+00:00"\
    }\
  ]
}
```

# List collections products

Return a list of the product ids included in `Collections` in your store.

## HTTP request examples

`GET /collection_products`

`GET /collection_products?collection_id=134157`

Scopes:
read\_products


##### Query Parameters

- collection\_id







integer














The id of the `Collection` for which you want to see the products.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 422




















Errors. Unprocessable entity.










Show response object



GET

/collection\_products


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collection_products' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200

422


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "collection_products": [\
    {\
      "collection_id": 111733,\
      "created_at": "2022-03-30T18:12:09+00:00",\
      "external_product_id": "5",\
      "updated_at": "2022-03-30T18:12:09+00:00"\
    },\
    {\
      "collection_id": 111733,\
      "created_at": "2022-02-12T12:53:33+00:00",\
      "external_product_id": "2",\
      "updated_at": "2022-02-12T12:53:33+00:00"\
    },\
    {\
      "collection_id": 111735,\
      "created_at": "2022-02-12T06:46:49+00:00",\
      "external_product_id": "3",\
      "updated_at": "2022-02-12T06:46:49+00:00"\
    }\
  ]
}
```

# Add collection products

Add products to a `Collection` in Recharge.

Scopes:
write\_products


##### Body Parameters

- collection\_products







array





\\* Required














An array of products and their collection definition to be added to the `Collection`.







Important: there is a set limit of 250 products that can be added per request.










Show object attributes



##### More Parameters

##### Responses

- 201




















successful response










Show response object


- 422




















unprocessable entity










Show response object


- 500




















internal server error. (often the external\_product\_id entered does not exist)










Show response object



POST

/collections/{id}/collection\_products-bulk


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/collections/134129/collection_products-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "collection_products": [\
    {\
      "external_product_id": "7"\
      }\
    ]
}'
```

Response

201

422

500


```hljs json
{
  "collection_products": [\
    {\
      "collection_id": 111733,\
      "created_at": "2022-03-29T04:57:36+00:00",\
      "external_product_id": "7",\
      "updated_at": "2022-03-30T18:32:35+00:00"\
    }\
  ]
}
```

# Delete collection products

Removes products from a `Collection` in Recharge.

Scopes:
write\_products


##### Body Parameters

- collection\_products







array





\\* Required














The array of products to be removed from the `Collection` identified by their `external_product_id`.







Important: there is a set limit of 250 products that can be added per request.










Show object attributes



##### More Parameters

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object


- 404




















Not found










Show response object



DELETE

/collections/{id}/collection\_products-bulk


cURLPythonPHPRuby

```hljs js
curl '-X DELETE https://api.rechargeapps.com/collections/134129/collection_products-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "collection_products": [\
    {\
      "external_product_id": "7"\
      }\
    ]
}'
```

Response

204

404


```hljs json
{}
```

# Credits

Retain

The Credit Account object represents a set of positive and negative credit adjustments that when summed equal an available balance. Credit accounts may not have negative balances. A credit account may be associated with a customer, via the customer\_id attribute. A customer may be associated with many credit accounts.

A credit adjustment represents a financial adjustment to the balance of a Credit Account. An adjustment of type ‘credit’ results in an increase in the available balance of a credit account, where an adjustment of type ‘debit’ results in a decrease.

Access to the Credits endpoints are only available for merchants using [Retain](https://getrecharge.com/products/retain/).

Endpoints

GET

/credit\_accounts


GET

/credit\_accounts/{id}


GET

/credit\_adjustments


GET

/credit\_adjustments/{id}


GET

/credit\_accounts/{id}/credit\_adjustments


Expand

# The credit account object

##### Attributes

- id







integer














Unique numeric identifier for the Credit Account

- customer\_id







integer














Unique numeric identifier for the `customer` associated with the `credit_account`.

- available\_balance







string














The dollar amount of available credit in the credit account, in the associated Store’s default currency as configured in Recharge

- created\_at







datetime














The date and time at which the credit account was created.

- currency\_code







string














The currency code for the credit account.

- expires\_at







datetime














The date and time at which the credit account expires, and can no longer be adjusted.

- initial\_value







string














The initial value of the credit account at the time of creation.

- name







string














The name of the credit account

- type







string














The type of the credit account. Accepted values are `rewards` and `manual`.

- updated\_at







datetime














The date and time at which the credit account was last updated.


##### Error related attributes

##### More Attributes

The credit account object

```hljs json
{
  "credit_account": {
    "id": 697470,
    "customer_id": 36885098,
    "available_balance": "10.00",
    "created_at": "2024-07-08T20:40:30+00:00",
    "currency_code": "USD",
    "expires_at": null,
    "initial_value": "1.55",
    "name": "Reward Credit",
    "type": "reward",
    "updated_at": "2024-07-08T20:40:30+00:00"
  }
}
```

# List credit accounts

Return a list of credit accounts.

Scopes:
read\_credit\_accounts


##### Query Parameters

- customer\_id







string














Return the list of credit accounts linked to the given Recharge `customer_id`

- limit







string














The amount of results. Default is 50 while the maximum is 250.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/credit\_accounts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_accounts' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": "eyJzdGFydGluZ19iZWZvcmVfaWQiOjQ5ODg2NywibGFzdF92YWx1ZSI6NDk4ODY3LCJzb3J0X2J5IjoiaWQtZGVzYyIsImN1cnNvcl9kaXIiOiJuZXh0In0",
  "previous_cursor": null,
  "credit_accounts": [\
    {\
      "id": 697470,\
      "customer_id": 36885098,\
      "available_balance": "0.00",\
      "created_at": "2024-07-08T20:40:30+00:00",\
      "currency_code": "USD",\
      "expires_at": null,\
      "initial_value": "0.45",\
      "name": "Reward Credit",\
      "type": "reward",\
      "updated_at": "2024-07-08T20:40:30+00:00"\
    }\
  ]
}
```

# Retrieve a credit account

Retrieve one credit account using `credit_account_id`.

Scopes:
read\_credit\_accounts


##### Responses

- 200




















successful response










Show response object



GET

/credit\_accounts/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_accounts/697470' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "credit_account": {
    "id": 697470,
    "customer_id": 36885098,
    "available_balance": "0.00",
    "created_at": "2024-07-08T20:40:30+00:00",
    "currency_code": "USD",
    "expires_at": null,
    "initial_value": "0.45",
    "name": "Reward Credit",
    "type": "reward",
    "updated_at": "2024-07-08T20:40:30+00:00"
  }
}
```

# List credit adjustments

Retrieve a list of credit adjustments.

Scopes:
read\_credit\_adjustments


##### Query Parameters

- limit







string














The amount of results. Default is 50 while the maximum is 250.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/credit\_adjustments


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_adjustments' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": "eyJzdGFydGluZ19iZWZvcmVfaWQiOjQ4NjY4NDksImxhc3RfdmFsdWUiOjQ4NjY4NDksInNvcnRfYnkiOiJpZC1kZXNjIiwiY3Vyc29yX2RpciI6Im5leHQifQ",
  "previous_cursor": null,
  "credit_adjustments": [\
    {\
      "id": 4866849,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-08-08T04:06:37+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.00",\
      "note": "Amount related with shop order shop.myshopify.com. Address Id: 169902120 Charge Id: 1125729345",\
      "type": "debit",\
      "updated_at": "2024-08-08T04:06:37+00:00"\
    }\
  ]
}
```

# Retrieve a credit adjustment

Retrieve one credit adjustment using `credit_adjustment_id`.

Scopes:
read\_credit\_adjustments


##### Responses

- 200




















successful response










Show response object



GET

/credit\_adjustments/{id}


cURLPythonPHPRuby

```hljs js
curl 'api.rechargeapps.com/credit_adjustments/4866849' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": "eyJzdGFydGluZ19iZWZvcmVfaWQiOjQ4NjY4NDksImxhc3RfdmFsdWUiOjQ4NjY4NDksInNvcnRfYnkiOiJpZC1kZXNjIiwiY3Vyc29yX2RpciI6Im5leHQifQ",
  "previous_cursor": null,
  "credit_adjustments": [\
    {\
      "id": 4866849,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-08-08T04:06:37+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.00",\
      "note": "Amount related with shop order jordans-curious-tomatoes.myshopify.com Address Id: 169902120 Charge Id: 1125729345",\
      "type": "debit",\
      "updated_at": "2024-08-08T04:06:37+00:00"\
    }\
  ]
}
```

# List Credit Adjustments for a Credit Account

Retrieve credit adjustments associated with specific credit account using `credit_account_id`.

Scopes:
read\_credit\_adjustments


##### Query Parameters

- limit







string














The amount of results. Default is 50 while the maximum is 250.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/credit\_accounts/{id}/credit\_adjustments


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_accounts/697470/credit_adjustments' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "credit_adjustments": [\
    {\
      "id": 4866849,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-08-08T04:06:37+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.00",\
      "note": "Amount related with shop order store.myshopify.com Address Id: 169902120 Charge Id: 1125729345",\
      "type": "debit",\
      "updated_at": "2024-08-08T04:06:37+00:00"\
    },\
    {\
      "id": 4719708,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-07-08T20:40:31+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.45",\
      "note": "3% Cash back on curious tomatoes",\
      "type": "credit",\
      "updated_at": "2024-07-08T20:40:31+00:00"\
    }\
  ]
}
```

# Customers

The `Customer` object holds account information. Email is unique on the `Customer`; no two customers for a store can have the same email. `Address` is a child of the `Customer` object. There can be many child `Addresses` on a customer, but only one parent `Customer` per `Address`. ![](https://developer.getrecharge.com/images/customer.png)

Endpoints

POST

/customers


GET

/customers/{id}


PUT

/customers/{id}


DELETE

/customers/{id}


GET

/customers


GET

/customers/{id}/delivery\_schedule


GET

/customers/{id}/credit\_summary


Expand

# The customer object

##### Attributes

- id







integer














Unique numeric identifier for the `Customer`.

- analytics\_data







object














An object containing analytics data associated with the customer.










Show object attributes


- apply\_credit\_to\_next\_recurring\_charge







boolean














A boolean that indicates whether Recharge credits will be applied to the next recurring charge.

- created\_at







datetime














The date and time when the customer was created.

- email







string














The email address of the customer.

- external\_customer\_id







object














An object containing external ids for the customer record.










Show object attributes


- first\_charge\_processed\_at







datetime














Date when first charge was processed for the customer.

- first\_name







string














The customer’s first name.

- has\_payment\_method\_in\_dunning







boolean














A boolean that indicates if the customer has a payment method that is in dunning (failed charge).

- has\_valid\_payment\_method







boolean














Is the payment method valid or not.

- hash







string














The unique string identifier used in a customers portal link.

- last\_name







string














The customer’s last name.

- phone







string














The customer’s phone number.

- subscriptions\_active\_count







integer














The number of active subscriptions on addresses associated with the customer.

- subscriptions\_total\_count







integer














The total number of subscriptions created on addresses associated with the customer.

- subscription\_related\_charge\_streak







integer














The number of consecutive subscription-related charges processed for this customer, while they retain at least one active subscription. When all subscriptions for this customer are cancelled or expired, this value will reset to zero.

- tax\_exempt







boolean














Whether the customer tax exempt or not.

- updated\_at







datetime














The date and time when the customer was last updated.


##### Error related attributes

##### More Attributes

The customer object

```hljs json
{
  "id": 18819267,
  "analytics_data": {
    "utm_params": [\
      {\
        "utm_source": "facebook",\
        "utm_medium": "cpc"\
      }\
    ]
  },
  "created_at": "2018-11-14T08:40:38+00:00",
  "email": "example_mail@gmail.com",
  "external_customer_id": {
    "ecommerce": "126576412310131454"
  },
  "first_charge_processed_at": null,
  "first_name": "Jacob",
  "has_payment_method_in_dunning": false,
  "has_valid_payment_method": false,
  "hash": "18819267b1f9095be98f13a8",
  "last_name": "Bronowski",
  "phone": "+16175551212",
  "subscriptions_active_count": 0,
  "subscriptions_total_count": 1,
  "tax_exempt": false,
  "updated_at": "2020-11-14T08:40:38+00:00"
}
```

# Create a customer

[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Create a customer in Recharge.

If you plan to add payment information, **it must be the tokenized customer representation. We do not accept card data directly**. For Stripe users, please make sure it starts with ‘cus’ and not with a 'tok’, as the 'cus’ is prefix for customer token, and 'tok’ is prefix for payment token.

Creating a customer in Recharge will not create the customer on any other platform at this time.

`write_payment_methods` permission is only required when creating customers with payment token information, or updating payment token information on a customer.

`phone` must be in E.164 format, such as `+16175551212`.

Scopes:
write\_customers

write\_payment\_methods


##### Body Parameters

- email







string





\\* Required














The customer’s email address.

- external\_customer\_id







object














An object containing external ids for the customer record.










Show object attributes


- first\_name







string





\\* Required














The customer’s first name.

- last\_name







string





\\* Required














The customer’s last name.

- phone







string














The customer’s phone number.

- tax\_exempt







boolean














Whether or not the customer is tax exempt.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/customers


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "first_name": "Niels",
  "last_name": "Bohr",
  "email": "fake@example.com"
}
```

Response

200


```hljs json
{
  "customer": {
    "id": 37657002,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "created_at": "2020-02-19T17:40:07+00:00",
    "email": "fake@example.com",
    "external_customer_id": {
      "ecommerce": "2879413682227"
    },
    "first_charge_processed_at": "2020-02-19T17:40:11+00:00",
    "first_name": "Jane",
    "has_payment_method_in_dunning": false,
    "has_valid_payment_method": true,
    "hash": "7e706455cbd13e40",
    "last_name": "Doe",
    "phone": null,
    "subscriptions_active_count": 0,
    "subscriptions_total_count": 0,
    "subscription_related_charge_streak": 0,
    "tax_exempt": false,
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Retrieve a customer

Retrieve one customer using `customer_id`.

Scopes:
read\_customers


##### Responses

- 200




















successful response










Show response object



GET

/customers/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers/37657002' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "customer": {
    "id": 37657002,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "created_at": "2020-02-19T17:40:07+00:00",
    "email": "fake@example.com",
    "external_customer_id": {
      "ecommerce": "2879413682227"
    },
    "first_charge_processed_at": "2020-02-19T17:40:11+00:00",
    "first_name": "Jane",
    "has_payment_method_in_dunning": false,
    "has_valid_payment_method": true,
    "hash": "7e706455cbd13e40",
    "last_name": "Doe",
    "phone": "+16175551212",
    "subscriptions_active_count": 0,
    "subscriptions_total_count": 1,
    "subscription_related_charge_streak": 0,
    "tax_exempt": false,
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Update a customer

Modify an existing `Customer` to match the specified parameters.

For US citizens, parameter `billing_zip` is required when updating customer’s `billing_country` parameter.

`phone` must be in E.164 format, such as `+16175551212`.

Scopes:
write\_customers


##### Body Parameters

- apply\_credit\_to\_next\_recurring\_charge







boolean














A boolean that indicates whether Recharge credits will be applied to the next recurring charge.







This property is dependent upon the store’s credit settings. If a call is made attempting to update this and the store has recurring redemption turned off or set to automatically redeem, the API will return a 422 response.

- email







string














Email address of the customer.

- external\_customer\_id







object














An object containing external ids for the customer record.










Show object attributes


- first\_name







string














Customer’s first name.

- last\_name







string














Customer’s last name.

- phone







string














The customer’s phone number.

- tax\_exempt







boolean














Whether or not the customer is tax exempt.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/customers/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/customers/37657002' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"last_name": "Doe"}'
```

Response

200


```hljs json
{
  "customer": {
    "id": 37657002,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "created_at": "2020-02-19T17:40:07+00:00",
    "email": "fake@example.com",
    "external_customer_id": {
      "ecommerce": "2879413682227"
    },
    "first_charge_processed_at": "2020-02-19T17:40:11+00:00",
    "first_name": "Jane",
    "has_payment_method_in_dunning": false,
    "has_valid_payment_method": true,
    "hash": "7e706455cbd13e40",
    "last_name": "Doe",
    "phone": "+16175551212",
    "subscriptions_active_count": 0,
    "subscriptions_total_count": 1,
    "tax_exempt": false,
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Delete a customer

Customer deletion will automatically cancel and delete all child Address, Subscription, Onetime, etc. resources of that customer to eliminate orphaned child data.

To delete a certain address without deleting the customer you can use the Delete Address endpoint.

Scopes:
write\_customers


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/customers/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/customers/37657002' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List customers

Return a list of customers in your store.

## HTTP request examples

`GET /customers`

`GET /customers?email=example@email.com`

`GET /customers?hash=143806234a9ff87a8d9e`

`GET /customers?limit=250`

`GET /customers?page=2`

`GET /customers?external_customer_id=98273498`

If emails contain special characters such as ‘john+doe@example.com’, you will need to encode them in the URLs, i.e. `?email=john%2Bdoe@example.com`

Scopes:
read\_customers


##### Query Parameters

- email







string














Returns the user linked to the email address provided.

- created\_at\_max







string














Gets all customers created before this date.

- created\_at\_min







string














Gets all customers created after this date.

- hash







string














Returns the user linked to the given recharge customer hash.

- ids







string














Filter customers by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










Number of results.

- page







string





\*Deprecated













Default: 1










Page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- external\_customer\_id







string














Returns the user linked to the given `external_customer_id`.

- updated\_at\_max







string














Gets all customers updated before this date.

- updated\_at\_min







string














Gets all customers updated after this date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/customers


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": "next_cursor",
  "previous_cursor": "previous_cursor",
  "customers": [\
    {\
      "id": 37657002,\
      "analytics_data": {\
        "utm_params": [\
          {\
            "utm_source": "facebook",\
            "utm_medium": "cpc"\
          }\
        ]\
      },\
      "created_at": "2020-02-19T17:40:07+00:00",\
      "email": "fake@example.com",\
      "external_customer_id": {\
        "ecommerce": "2879413682227"\
      },\
      "first_charge_processed_at": "2020-02-19T17:40:11+00:00",\
      "first_name": "Jane",\
      "has_payment_method_in_dunning": false,\
      "has_valid_payment_method": true,\
      "hash": "7e706455cbd13e40",\
      "last_name": "Doe",\
      "phone": "+16175551212",\
      "subscriptions_active_count": 0,\
      "subscriptions_total_count": 1,\
      "tax_exempt": false,\
      "updated_at": "2020-12-17T18:50:39+00:00"\
    }\
  ]
}
```

# Retrieve a customer delivery schedule

Returns the list of projected deliveries in a specific interval.

If several filters are passed in parameters, the most restrictive will dominate.

The maximum length of the future delivery interval is 365 days.

Scopes:
read\_customers


##### Query Parameters

- delivery\_count\_future







integer














The count of delivery objects that should be included that reference projected orders.







Will not return deliveries past 365 days in the future.

- future\_interval







integer














The count of days forward to report deliveries on.







Defaults to store setting or 90. Maximum of 365 days.

- date\_max







string














The end date of the requested delivery schedule.







Cannot be in the past. Cannot exceed 365 days in the future.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/customers/{id}/delivery\_schedule


cURLPythonPHPRuby

```hljs js
curl -X GET 'https://api.rechargeapps.com/customers/37657002/delivery_schedule' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "deliverySchedule": {
    "customer": {
      "id": 73720164,
      "email": "test@example.com",
      "first_name": "Aria",
      "last_name": "Beciu"
    },
    "deliveries": [\
      {\
        "date": "2022-02-07",\
        "orders": [\
          {\
            "id": null,\
            "address_id": 79342717,\
            "charge_id": 507503288,\
            "line_items": [\
              {\
                "subscription_id": 186930285,\
                "external_product_id": {\
                  "ecommerce": "1642443555555"\
                },\
                "external_variant_id": {\
                  "ecommerce": null\
                },\
                "images": {},\
                "is_skippable": true,\
                "is_skipped": false,\
                "is_prepaid": false,\
                "original_price": "17.00",\
                "plan_type": "subscription",\
                "product_title": "Organic coffee beans",\
                "properties": [\
                  {\
                    "name": "shipping_interval_unit_type",\
                    "value": "month"\
                  },\
                  {\
                    "name": "shipping_interval_frequency",\
                    "value": "1"\
                  },\
                  {\
                    "name": "subscription_id",\
                    "value": null\
                  }\
                ],\
                "quantity": 1,\
                "subtotal_price": "17.00",\
                "unit_price": "17.00",\
                "variant_title": "Refill large"\
              }\
            ],\
            "order_subtotal": "17.00",\
            "payment_method": {\
              "id": 769874,\
              "billing_address": {\
                "address1": "90 avenue du Rouergue",\
                "address2": null,\
                "city": "Rodez",\
                "company": null,\
                "country_code": "FR",\
                "first_name": "Diane",\
                "last_name": "Farley",\
                "phone": null,\
                "province": null,\
                "zip": "12000"\
              },\
              "payment_details": {}\
            },\
            "shipping_address": {\
              "address1": "149 Forest Avenue",\
              "address2": null,\
              "city": "New York City",\
              "company": null,\
              "country_code": "US",\
              "first_name": "Aria",\
              "last_name": "Beciu",\
              "phone": "1234567890",\
              "province": "New York",\
              "zip": "10019"\
            }\
          }\
        ]\
      }\
    ]
  }
}
```

# Retrieve a customer's credit summary

Beta

Returns a credit summary for the customer.

Scopes:
read\_credit\_summary


##### Responses

- 200




















successful response










Show response object



GET

/customers/{id}/credit\_summary


cURLPythonPHPRuby

```hljs js
curl -X GET 'https://api.rechargeapps.com/customers/37657002/credit_summary' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "credit_summary": {
    "customer_id": 37657002,
    "total_available_balance": "0.00",
    "currency_code": "USD"
  }
}
```

# Discounts

Discounts can be applied to a `Checkout`, or can be applied directly to an `Address`. Depending on configuration they allow for single use, or recurring discounts. More details on how to add or remove discounts from an `Address` can be found at [Update an address](https://developer.getrecharge.com/2021-11/addresses/update_address).

Often discounts can be used in combination with webhooks, such that when a specific event occurs, it can apply a discount dependent on custom business logic.

There are various options that can be utilized for discounts such as minimum price, single use, recurring for a set number of charges, or ongoing. You can also set the date from which time the discount will become applicable and when it can no longer be applied to a new subscription.

Endpoints

POST

/discounts


GET

/discounts/{id}


PUT

/discounts/{id}


DELETE

/discounts/{id}


GET

/discounts


Expand

# The discount object

##### Attributes

- id







integer














Unique numeric identifier for the discount in Recharge.

- applies\_to







object














An object encompassing data that limits discount application on the basis of an associated record (such as customer, products, etc.).










Show object attributes


- channel\_settings







object














A list of channel objects containing information regarding discount behaviors for each.

If you’re on the SCI Platform, checkout channel will not apply during Shopify checkouts.










Show object attributes


- code







string














The code used to apply the discount.

- created\_at







datetime














The date and time when the discount was created.

- ends\_at







datetime














The expiration timestamp of the discount. Past this time the `Discount` can no longer be redeemed. After `ends_at` the `status` of the `Discount` will go from `active` to `disabled`.







Recurring discounts applied prior to their `ends_at` time will still apply.

- external\_discount\_id







object














An object containing external ids of the discount.










Show object attributes


- first\_time\_customer\_restriction







boolean














Discount can be used on checkout for customer that still don’t exist in Recharge database.

- prerequisite\_subtotal\_min







string














The minimum cart subtotal needed for the discount to be applicable.

- starts\_at







datetime














The date when the discount becomes active.







When not specified on creation `starts_at` will default to `null` which translates into no restrictions.

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










The status of the discount. Value can be:

\\* `enabled` discount is active to be applied

\\* `disabled` discount can’t be applied on new purchases. Discount will remain on existing charges to which it has already been applied.

\\* `fully_disabled` discount can no longer be applied. In addition, `Discount` is removed from every queued charge.







`disabled` and `fully_disabled` can both be reverted to `enabled`. However once a `Discount` has been updated to `fully_disabled` it will be removed from all `Charges` it had been applied to. This removal from `Charges` is irreversible.

- usage\_limits







object














An object containing limitations on a discount based on usage\_counts results










Show object attributes


- updated\_at







datetime














The date and time when the discount was last updated.

- value







string














The discounted value to be applied.

- value\_type







string













Possible values:

fixed\_amount,

percentage,

shipping










Type of discount mechanic.


##### Error related attributes

##### More Attributes

The discount object

```hljs json
{
  "discount": {
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "TEST_DISCOUNT",
    "created_at": "2021-04-01T16:13:53+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": "1642443555555"
    },
    "external_discount_source": null,
    "id": 25463058,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-04-13T22:24:59+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "20.00",
    "value_type": "percent"
  }
}
```

# Create a discount

Create a new discount.

##### Body Parameters

- applies\_to







object














An object encompassing data that limits discount application on the basis of an associated record (such as customer, products, etc.)










Show object attributes


- channel\_settings







object














A list of channel objects containing information regarding discount behaviors for each.

\\* can\_apply: a boolean to indicate if the discount may be applied using the associated channel (defaults to true for all channels).










Show object attributes


- code







string





\\* Required














The code used to apply the discount.

- ends\_at







datetime














The expiration timestamp of the discount. Past this time the `Discount` can no longer be redeemed. After `ends_at` the `status` of the `Discount` will go from `active` to `disabled`.







Recurring discounts applied prior to their `ends_at` time will still apply.

- prerequisite\_subtotal\_min







integer














The minimum cart subtotal needed for the discount to be applicable.

- starts\_at







datetime














The date when the discount becomes `ACTIVE`.







When not specified on creation `starts_at` will default to `null` which translates into no restrictions.

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










The status of the discount.

- usage\_limits







object














Sets the limit on the number of times a discount can be used by all customers.










Show object attributes


- value







string





\\* Required














The discounted value to be applied.

- value\_type







string





\\* Required













Possible values:

fixed\_amount,

percentage,

shipping










The discount type.


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/discounts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/discounts' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "applies_to": {
        "purchase_item_type": "ALL"
    },
    "channel_settings": {
        "api": {
            "can_apply": true
        },
        "checkout_page": {
            "can_apply": true
        },
        "customer_portal": {
            "can_apply": true
        },
        "merchant_portal": {
            "can_apply": true
        }
    },
    "code": "Discount1",
    "status": "enabled",
    "usage_limits": {
        "first_time_customer_restriction": false,
        "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
}'
```

Response

201


```hljs json
{
  "discount": {
    "id": 59568555,
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "Discount1",
    "created_at": "2021-07-26T19:16:17+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": null
    },
    "external_discount_source": null,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-07-26T19:16:17+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
  }
}
```

# Retrieve a discount

Retrieve a single Recharge Discount

##### Responses

- 200




















successful response










Show response object



GET

/discounts/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/discounts/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "discount": {
    "id": 59568555,
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "Discount1",
    "created_at": "2021-07-26T19:16:17+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": null
    },
    "external_discount_source": null,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-07-26T19:16:17+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
  }
}
```

# Update a discount

You can modify an existing discount to match the specified parameters.

##### Body Parameters

- applies\_to







object














An object encompassing data that limits discount application on the basis of an associated record (such as customer, products, etc.)










Show object attributes


- channel\_settings







object














A list of channel objects containing information regarding discount behaviors for each.

\\* can\_apply: a boolean to indicate if the discount may be applied using the associated channel (defaults to true for all channels).










Show object attributes


- code







string














The code used to apply the discount…

- ends\_at







datetime














The expiration timestamp of the discount. Past this time the `Discount` can no longer be redeemed. After `ends_at` the `status` of the `Discount` will go from `active` to `disabled`.







Recurring discounts applied prior to their `ends_at` time will still apply.

- prerequisite\_subtotal\_min







integer














The minimum cart subtotal needed for the discount to be applicable.

- starts\_at







datetime














The date when the discount becomes active.

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










The status of the discount. Value can be:

\\* `enabled` discount is active to be applied

\\* `disabled` discount can’t be applied on new purchases. Discount will remain on existing charges to which it has already been applied.

\\* `fully_disabled` discount can no longer be applied. In addition, `Discount` is removed from every queued charge.







`disabled` and `fully_disabled` can both be reverted to `enabled`. However once a `Discount` has been updated to `fully_disabled` it will be removed from all `Charges` it had been applied to. This removal from `Charges` is irreversible.

- usage\_limits







object














Sets the limit on the number of times a discount can be used by all customers.










Show object attributes


- value







string














The discounted value to be applied.

- value\_type







string













Possible values:

fixed\_amount,

percentage,

shipping










The discount type.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/discounts/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/discounts/11127406' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "usage_limits": {},
  "starts_at": "2021-11-01T00:00:00+00:00"
}'
```

Response

200


```hljs json
{
  "discount": {
    "id": 59568555,
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "Discount1",
    "created_at": "2021-07-26T19:16:17+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": null
    },
    "external_discount_source": null,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-07-26T19:16:17+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
  }
}
```

# Delete a discount

Delete a discount

For safety reasons, to delete a discount you will need to set its status to `fully_disabled`.

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/discounts/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/discounts/12081717' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

204


```hljs json
{}
```

# List discounts

Return a list of discounts in your store.

## HTTP request examples

`GET /discounts`

`GET /discounts?created_at_max=2017-10-01`

`GET /discounts?created_at_max=2017-10-01`

`GET /discounts?created_at_min=2017-10-01`

`GET /discounts?discount_code=Discount`

`GET /discounts?discount_type=percentage`

`GET /discounts?updated_at_min=2017-10-01`

##### Query Parameters

- created\_at\_max







string














Get all discounts created before a specified date.

- created\_at\_min







string














Get all discounts created after a specified date.

- discount\_code







string














Search for a particular discount code.

- value\_type







string













Possible values:

percentage,

fixed\_amount,

shipping










Filter based on type of discount.

- ids







string














Filter discounts by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










Number of results to return.

- page







string





\*Deprecated













Default: 1










Page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










Returns all discounts with status `enabled`, `disabled` or `fully_disabled`.

- updated\_at\_max







string














Get all discounts updated before a specified date.

- updated\_at\_min







string














Get all discounts updated after a specified date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/discounts


cURLPythonPHPRuby

```hljs js
curl -X GET 'https://api.rechargeapps.com/discounts' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "discounts": [\
    {\
      "id": 59568555,\
      "applies_to": {\
        "ids": [],\
        "purchase_item_type": "ALL",\
        "resource": null\
      },\
      "channel_settings": {\
        "api": {\
          "can_apply": true\
        },\
        "checkout_page": {\
          "can_apply": true\
        },\
        "customer_portal": {\
          "can_apply": true\
        },\
        "merchant_portal": {\
          "can_apply": true\
        }\
      },\
      "code": "Discount1",\
      "created_at": "2021-07-26T19:16:17+00:00",\
      "ends_at": null,\
      "external_discount_id": {\
        "ecommerce": null\
      },\
      "external_discount_source": null,\
      "prerequisite_subtotal_min": null,\
      "starts_at": null,\
      "status": "enabled",\
      "updated_at": "2021-07-26T19:16:17+00:00",\
      "usage_limits": {\
        "first_time_customer_restriction": false,\
        "max_subsequent_redemptions": null,\
        "one_application_per_customer": false\
      },\
      "value": "100.00",\
      "value_type": "percentage"\
    }\
  ]
}
```

# Metafields

Metafields allow users to add additional information to other resources. They can be used for adding custom fields to objects, and are useful for storing specialized information.

Endpoints

POST

/metafields


GET

/metafields/{id}


PUT

/metafields/{id}


DELETE

/metafields/{id}


GET

/metafields


Expand

# The metafield object

Metafields feature allows to add additional information to other resources. They can be used for adding custom fields to objects, and are useful for storing specialized information.

You can extend the responses of some of these objects by appending the `include?=metafields` as part of your `GET` request.

cf. [Extending responses](https://developer.getrecharge.com/2021-11/collections#extending_responses) for more info.

##### Attributes

- id







integer














Unique numeric identifier for the metafield.

- created\_at







datetime














The date and time when the metafield was created.

- description







string














Description of the metafield.

- key







string














The name of the metafield.

- namespace







string














A category or container that differentiates your metadata from other metafields.

- owner\_id







string














Unique numeric identifier of the `owner_resource`.

- owner\_resource







string













Possible values:

address,

store,

customer,

subscription,

order,

charge










Objects which support `Metafields`

- updated\_at







datetime














The date and time when the metafield was last updated.

- value







string














The content of the metafield.

- value\_type







string













Possible values:

string,

integer,

json\_string










The type of the value parameter.


##### Error related attributes

##### More Attributes

The metafield object

```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Create a metafield

Creates a metafield for a specific object.

There is a limit of 50 metafields per `owner_id`.

You need to have `WRITE` rights to the resource you want to create a `Metafield` for.

Scopes:
WRITE\_{target\_resource}


##### Body Parameters

- description







string














Description of the metafield.

- key







string





\\* Required














The name of the metafield.

- namespace







string





\\* Required














A category or container that differentiates your metadata from other metafields.

- owner\_id







string





\\* Required














Unique numeric identifier of the owner resource.

- owner\_resource







string





\\* Required













Possible values:

address,

store,

customer,

subscription,

order,

charge










The owner of the resource.

- value







string





\\* Required














The content of the metafield.

- value\_type







string





\\* Required













Possible values:

string,

integer,

json\_string










The type of the value parameter.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/metafields


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/metafields' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "metafield": {
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_resource": "customer",
    "owner_id": 18301938,
    "value_type": "integer",
    "value": "3103103101"
  }
}'
```

Response

200


```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Retrieve a metafield

Retrieves a single metafield based on a specified id.

## HTTP request examples

`GET /metafields/<metafield_id>`

In addition to that, you can retrieve them by `subscription_id` by using:

`GET /metafields?owner_resource=subscription&owner_id=<subscription_id>`

Scopes:
read\_{target\_resource}


##### Responses

- 200




















successful response










Show response object



GET

/metafields/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/metafields/33' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

200


```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Update a metafield

Updates a metafield based on a specified `owner_resource`.

Scopes:
write\_{target\_resource}


##### Body Parameters

- description







string














Description of the metafield.

- owner\_id







string














Unique numeric identifier of the resource.

- owner\_resource







string













Possible values:

address,

store,

customer,

subscription,

order,

charge










The owner of the resource can be one of the following values: `address`, `store`, `customer`, `subscription`, `order`, `charge`. There may be more objects added in the future.

- value







string














The content of the metafield.

- value\_type







string













Possible values:

string,

integer,

json\_string










The type of the value parameter.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



PUT

/metafields/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/metafields/33' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "metafield": {
    "description": "phone_number_of_customer",
    "owner_id": 18293088,
    "owner_resource": "customer",
    "value": "0333103133",
    "value_type": "integer"
  }
}'
```

Response

201


```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Delete a metafield

Delete a metafield based on a specified id.

Scopes:
write\_{target\_resource}


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/metafields/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/metafields/6' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

204


```hljs json
{}
```

# List metafields

Retrieves a list of metafields.

## HTTP request examples

`GET /metafields?owner_resource=<owner_resource>`

`GET /metafields?owner_resource=subscription&owner_id=<subscription_id>`

`GET /metafields?owner_resource=customer&owner_id=<customer_id>`

`GET /metafields?owner_resource=store&owner_id=<store_id>`

**When getting metafields, you must specify owner\_resource in the URL. It can be `address`, `store`, `customer`, `subscription`, `order`, `charge`**

You can list metafields that are created for all subscription objects using:

`GET /metafields?owner_resource=subscription` \- `**owner_id**` in the response will be the ID of the subscription.

Scopes:
read\_{target\_resource}


##### Query Parameters

- limit







string













Default: 50





Max: 250










Amount of results.

(default:50) (maximum: 250).

- namespace







string














A category or container that differentiates your metadata from other metafields.

- owner\_id







string














Unique numeric identifier of the owner resource.

- owner\_resource







string













Possible values:

address,

store,

customer,

subscription,

order,

charge










The owner of the resource can be one of the following values: `address`, `store`, `customer`, `subscription`, `order`, `charge`. There may be more objects added in the future.

- page







string





\*Deprecated













Default: 1










Page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/metafields


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/metafields' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d owner_resource=address \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": "next_cursor",
  "previous_cursor": "previous_cursor",
  "metafields": [\
    {\
      "id": 33,\
      "created_at": "2018-11-07T14:00:10",\
      "description": "customer_phone_number",\
      "key": "phone_number",\
      "namespace": "personal_info",\
      "owner_id": 18301938,\
      "owner_resource": "customer",\
      "updated_at": "2018-11-07T14:00:10",\
      "value": "3103103101",\
      "value_type": "integer"\
    },\
    {\
      "id": 15,\
      "created_at": "2018-11-05T12:59:30",\
      "description": "desc lorem ipsum",\
      "key": "marjan",\
      "namespace": "nmsp2c",\
      "owner_id": 17868054,\
      "owner_resource": "customer",\
      "updated_at": "2018-11-05T15:48:42",\
      "value": "5",\
      "value_type": "integer"\
    },\
    {\
      "id": 9,\
      "created_at": "2018-11-05T12:47:27",\
      "description": "desc lorem ipsum",\
      "key": "marjan",\
      "namespace": "nmspc",\
      "owner_id": 17868054,\
      "owner_resource": "customer",\
      "updated_at": "2018-11-05T12:47:27",\
      "value": "5",\
      "value_type": "integer"\
    }\
  ]
}
```

# Notifications

The Customer Notifications resource is used to dispatch email notifications to customers within Recharge. The endpoint uses your configured Recharge email templates, and will dispatch an email to the address associated with the indicated `customer_id`. Some email templates require variable values, which are sent through the Customer Notifications resource via the template\_vars attribute. See below examples for all available template types.

Endpoints

POST

/customers/{id}/notifications


Expand

# Send email notification

Sends a notification email to the customer with the `customer_id` indicated in the route. To view the upcoming charge email template, visit the Notifications section in your Recharge Merchant Admin Portal.

Scopes:
write\_notifications


##### Body Parameters

- type







integer





\\* Required














Identifies the type of the notifications. Value can be email only.

- template\_type







string





\\* Required













Possible values:

upcoming\_charge,

get\_account\_access,

shopify\_update\_payment\_information










Identifies the type of the email notifications.

- template\_vars







object














An object containing the necessary template variables for this email template type.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/customers/{id}/notifications


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers/18819267/notifications' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "type": "email",
  "template_type": "upcoming_charge",
  "template_vars":{
    "address_id":1234567890,
    "charge_id":9876543210
  }
}'
```

Response

200


```hljs json
{}
```

# Onetimes

Onetimes represent non-recurring line items on a `QUEUED` `Charge`.

Endpoints

POST

/onetimes


GET

/onetimes/{id}


PUT

/onetimes/{id}


DELETE

/onetimes/{id}


GET

/onetimes


Expand

# The onetime object

##### Attributes

- id







integer














Unique numeric identifier for the `Onetime` purchase.

- address\_id







integer














Unique numeric identifier for the address the `Onetime` Purchase is associated with (cannot be used with `next_charge_scheduled_at`)

- created\_at







datetime














The time the `Onetime` item was first created.

- customer\_id







integer














Unique numeric identifier for the customer the `Onetime` purchase is tied to.

- external\_product\_id







string














An object containing the product id as it appears in external platforms.










Show object attributes


- external\_variant\_id







string














An object containing the variant id as it appears in external platforms.










Show object attributes


- is\_cancelled







boolean














Flag indicating if the the onetime is cancelled.

- next\_charge\_scheduled\_at







datetime














Date of the `Onetime` purchase execution.







Cannot be used with `add_to_next_charge`

- price







string














The price of the item before discounts, taxes, or shipping have been applied.

- product\_title







string














The name of the product in a shop’s catalog.

- properties







array














An array containing key value pairs for any supplementary data.










Show object attributes


- quantity







integer














The number of items in the `Onetime` purchase.

- sku







string














A unique identifier of the item in the fulfillment.

- sku\_override







boolean














Flag that is automatically updated to `true` when SKU is passed on `POST` or `PUT`.







When `sku_override` is `true`, the `sku` on the `Onetime` will be used to generate `Charges` and `Orders`.

When `sku_override` is `false`, Recharge will dynamically fetch the `sku` from the corresponding `external_platform_variant`.

- updated\_at







string














The time the `Onetime` purchase was last updated.

- variant\_title







string














The name of the variant in a shop’s catalog.


##### Error related attributes

##### More Attributes

The onetime object

```hljs json
{
  "onetime": {
    "id": 16909886,
    "address_id": 21317826,
    "customer_id": 18819267,
    "created_at": "2018-11-14T11:20:05+00:00",
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2018-12-17T00:00:00+00:00",
    "price": null,
    "product_title": "SuperKiwi ONETIME",
    "properties": [\
      {\
        "name": "grind",\
        "value": "drip"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2018-11-14T11:20:05+00:00",
    "variant_title": "Blue star"
  }
}
```

# Create a onetime

Create a new `Onetime`.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer





\\* Required














Unique numeric identifier for the address the one time purchase is associated with.

- add\_to\_next\_charge







boolean














Instructs to add the `Onetime` to the next charge scheduled under this `Address`.

- external\_product\_id







object














Unique numeric identifier of the product in external platform.










Show object attributes


- external\_variant\_id







object





\\* Required














Unique numeric identifier of the product variant in external platform.










Show object attributes


- next\_charge\_scheduled\_at







datetime





\\* Required














This will set the charge date of a new Onetime purchase.







Cannot be used with `add_to_next_charge`

- price







string





\\* Required














The price of the product.

- product\_title







string





\\* Required














The name of the product.

- properties







string














List of properties.

- quantity







integer





\\* Required














The quantity of the product.

- sku







string














A unique identifier of the item in the fulfillment.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/onetimes


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/onetimes' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "address_id": 45154492,
  "next_charge_scheduled_at": "2021-12-17",
  "price": 6,
  "product_title": "ABC Shirt",
  "properties": [\
    {\
      "name": "Color",\
      "value": "Blue"\
    },\
    {\
      "name": "Size",\
      "value": "Medium"\
    }\
  ],
  "quantity": 1,
  "external_variant_id": {
      "ecommerce": "3844892483"
  }
}'
```

Response

201


```hljs json
{
  "onetime": {
    "id": 156155818,
    "address_id": 45154492,
    "customer_id": 40565990,
    "created_at": "2021-05-24T19:14:25+00:00",
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",
    "price": "6.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Red"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2021-05-24T19:30:14+00:00",
    "variant_title": "Blue star"
  }
}
```

# Retrieve a onetime

Retrieve a Onetime.

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/onetimes/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/onetimes/16909886' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "onetime": {
    "id": 16909886,
    "address_id": 45154492,
    "created_at": "2021-05-24T19:14:25+00:00",
    "customer_id": 40565990,
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",
    "price": "6.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2021-05-24T19:30:14+00:00",
    "variant_title": "Blue star"
  }
}
```

# Update a onetime

Update an existing `Onetime` item.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer














Unique numeric identifier for the address the `Onetime` Purchase is associated with (cannot be used with `next_charge_scheduled_at`)

- next\_charge\_scheduled\_at







datetime














This will set the charge date of a new `Onetime` purchase.

- price







string














The price of the product.

- product\_title







string














The name of the product.

- properties







array














List of properties.










Show object attributes


- quantity







integer














The quantity of the product.

- external\_variant\_id







object














Unique numeric identifier of the product variant.










Show object attributes


- sku







string














A unique alphanumeric identifier of the item in the fulfillment.

- variant\_title







string














The name of the product variant.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/onetimes/{id}


cURLPythonPHPRuby

```hljs js
curl -x PUT 'https://api.rechargeapps.com/onetimes/16909886' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"quantity": 1}'
```

Response

200


```hljs json
{
  "onetime": {
    "id": 16909886,
    "address_id": 45154492,
    "created_at": "2021-05-24T19:14:25+00:00",
    "customer_id": 40565990,
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",
    "price": "6.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2021-05-24T19:30:14+00:00",
    "variant_title": "Blue star"
  }
}
```

# Delete a onetime

Delete a `Onetime`.

Scopes:
write\_subscriptions


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/onetimes/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/onetimes/16665185' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List onetimes

Returns a list of all `Onetime` products from store.

Scopes:
read\_subscriptions


##### Query Parameters

- address\_id







string














Return the onetimes linked to the given `address_id`.

- address\_ids







string














Return the onetimes linked to the given comma-separated list of `address_ids`.

- created\_at\_max







datetime














Return the onetimes created before the given date.

- created\_at\_min







datetime














Return the onetimes created after the given date.

- customer\_id







string














Return the onetimes linked to the given Recharge `customer_id`.

- include\_cancelled







boolean














If `true` the response will include the cancelled `Onetimes` as well as the others.

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- external\_variant\_id







string














Return the one time purchases linked to the given external platform product `variant_id`.

- updated\_at\_max







datetime














Return the onetimes updated before the given date.

- updated\_at\_min







datetime














Return the onetimes updated after the given date.

- ids







array














Comma-separated list of one time purchase ids to filter.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/onetimes


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/onetimes' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next": "next_cursor",
  "previous": "previous_cursor",
  "onetimes": [\
    {\
      "id": 16909886,\
      "address_id": 45154492,\
      "created_at": "2021-05-24T19:14:25+00:00",\
      "customer_id": 40565990,\
      "external_product_id": {\
        "ecommerce": "4950280863846"\
      },\
      "external_variant_id": {\
        "ecommerce": "32139793137766"\
      },\
      "is_cancelled": false,\
      "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",\
      "price": "6.00",\
      "product_title": "ABC Shirt",\
      "properties": [\
        {\
          "name": "Color",\
          "value": "Blue"\
        }\
      ],\
      "quantity": 1,\
      "sku": "TOM0001",\
      "sku_override": false,\
      "updated_at": "2021-05-24T19:30:14+00:00",\
      "variant_title": "Blue star"\
    }\
  ]
}
```

# Orders

An order is created after a `Charge` is successfully processed. The `Order` contains all the same json data as the `Charge`. In case of a prepaid order creation, the order will be queued for a particular date and submitted on that date to the external platform.

Endpoints

GET

/orders/{id}


POST

/orders/{id}/clone


POST

/orders/{id}/delay


PUT

/orders/{id}


DELETE

/orders/{id}


GET

/orders


Expand

# The order object

##### Attributes

- id







integer














The unique numeric identifier for the order.

- address\_id







integer














The id of the associated `Address` within Recharge.

- billing\_address







object














The billing address at the time the order was created. See `Addresses` for detailed address information.










Show object attributes


- charge







object














An object containing parameters of the `Charge`.










Show object attributes


- client\_details







object














Details of the access method used by the purchase.










Show object attributes


- created\_at







datetime














The date when the order was created.

- currency







string














The currency of the payment used to create the order.

- customer







object














Object that contains information about the `Customer`.










Show object attributes


- discounts







array














An array of `Discounts` associated with the `Order`.










Show object attributes


- external\_cart\_token







string














The cart token as it appears in an external system.

- external\_order\_id







object














An object containing external order ids.










Show object attributes


- external\_order\_number




















An object containing the external order numbers.










Show object attributes


- is\_prepaid







boolean














A boolean representing if this `Order` is generated from a prepaid purchase.

- line\_items







array














A list of `line_item` objects.










Show object attributes


- note







string














Notes associated with the `Order`.

- order\_attributes







array














An array of name value pairs of note attributes on the `Order`.










Show object attributes


- processed\_at







datetime














The date time that the associated charge was processed at.

- scheduled\_at







datetime














The date time of when the associated charge is/was scheduled to process.

- shipping\_address







object














The shipping address where the order will be shipped. See `Addresses` for detailed `Address` information.










Show object attributes


- shipping\_lines







array














An array of shipping lines associated with the order.










Show object attributes


- status







string













Possible values:

success,

error,

queued,

cancelled










The status of creating the `Order`.

- subtotal\_price







string














The subtotal price (sum of all line items \* their quantity) of the order less discounts.

- tags







string














A comma separated list of tags on the `Order`.

- tax\_lines







array














An array of tax lines that apply to the `Order`.










Show object attributes


- taxable







boolean














A boolean indicator of the taxability of the `Order`.

- total\_discounts







string














The total discounted dollar value of the `Order`.

- total\_duties







string














The total cost of duties for the order.

- total\_line\_items\_price







integer














The total price of all line items of the `Order`.

- total\_price







string














The total amount due of the `Order`.

- total\_refunds







string














The total dollar amount of refunds associated with the `Order`.

- total\_tax







string














The total tax due associated with the `Order`.

- total\_weight\_grams







integer














The total weight of the order in grams.

- type







string













Possible values:

checkout,

recurring










An indicator of the order’s type.

- updated\_at







datetime














The date time at which the order was most recently updated.


##### Error related attributes

##### More Attributes

The order object

```hljs json
{
  "order": {
    "id": 70071255,
    "address_id": 4029306,
    "billing_address": {
      "address1": "1933 Manning",
      "address2": "204",
      "city": "los angeles",
      "company": "bootstrap",
      "country_code": "US",
      "first_name": "mike",
      "last_name": "flynn",
      "phone": "3103103101",
      "province": "California",
      "zip": "90025"
    },
    "charge": {
      "id": 97376832,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2018-11-08T08:08:09+00:00",
    "currency": "usd",
    "customer": {
      "id": 12354,
      "email": "example@email.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 123456,\
        "code": "TESTCODE10",\
        "value": "10.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "123496878536413"
    },
    "external_order_number": {
      "ecommerce": "125"
    },
    "hash": "42039120ee0e6cfa5c97805",
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 365974856,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "456123789"\
        },\
        "external_variant_id": {\
          "ecommerce": "4569876413"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2_large.jpeg",\
          "medium": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2_medium.jpeg",\
          "original": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2.jpeg",\
          "small": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2_small.jpeg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "grind",\
            "value": "drip"\
          },\
          {\
            "name": "size",\
            "value": "medium"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 4,\
        "sku": "TOM0001",\
        "tax_due": "3.80",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "unit_price": "0.331",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "unit_price": "0.102",\
            "title": "LA County Tax"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt bundle",\
        "total_price": "43.80",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order #3   - Subscription Recurring Order",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": null,
    "scheduled_at": "2022-11-16T00:00:00+00:00",
    "shipping_address": {
      "address1": "1933 Manning",
      "address2": "204",
      "city": "los angeles",
      "company": "bootstrap",
      "country_code": "US",
      "first_name": "mike",
      "last_name": "flynn",
      "phone": "3103103101",
      "province": "California",
      "zip": "90025"
    },
    "shipping_lines": [\
      {\
        "code": "Standard Shipping",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.360",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "LA County Tax"\
          }\
        ],\
        "title": "Standard Shipping"\
      }\
    ],
    "status": "cancelled",
    "subtotal_price": "40.00",
    "tags": "Prepaid, Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_duties": "0.0",
    "total_line_items_price": "40.00",
    "total_price": "38.22",
    "total_refunds": "0.00",
    "total_tax": "3.32",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-20T13:25:52+00:00"
  }
}
```

# Retrieve an order

Retrieve one `Order` using the Recharge `order_id`.

Scopes:
read\_orders


##### Responses

- 200




















successful response










Show response object



GET

/orders/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/orders/70071255' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "order": {
    "id": 210987092,
    "address_id": 42171447,
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "",
      "city": "Portland",
      "company": "Fake Company Billing",
      "country_code": "US",
      "first_name": "Fake Billing First",
      "last_name": "Fake Billing Last",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "charge": {
      "id": 272382456,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2020-12-17T18:50:25+00:00",
    "currency": "usd",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "27117383938"
    },
    "external_order_number": {
      "ecommerce": "1938"
    },
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "1.30",\
        "title": "Shirt bundle",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": "2020-12-17T18:50:27+00:00",
    "scheduled_at": "2020-12-17T18:50:27+00:00",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_duties": "0.0",
    "total_line_items_price": "10.00",
    "total_price": "14.90",
    "total_refunds": "0.00",
    "total_tax": "10.00",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-17T18:50:27+00:00"
  }
}
```

# Clone an order

You may add additional `Orders` onto a success `Charge` if it has existing prepaid `Orders` by cloning an existing `Order`.

Scopes:
write\_orders


##### Body Parameters

- scheduled\_at







datetime





\\* Required














Date in future when this order will be sent.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/orders/{id}/clone


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/orders/70071255/clone' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"scheduled_at": "2022-11-16"}'
```

Response

201


```hljs json
{
  "order": {
    "id": 210987092,
    "address_id": 42171447,
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "",
      "city": "Portland",
      "company": "Fake Company Billing",
      "country_code": "US",
      "first_name": "Fake Billing First",
      "last_name": "Fake Billing Last",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "charge": {
      "id": 272382456,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2020-12-17T18:50:25+00:00",
    "currency": "usd",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "27117383938"
    },
    "external_order_number": {
      "ecommerce": "1938"
    },
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "1.30",\
        "title": "Shirt bundle",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": "2020-12-17T18:50:27+00:00",
    "scheduled_at": "2020-12-17T18:50:27+00:00",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_duties": "0.0",
    "total_line_items_price": "10.00",
    "total_price": "14.90",
    "total_refunds": "0.00",
    "total_tax": "10.00",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-17T18:50:27+00:00"
  }
}
```

# Delay an order

Delay a prepaid `Order` by one interval

The `id` must be for the next queued `Order` for a prepaid `Subscription`. The `Order` will be delayed by one interval, and all subsequent `Orders` and `Charges` will be shifted by the same amount.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object



POST

/orders/{id}/delay


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/orders/70071255/delay' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "order": {
    "id": 70071255,
    "address_id": 4029306,
    "created_at": "2022-02-04T23:19:52+00:00",
    "currency": "usd",
    "discounts": [],
    "error": null,
    "external_cart_token": null,
    "is_prepaid": true,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "1.30",\
        "title": "Shirt bundle",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": null,
    "order_attributes": [],
    "processed_at": null,
    "scheduled_at": "2023-02-07T05:00:00+00:00",
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "queued",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "0.00",
    "total_duties": "0.0",
    "total_line_items_price": "10.00",
    "total_price": "14.90",
    "total_refunds": "0.00",
    "total_tax": "10.00",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2023-01-05T22:11:46+00:00"
  }
}
```

# Update an order

Updating existing `Order` using the `order_id`.

Scopes:
write\_orders


##### Body Parameters

- billing\_address







object














Billing address details.










Show object attributes


- customer







object














The key values related with customer.










Show object attributes


- line\_items







array














Line item properties can be updated on Prepaid Queued Orders. To change Queued Charges you must change the parent subscription(s) or address.







**Important:** When updating `line_items`, you must provide the entire json block that was in `line_items` before, as the data provided overrides the entire block and only new parameters will remain.










Show object attributes


- external\_order\_id







object














An object containing external order ids.










Show object attributes


- scheduled\_at







datetime














The date when the order will be shipped.

- shipping\_address







object














Shipping address details.










Show object attributes


- status







string













Possible values:

success,

error,

queued,

cancelled










The status of the order


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/orders/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/orders/70071255' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
"billing_address": {
  "city": "Los Angeles",
  "first_name": "mike",
  "last_name": "flynn",
  "zip": "90025"
 }
}'
```

Response

200


```hljs json
{
  "order": {
    "id": 210987092,
    "address_id": 42171447,
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "",
      "city": "Portland",
      "company": "Fake Company Billing",
      "country_code": "US",
      "first_name": "Fake Billing First",
      "last_name": "Fake Billing Last",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "charge": {
      "id": 272382456,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2020-12-17T18:50:25+00:00",
    "currency": "usd",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "27117383938"
    },
    "external_order_number": {
      "ecommerce": "1938"
    },
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.725",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.225",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "0.95",\
        "title": "Shirt bundle",\
        "total_price": "10.95",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": "2020-12-17T18:50:27+00:00",
    "scheduled_at": "2020-12-17T18:50:27+00:00",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.355",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.110",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_line_items_price": "10.00",
    "total_price": "5.37",
    "total_refunds": "0.00",
    "total_tax": "0.47",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-17T18:50:27+00:00"
  }
}
```

# Delete an order

You can delete a scheduled order.

Scopes:
write\_orders


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/orders/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/orders/70071255' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List orders

Returns a list of orders.

## HTTP request examples

`GET /orders`

`GET /orders?customer_id=123`

`GET /orders?address_id=4587216`

`GET /orders?charge_id=45678542`

`GET /orders?created_at_min=2016-05-18&created_at_max=2016-06-18`

Scopes:
read\_orders


##### Query Parameters

- address\_id







string














Filter orders by address.







`GET /orders/?address_id=123` will return all orders for the given `address_id`.

- charge\_id







string














Filter orders by charge.







`GET /orders/?charge_id=123` will return all orders for the given `charge_id`.

- created\_at\_max







datetime














Show orders created before the given date.

- created\_at\_min







datetime














Show orders created after the given date.

- customer\_id







string














Filter orders by customer.







`GET /orders/?customer_id=123` will return all orders for the given `customer_id`

- external\_customer\_id







string














Filter orders by external\_customer\_id.

- external\_order\_id







string














Filter orders by external\_order\_id.

- ids







string














Filter orders by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show. Default is 1.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- scheduled\_at\_max







datetime














Show orders scheduled before the given date.

- scheduled\_at\_min







datetime














Show orders scheduled after the given date.

- has\_external\_order







string














Filter orders with/without external\_order\_id.

- status







string













Possible values:

success,

queued,

error,

refunded,

skipped










Filter orders by status.

- type







string













Possible values:

checkout,

recurring










Filter orders by type.







`GET /api/orders/?type=recurring` will return all orders for the given type.

- purchase\_item\_id







string














Filter orders by subscription or onetime.

- updated\_at\_max







datetime














Show orders updated before the given date.

- updated\_at\_min







datetime














Show orders updated after the given date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/orders


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/orders' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d 'limit=3' -G
```

Response

200


```hljs json
{
  "next": "next_cursor",
  "previous": "previous_cursor",
  "orders": [\
    {\
      "id": 210987092,\
      "address_id": 42171447,\
      "billing_address": {\
        "address1": "601 SW Washing St.",\
        "address2": "",\
        "city": "Portland",\
        "company": "Fake Company Billing",\
        "country_code": "US",\
        "first_name": "Fake Billing First",\
        "last_name": "Fake Billing Last",\
        "phone": "888-888-8888",\
        "province": "Oregon",\
        "zip": "97205"\
      },\
      "charge": {\
        "id": 272382456,\
        "external_transaction_id": {\
          "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"\
        }\
      },\
      "client_details": {\
        "browser_ip": "192.168.0.1",\
        "user_agent": "safari webkit"\
      },\
      "created_at": "2020-12-17T18:50:25+00:00",\
      "currency": "usd",\
      "customer": {\
        "id": 37657002,\
        "email": "test@test.com",\
        "external_customer_id": {\
          "ecommerce": "382028302"\
        },\
        "hash": "7e706455cbd13e40"\
      },\
      "discounts": [\
        {\
          "id": 12345,\
          "code": "TESTCODE10",\
          "value": 10,\
          "value_type": "fixed_amount"\
        }\
      ],\
      "error": null,\
      "external_cart_token": "aeic8101918fs0f8810",\
      "external_order_id": {\
        "ecommerce": "27117383938"\
      },\
      "external_order_number": {\
        "ecommerce": "1938"\
      },\
      "is_prepaid": false,\
      "line_items": [\
        {\
          "purchase_item_id": 63898947,\
          "external_inventory_policy": "decrement_obeying_policy",\
          "external_product_id": {\
            "ecommerce": "4381728735283"\
          },\
          "external_variant_id": {\
            "ecommerce": "999999999999"\
          },\
          "grams": 454,\
          "images": {\
            "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
            "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
            "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
            "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
          },\
          "original_price": "10.00",\
          "properties": [\
            {\
              "name": "Color",\
              "value": "Blue"\
            }\
          ],\
          "purchase_item_type": "subscription",\
          "quantity": 1,\
          "sku": "TOM0001",\
          "tax_lines": [\
            {\
              "price": "0.993",\
              "rate": "0.0725",\
              "title": "CA State Tax",\
              "unit_price": "0.331"\
            },\
            {\
              "price": "0.308",\
              "rate": "0.0225",\
              "title": "LA County Tax",\
              "unit_price": "0.102"\
            }\
          ],\
          "taxable": true,\
          "taxable_amount": "10.00",\
          "tax_due": "1.30",\
          "title": "Shirt bundle",\
          "total_price": "11.30",\
          "unit_price": "10.00",\
          "unit_price_includes_tax": false,\
          "variant_title": "Blue t-shirts"\
        }\
      ],\
      "note": "next order in sequence 3",\
      "order_attributes": [\
        {\
          "name": "subscription_cycle_count_min",\
          "value": "3"\
        }\
      ],\
      "processed_at": "2020-12-17T18:50:27+00:00",\
      "scheduled_at": "2020-12-17T18:50:27+00:00",\
      "shipping_address": {\
        "address1": "1030 Barnum Ave",\
        "address2": "Suite 101",\
        "city": "Stratford",\
        "company": "Fake Company",\
        "country_code": "US",\
        "first_name": "Fake First",\
        "last_name": "Fake Last",\
        "phone": "999-999-9999",\
        "province": "Connecticut",\
        "zip": "06614"\
      },\
      "shipping_lines": [\
        {\
          "code": "Standard",\
          "price": "4.90",\
          "taxable": true,\
          "tax_lines": [\
            {\
              "price": "0.355",\
              "rate": "0.0725",\
              "title": "CA State Tax"\
            },\
            {\
              "price": "0.110",\
              "rate": "0.0225",\
              "title": "Los Angeles County Tax"\
            }\
          ],\
          "title": "Standard"\
        }\
      ],\
      "status": "success",\
      "subtotal_price": "10.00",\
      "tags": "Subscription, Subscription Recurring Order",\
      "tax_lines": [\
        {\
          "price": "0.950",\
          "rate": "0.0725",\
          "title": "CA State Tax"\
        },\
        {\
          "price": "0.335",\
          "rate": "0.0225",\
          "title": "Los Angeles  County Tax"\
        }\
      ],\
      "taxable": true,\
      "total_discounts": "10.00",\
      "total_duties": "0.0",\
      "total_line_items_price": "10.00",\
      "total_price": "14.90",\
      "total_refunds": "0.00",\
      "total_tax": "10.00",\
      "total_weight_grams": 454,\
      "type": "recurring",\
      "updated_at": "2020-12-17T18:50:27+00:00"\
    }\
  ]
}
```

# Payment methods

The `Payment Method` object holds payment and billing information. A `Customer` may be associated with many `Payment Methods`, and an `Addresses` record must be associated with at least one `Payment_method`.

Important - If you see the following error when accessing Payment Methods endpoints: “You do not have sufficient permissions (scopes) for this object”, the token you are using has not been configured with correct access permissions. Update the token to have “Read access” or “Read and Write access” depending on your use case. ![](https://developer.getrecharge.com/images/paymentMethods.png)

Endpoints

POST

/payment\_methods


GET

/payment\_methods/{id}


PUT

/payment\_methods/{id}


DELETE

/payment\_methods/{id}


GET

/payment\_methods


Expand

# The payment method object

The Payment Method object holds payment and billing information. A `Customer` may be associated with many payment methods, and an `Addresses` record must be associated with at least one `Payment Method`.

##### Attributes

- id







integer














The unique payment method id for a customer.

- customer\_id







integer














The Recharge `customer_id`.

- created\_at







datetime














The date and time when the payment method was created.

- default







boolean














If this is the default `Payment_method` for the `Customer`.







`Customer` must have 1 and only 1 default payment `Payment_method`.

- payment\_details







object














Details about the specific payment method







Those details will vary based on the `payment_type`










Show object attributes


- payment\_type







string













Possible values:

CREDIT\_CARD,

PAYPAL,

APPLE\_PAY,

GOOGLE\_PAY,

SEPA\_DEBIT










The type of payment this is.







If passed, must also be accompanied by one of `stripe_customer_token`, `paypal_customer_token` or `authorizedotnet_customer_token` in `processor_payment_method_token`.

- processor\_customer\_token







string














The customer token at the processor.

- processor\_name







string













Possible values:

stripe,

braintree,

authorize,

shopify\_payments,

mollie










This will impact validation on billing\_details.







Currently, `shopify_payments` is in read-only mode and can only be managed by Shopify.

- processor\_payment\_method\_token







string














The payment token at the processor.

- status







string













Possible values:

unvalidated,

valid,

invalid,

empty










State of the `Payment Method`.

- status\_reason







string














The status reason for the payment method.







Often used when `invalid` to provide background details in invalidity.

- updated\_at







datetime














Last time the `Payment_method` was updated.


##### Error related attributes

##### More Attributes

- billing\_address







object














An object with the customer’s address information.










Show object attributes



The payment method object

```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country": "United States",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": 1234
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3ebcBaL6pCx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "retry_date": null,
    "status": null,
    "status_reason": null,
    "taxable": true,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Create a payment method

[BigCommerce](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Create a Payment Method in Recharge.

Scopes:
write\_payment\_methods


##### Body Parameters

- customer\_id







integer





\\* Required














The Recharge `customer_id`.

- default







boolean














If this is the default `Payment Method` for the customer, customer must have 1 and only 1 default `Payment Method`.

- payment\_type







string





\\* Required













Possible values:

CREDIT\_CARD,

PAYPAL,

APPLE\_PAY,

GOOGLE\_PAY,

SEPA\_DEBIT










The type of payment.

- processor\_customer\_token







string





\\* Required














The customer token at the processor.







On Stripe this begins with `cus_`.

- processor\_name







string





\\* Required













Possible values:

stripe,

braintree,

authorize,

shopify\_payments,

mollie










This will impact validation on billing\_details.







Currently, `shopify_payments` is in read-only mode and can only be managed by Shopify.

- processor\_payment\_method\_token







string














The payment token at the processor.


##### More Parameters

- billing\_address







object














An object with the customer’s address information.










Show object attributes


- retry\_charges







boolean














Whether charges associated with this payment method should be retried. If `true` then charges with previous payment-related errors will be set to retry during the next automated processing.


##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/payment\_methods


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/payment_methods' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "customer_id": 62824147,
  "default": true,
  "payment_type": "CREDIT_CARD",
  "processor_customer_token": "cus_JGYtLWi2HS8ymD",
  "processor_name": "stripe",
  "processor_payment_method_token": "pm_34jdshjs"
}'
```

Response

201


```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": "1234"
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3457BaL90Cx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "status": null,
    "status_reason": null,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Retrieve a payment method

Retrieve an existing `Payment Method` using the Recharge `Payment Method` `id`.

Scopes:
read\_payment\_methods


##### Responses

- 200




















successful response










Show response object



GET

/payment\_methods/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/payment_methods/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": "1234"
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3457BaL90Cx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "status": null,
    "status_reason": null,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Update a payment method

[BigCommerce](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Modify an existing `Payment Method`.

Scopes:
write\_payment\_methods


##### Body Parameters

- default







boolean














If this is the default `Payment Method` for the `Customer`.







`Customer` must have 1 and only 1 default payment `Payment_method`.

- processor\_name







string













Possible values:

stripe,

braintree,

authorize,

shopify\_payments,

mollie










This will impact validation on billing\_details.







Currently, `shopify_payments` is in read-only mode and can only be managed by Shopify.

- billing\_address







object














An object with the customer’s address information.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/payment\_methods/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/payment_methods/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"default": true}'
```

Response

200


```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": "1234"
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3457BaL90Cx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "status": null,
    "status_reason": null,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Delete a payment method

[BigCommerce](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Permanently delete a `Payment Method`.

Scopes:
write\_payment\_methods


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/payment\_methods/{id}


cURLPythonPHPRuby

```hljs js
curl --X DELETE 'https://api.rechargeapps.com/payment_methods/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List payment methods

Return a list of payment methods in your store.

## HTTP request examples

`GET /payment_methods`

Scopes:
read\_payment\_methods


##### Query Parameters

- customer\_id







string














Gets all `Payment methods` for this customer.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/payment\_methods


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/payment_methods' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "payment_methods": [\
    {\
      "id": 1234567,\
      "billing_address": {\
        "address1": "123 Washington Street",\
        "address2": "Suite 101",\
        "city": "Los Angeles",\
        "company_name": "Acme Corp",\
        "country_code": "US",\
        "name": "Jane Doe",\
        "phone": "1234567890",\
        "province": "California",\
        "zip": "90210"\
      },\
      "created_at": "2018-11-14T09:00:01",\
      "customer_id": 999123999,\
      "default": true,\
      "payment_details": [\
        {\
          "brand": "visa",\
          "exp_month": 12,\
          "exp_year": 2021,\
          "last4": 1234\
        }\
      ],\
      "payment_type": "CREDIT_CARD",\
      "processor_customer_token": "cus_AB3ebcBaL6pCx9",\
      "processor_name": "stripe",\
      "processor_payment_method_token": "pm_123123",\
      "updated_at": "2018-11-14T09:00:01"\
    }\
  ]
}
```

# Plans

The `Plans` resource is used to create and configure the transactional options for the `Product` (subscription, prepaid, and onetime purchase options) in Recharge. ![](https://developer.getrecharge.com/images/plan.png)

Endpoints

POST

/plans


PUT

/plans/{id}


DELETE

/plans/{id}


GET

/plans


POST

/products/{external\_product\_id}/plans-bulk


PUT

/products/{external\_product\_id}/plans-bulk


DELETE

/products/{external\_product\_id}/plans-bulk


Expand

# The plan object

The `Plan` object is used to create and configure the transactional options for the `Products` in Recharge.

Current transactional options are: subscription, prepaid and onetime.

**Important -** Updating/modifying plans in 2021-11 will impact /products in 2021-01. **These are not cross compatible.** Proceed with caution.

##### Attributes

- id







integer














Unique numeric identifier for the `Plan`.

- channel\_settings







object














An object containing the availability of the plan through various supported channels.










Show object attributes


- created\_at







datetime














The time the plan was created.

- deleted\_at







datetime














If deleted, the time the plan was deleted.

- discount\_amount







string














The discount amount applied to the product `price` when purchased through this `Plan`.







All `Plans` for a product must have the same discount amount.

- discount\_type







string













Possible values:

percentage










Used in combination with discount amount to determine the discount applied on a product price when purchased through this `Plan`.

- external\_plan\_group\_id







string














The id of the selling plan group as it appears in external platforms.

- external\_plan\_id







string














The id of the selling plan as it appears in external platforms.

- external\_plan\_name







string














The name of the selling plan as it appears in external platforms.

- external\_product\_id







object














An object containing the product id as it appears in external platforms.










Show object attributes


- external\_variant\_ids







array














An array of variant ids as they appear in external platforms.

- has\_variant\_restrictions







boolean













Default: false










Whether this plan applies to specific variants of the product

- sort\_order







integer














The number indicating the order which the plan will be in a list of related plans.

- subscription\_preferences







object














An object containing the various subscription preferences associated with this plan.










Show object attributes


- title







string














The title of the plan.







All `Plans` for a product must have the same `title`.

- type







string













Possible values:

subscription,

prepaid,

onetime










The type of the plan.







Products with a `prepaid` plan cannot have plans of other types.

- updated\_at







datetime














The time the plan was last updated.


##### Error related attributes

##### More Attributes

The plan object

```hljs json
{
  "plan": {
    "id": 88237,
    "channel_settings": {
      "api": {
        "display": true
      },
      "checkout_page": {
        "display": true
      },
      "customer_portal": {
        "display": true
      },
      "merchant_portal": {
        "display": true
      }
    },
    "created_at": "2021-07-27T19:07:34+00:00",
    "deleted_at": null,
    "discount_amount": "30.00",
    "discount_type": "percentage",
    "external_plan_group_id": "77695091010",
    "external_plan_id": "690103779650",
    "external_plan_name": "1 week subscription",
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "external_variant_ids": [],
    "has_variant_restrictions": false,
    "sort_order": 1,
    "subscription_preferences": {
      "apply_cutoff_date_to_checkout": false,
      "charge_interval_frequency": 30,
      "cutoff_day_of_month": null,
      "cutoff_day_of_week": null,
      "expire_after_specific_number_of_charges": null,
      "interval_unit": "day",
      "order_day_of_month": 1,
      "order_day_of_week": null,
      "order_interval_frequency": 30
    },
    "title": "Jarred Pickles",
    "type": "subscription",
    "updated_at": "2021-07-27T19:07:34+00:00"
  }
}
```

# Create a plan

Create a `Plan` for a `Product` in Recharge.

Multiple `Plans` may exist for any `Product`, see the `Plan` object for restrictions.

Scopes:
write\_products


##### Body Parameters

- channel\_settings







string














An object containing the availability of the plan through various supported channels.










Show object attributes


- discount\_amount







string














The discount amount applied to the product price when purchased through this plan. All plans for a product must have the same discount amount.







All `Plans` for a product must have the same discount amount.

- discount\_type







string













Possible values:

percentage










Used in combination with discount amount to determine the discount applied on a product price when purchased through this plan. (accepts: percentage)

- external\_product\_id







object





\\* Required














An object containing the product id as it appears in external platforms.










Show object attributes


- sort\_order







integer














The number indicating the order which the plan will be in a list of related plans.

- subscription\_preferences







object





\\* Required














An object containing the various subscription preferences associated with this plan.










Show object attributes


- title







string





\\* Required














The title of the plan.







All `Plans` for a product must have the same `title`.

- type







string





\\* Required













Possible values:

subscription,

prepaid,

onetime










The type of the plan. Products with a prepaid plan cannot have plans of other types.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/plans


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/plans' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "discount_amount": "10",
    "discount_type": "percentage",
    "external_product_id": {
        "ecommerce": "2103271587891"
    },
    "sort_order": 1,
    "subscription_preferences": {
        "charge_interval_frequency": 30,
        "expire_after_specific_number_of_charges": 6,
        "interval_unit": "day",
        "order_day_of_month": 1,
        "order_interval_frequency": 30
    }
    "title": "Concert T-Shirt",
    "type": "subscription",
}'
```

Response

200


```hljs json
{
  "plan": {
    "id": 88237,
    "channel_settings": {
      "api": {
        "display": true
      },
      "checkout_page": {
        "display": true
      },
      "customer_portal": {
        "display": true
      },
      "merchant_portal": {
        "display": true
      }
    },
    "created_at": "2021-07-27T19:07:34+00:00",
    "deleted_at": null,
    "discount_amount": "10",
    "discount_type": "percentage",
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "sort_order": 1,
    "subscription_preferences": {
      "charge_interval_frequency": 30,
      "cutoff_day_of_month": null,
      "cutoff_day_of_week": null,
      "expire_after_specific_number_of_charges": 6,
      "interval_unit": "day",
      "order_day_of_month": 1,
      "order_day_of_week": null,
      "order_interval_frequency": 30
    },
    "title": "Concert TShirt",
    "type": "subscription",
    "updated_at": "2021-07-27T19:07:34+00:00"
  }
}
```

# Update a plan

Update an existing Plan.

Scopes:
write\_products


##### Body Parameters

- channel\_settings







object














An object containing the availability of the plan through various supported channels.










Show object attributes


- discount\_amount







string














The discount amount applied to the product price when purchased through this plan. All plans for a product must have the same discount amount.







All `Plans` for a product must have the same discount amount.

- discount\_type







string













Possible values:

percentage










Used in combination with discount amount to determine the discount applied on a product price when purchased through this plan.

- external\_product\_id







object














An object containing the product id as it appears in external platforms.










Show object attributes


- sort\_order







string














The number indicating the order which the plan will be in a list of related plans.

- subscription\_preferences







object














An object containing the various subscription preferences associated with this plan.










Show object attributes


- title







string














The title of the plan.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/plans/{id}


cURLPythonPHPRuby

```hljs js
curl -x PUT 'https://api.rechargeapps.com/plans/16909886' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"discount_amount": "12.0","title": "Concert T-Shirt"}'
```

Response

200


```hljs json
{
  "plan": {
    "id": 88237,
    "channel_settings": {
      "api": {
        "display": true
      },
      "checkout_page": {
        "display": true
      },
      "customer_portal": {
        "display": true
      },
      "merchant_portal": {
        "display": true
      }
    },
    "created_at": "2021-07-27T19:07:34+00:00",
    "deleted_at": null,
    "discount_amount": "10",
    "discount_type": "percentage",
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "sort_order": 1,
    "subscription_preferences": {
      "charge_interval_frequency": 30,
      "cutoff_day_of_month": null,
      "cutoff_day_of_week": null,
      "expire_after_specific_number_of_charges": 6,
      "interval_unit": "day",
      "order_day_of_month": 1,
      "order_day_of_week": null,
      "order_interval_frequency": 30
    },
    "title": "Concert TShirt",
    "type": "subscription",
    "updated_at": "2021-07-27T19:07:34+00:00"
  }
}
```

# Delete a plan

Delete a plan.

Scopes:
write\_products


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/plans/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/plans/321654' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List plans

Returns a list of all plans from `Store`.

Scopes:
read\_products


##### Query Parameters

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- external\_product\_id







string














Return the `Plans` linked to the `Product` record in Recharge with the indicated `external_product_id`

- ids







string














Filter plans by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- updated\_at\_max







datetime














Return the plans updated before the given date.

- updated\_at\_min







datetime














Return the plans updated after the given date.

- type







string













Possible values:

subscription,

prepaid,

onetime










Return the plans that are of a specific type.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/plans


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/plans' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "plans": [\
    {\
      "id": 88237,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "deleted_at": null,\
      "discount_amount": null,\
      "discount_type": null,\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 1,\
      "subscription_preferences": {\
        "charge_interval_frequency": 30,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": null,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_day_of_week": null,\
        "order_interval_frequency": 30\
      },\
      "title": "Jarred Pickles",\
      "type": "subscription",\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    }\
  ]
}
```

# Bulk create plans

Bulk create new plans.

**There is a limit of 20 plans per request.**

Scopes:
write\_products


##### Body Parameters

- plans







array





\\* Required














An array of plans to be created.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/products/{external\_product\_id}/plans-bulk


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products/2103271587891/plans-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "plans": [\
        {\
            "discount_amount": "10",\
            "discount_type": "percentage",\
            "sort_order": 1,\
            "title": "Concert T-Shirt",\
            "type": "subscription",\
            "subscription_preferences": {\
                "charge_interval_frequency": 30,\
                "expire_after_specific_number_of_charges": 6,\
                "interval_unit": "day",\
                "order_day_of_month": 1,\
                "order_interval_frequency": 30\
            }\
        },\
        {\
            "discount_amount": "10",\
            "discount_type": "percentage",\
            "sort_order": 2,\
            "title": "Concert T-Shirt",\
            "type": "subscription",\
            "subscription_preferences": {\
                "charge_interval_frequency": 60,\
                "expire_after_specific_number_of_charges": 6,\
                "interval_unit": "day",\
                "order_day_of_month": 1,\
                "order_interval_frequency": 60\
            }\
        }\
    ]
 }'
```

Response

200


```hljs json
{
  "plans": [\
    {\
      "id": 88237,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 1,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 30,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 30\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    },\
    {\
      "id": 88238,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 2,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 60,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 60\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    }\
  ]
}
```

# Bulk update plans

Bulk update existing plans.

**There is a limit of 20 plans per request.**

Scopes:
write\_products


##### Body Parameters

- plans







array





\\* Required














An array of plans to be updated. Must provide ID for each plan.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/products/{external\_product\_id}/plans-bulk


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/products/2103271587891/plans-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "plans": [\
        {\
            "id": 88237,\
            "title": "Updated T-Shirt"\
        },\
        {\
            "id": 88238,\
            "title": "Updated T-Shirt"\
        }\
    ]
 }'
```

Response

200


```hljs json
{
  "plans": [\
    {\
      "id": 88237,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 1,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 30,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 30\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    },\
    {\
      "id": 88238,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 2,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 60,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 60\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    }\
  ]
}
```

# Bulk delete plans

Bulk delete existing plans.

**There is a limit of 20 plans per request.**

Scopes:
write\_products


##### Body Parameters

- plans







array





\\* Required














An array of plans to be deleted. Must provide ID for each plan.










Show object attributes



##### More Parameters

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/products/{external\_product\_id}/plans-bulk


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/products/2103271587891/plans-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "plans": [\
        {\
            "id": 88237\
        },\
        {\
            "id": 88238\
        }\
    ]
 }'
```

Response

204


```hljs json
{}
```

# Products

[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Representation of the Products from your catalog in Recharge. ![](https://developer.getrecharge.com/images/product.png)

Endpoints

POST

/products


GET

/products/{external\_product\_id}


PUT

/products/{external\_product\_id}


DELETE

/products/{external\_product\_id}


GET

/products


Expand

# The product object

##### Attributes

- external\_product\_id







string














Unique numeric identifier of the product record in Recharge. The primary id of the record.

- brand







string














The brand name of the product.

- external\_created\_at







datetime














The date and time at which the product was created in an external product catalog.

- external\_updated\_at







datetime














The date and time at which the product was updated in an external product catalog.

- images







array














An array of urls for various sizes of image files.










Show object attributes


- options




















An array of options for the product record, such as size, color, etc.










Show object attributes


- published\_at







datetime














The datetime at which the product became available for purchase. To make the product available, this should be set in the past.

- requires\_shipping







boolean














Indicator of shipping requirement.







Dictates the default for the variants. Can be overriden at the variant level.

- title







string














The title of the product.

- variants







array














An array of variants of the product.







If your PIM does not use variants, create a single variant product.










Show object attributes


- vendor







string














The vendor of the product.


##### Error related attributes

##### More Attributes

The product object

```hljs json
{
  "brand": "Recharge",
  "description": "A cotton shirt with the Recharge logo",
  "external_created_at": "2021-01-01T00:00:00+00:00",
  "external_product_id": "5",
  "external_updated_at": "2021-01-01T00:00:00+00:00",
  "images": [\
    {\
      "small": "https:...",\
      "medium": "https:...",\
      "large": "https:...",\
      "original": "https:...",\
      "sort_order": 2\
    }\
  ],
  "options": [\
    {\
      "name": "Size",\
      "position": 0,\
      "values": [\
        {\
          "label": "small",\
          "position": 0\
        },\
        {\
          "label": "medium",\
          "position": 1\
        },\
        {\
          "label": "large",\
          "position": 2\
        }\
      ]\
    }\
  ],
  "published_at": "2021-01-01:00:00+00:00",
  "requires_shipping": true,
  "title": "Recharge Logo Shirt",
  "variants": [\
    {\
      "external_variant_id": " 9",\
      "dimensions": {\
        "weight": 1234.5\
      },\
      "image": {\
        "small": "https:....jpeg",\
        "medium": "https:....jpeg",\
        "large": "https:....jpeg",\
        "original": "https:....jpeg"\
      },\
      "option_values": [\
        {\
          "label": "small"\
        }\
      ],\
      "requires_shipping": true,\
      "sku": "CLO123",\
      "title": "Recharge Logo Shirt - Small",\
      "taxable": true,\
      "tax_code": "CLOTHING",\
      "prices": {\
        "compare_at_price": "14.22",\
        "unit_price": "12.22"\
      }\
    }\
  ],
  "vendor": "Recharge Apparel Store"
}
```

# Create a product

[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Create a new product in your Recharge Product Catalog. After adding the record, subscription preferences may be added using the Products page of Recharge Admin Portal or you can use the `Plans` resource currently in `Alpha`.

Scopes:
write\_products


##### Body Parameters

- external\_product\_id







object





\\* Required














Unique numeric identifier of the product record in Recharge. The primary id of the record.










Show object attributes


- brand







string














The brand name of the product.

- external\_created\_at







datetime














The date and time at which the product was created in an external product catalog.

- external\_updated\_at







datetime














The date and time at which the product was updated in an external product catalog.

- images







array














An array of urls for various sizes of image files.







`small` is the default picture shown on the checkout. If `small` is not present we render `original`. Please note for better rendering we advise you populate `small`.










Show object attributes


- options











\\* Required














An array of options for the product record, such as size, color, etc.










Show object attributes


- published\_at







datetime














The date and time at which the product became available for purchase. To make the product available, this should be set in the past.

- requires\_shipping







string














Indicator of shipping requirement. If `true` the product associated to the variant needs to be shipped.







This is usually false for digital goods.

- title







string





\\* Required














The title of the product.

- variants







array





\\* Required














An array of variants of the product.







If your PIM does not use variants, create a single variant product.










Show object attributes


- vendor







string





\\* Required














The vendor of the product.


##### More Parameters

##### Responses

- 202




















successful response










Show response object



POST

/products


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products' \
 -H 'X-Recharge-Version: 2021-11'
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "external_product_id": "10",
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "images": [\
        {\
            "small": "https:...",\
            "medium": "https:...",\
            "large": "https:...",\
            "original": "https:...",\
            "sort_order": 2\
        }\
    ],
    "options": [\
        {\
            "name": "Size",\
            "position": 0,\
            "values": [\
                {"label": "small", "position": 0},\
                {"label": "medium", "position": 1},\
                {"label": "large", "position": 2}\
            ]\
        }\
    ],
    "published_at": "2021-01-01:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
        {\
            "external_variant_id": "9",\
            "dimensions": {\
                "weight": 1234.5\
            },\
            "image": {\
              "small": "https:...",\
              "medium": "https:...",\
              "large": "https:...",\
              "original": "https:..."\
            },\
            "option_values": [\
                {\
                    "label": "small"\
                }\
            ],\
            "sku": "CLO123",\
            "title": "Recharge Logo Shirt - Small",\
            "taxable": true,\
            "tax_code": "CLOTHING",\
            "prices": {\
                "compare_at_price": "14.22",\
                "unit_price": "12.22"\
            }\
        }\
    ],
    "vendor": "Recharge Apparel Store"
}'
```

Response

202


```hljs json
{
  "product": {
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "external_created_at": "2021-01-01T00:00:00+00:00",
    "external_product_id": "10",
    "external_updated_at": "2021-01-01T00:00:00+00:00",
    "images": [\
      {\
        "large": "https:...",\
        "medium": "https:...",\
        "original": "https:...",\
        "small": "https:...",\
        "sort_order": 2\
      }\
    ],
    "options": [\
      {\
        "name": "Size",\
        "position": 0,\
        "values": [\
          {\
            "label": "small",\
            "position": 0\
          },\
          {\
            "label": "medium",\
            "position": 1\
          },\
          {\
            "label": "large",\
            "position": 2\
          }\
        ]\
      }\
    ],
    "published_at": "2021-01-01T00:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
      {\
        "dimensions": {\
          "weight": 1234.5,\
          "weight_unit": "lb"\
        },\
        "external_variant_id": "9",\
        "image": {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:..."\
        },\
        "option_values": [\
          {\
            "label": "small"\
          }\
        ],\
        "prices": {\
          "compare_at_price": "14.22",\
          "unit_price": "12.22"\
        },\
        "sku": "CLO123",\
        "tax_code": "CLOTHING",\
        "taxable": true,\
        "title": "Recharge Logo Shirt - Small",\
        "requires_shipping": true\
      }\
    ],
    "vendor": "Recharge Apparel Store"
  }
}
```

# Retrieve a product

[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Retrieves a `Product` from store’s product catalog using the `external_product_id` as lookup id.

Scopes:
read\_products


##### Responses

- 200




















successful response










Show response object



GET

/products/{external\_product\_id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products/10' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "product": {
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "external_created_at": "2021-01-01T00:00:00+00:00",
    "external_product_id": "10",
    "external_updated_at": "2021-01-01T00:00:00+00:00",
    "images": [\
      {\
        "large": "https:...",\
        "medium": "https:...",\
        "original": "https:...",\
        "small": "https:...",\
        "sort_order": 2\
      }\
    ],
    "options": [\
      {\
        "name": "Size",\
        "position": 0,\
        "values": [\
          {\
            "label": "small",\
            "position": 0\
          },\
          {\
            "label": "medium",\
            "position": 1\
          },\
          {\
            "label": "large",\
            "position": 2\
          }\
        ]\
      }\
    ],
    "published_at": "2021-01-01T00:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
      {\
        "dimensions": {\
          "weight": 1234.5,\
          "weight_unit": "lb"\
        },\
        "external_variant_id": "9",\
        "image": {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:..."\
        },\
        "option_values": [\
          {\
            "label": "small"\
          }\
        ],\
        "prices": {\
          "compare_at_price": "14.22",\
          "unit_price": "12.22"\
        },\
        "sku": "CLO123",\
        "tax_code": "CLOTHING",\
        "taxable": true,\
        "title": "Recharge Logo Shirt - Small",\
        "requires_shipping": true\
      }\
    ],
    "vendor": "Recharge Apparel Store"
  }
}
```

# Update a product

[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Update an existing product.

Scopes:
write\_products


##### Body Parameters

- brand







string














The brand name of the product.

- external\_created\_at







datetime














The date and time at which the product was created in an external product catalog.

- external\_updated\_at







datetime














The date and time at which the product was updated in an external product catalog.

- images







array














An array of urls for various sizes of image files.










Show object attributes


- options




















An array of options for the product record, such as size, color, etc.










Show object attributes


- published\_at







datetime














The datetime at which the product became available for purchase. To make the product available, this should be set in the past.

- requires\_shipping







boolean














Indicator of shipping requirement. If `true` the product associated to the variant needs to be shipped.







This is usually `false` for digital goods.

- title







string














The title of the product.

- variants







array














An array of variants of the product.







If your PIM does not use variants, create a single variant product.










Show object attributes


- vendor







string














The vendor of the product.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/products/{external\_product\_id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/products/1327844' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "brand": "Recharge",
    "variants": [\
        {\
            "external_variant_id": "101",\
            "dimensions": {\
                "weight": 1234.5\
            },\
            "image": {\
              "small": "https:...",\
              "medium": "https:...",\
              "large": "https:...",\
              "original": "https:..."\
            },\
            "option_values": [{\
              "label": "small"\
            }],\
            "sku": "CLO123",\
            "title": "Small Recharge Logo Shirt",\
            "taxable": true,\
            "tax_code": "CLOTHING",\
            "prices": {\
                "compare_at_price": "14.22",\
                "unit_price": "12.22"\
            }\
        },\
        {\
            "external_variant_id": "102",\
            "dimensions": {\
                "weight": 1234.5\
            },\
            "image": {\
              "small": "https:...",\
              "medium": "https:...",\
              "large": "https:...",\
              "original": "https:..."\
            },\
            "option_values": [{\
              "label": "medium"\
            }],\
            "sku": "CLO124",\
            "title": "Medium Recharge Logo Shirt",\
            "taxable": true,\
            "tax_code": "CLOTHING",\
            "prices": {\
                "compare_at_price": "14.22",\
                "unit_price": "12.22"\
            }\
        }\
    ]
}'
```

Response

200


```hljs json
{
  "product": {
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "external_created_at": "2021-01-01T00:00:00+00:00",
    "external_product_id": "10",
    "external_updated_at": "2021-01-01T00:00:00+00:00",
    "images": [\
      {\
        "large": "https:...",\
        "medium": "https:...",\
        "original": "https:...",\
        "small": "https:...",\
        "sort_order": 2\
      }\
    ],
    "options": [\
      {\
        "name": "Size",\
        "position": 0,\
        "values": [\
          {\
            "label": "small",\
            "position": 0\
          },\
          {\
            "label": "medium",\
            "position": 1\
          },\
          {\
            "label": "large",\
            "position": 2\
          }\
        ]\
      }\
    ],
    "published_at": "2021-01-01T00:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
      {\
        "dimensions": {\
          "weight": 1234.5,\
          "weight_unit": "lb"\
        },\
        "external_variant_id": "9",\
        "image": {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:..."\
        },\
        "option_values": [\
          {\
            "label": "small"\
          }\
        ],\
        "prices": {\
          "compare_at_price": "14.22",\
          "unit_price": "12.22"\
        },\
        "sku": "CLO123",\
        "tax_code": "CLOTHING",\
        "taxable": true,\
        "title": "Recharge Logo Shirt - Small",\
        "requires_shipping": true\
      }\
    ],
    "vendor": "Recharge Apparel Store"
  }
}
```

# Delete a product

[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)

Delete product from `Store`.

Scopes:
write\_products


##### Responses

- 204




















successful response










Show response object



DELETE

/products/{external\_product\_id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/products/509780' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List products

[Custom](https://developer.getrecharge.com/2021-11/collections#tags_legend)

List products from store’s product catalog.

Scopes:
read\_products


##### Query Parameters

- external\_product\_ids







string














Filter products by external product ids.







`GET /products/?external_product_ids=123,223` will return all products with the associated `external_product_ids`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/products


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "products": [\
    {\
      "brand": "Recharge",\
      "description": "A cotton shirt with the Recharge logo",\
      "external_created_at": null,\
      "external_product_id": "10",\
      "external_updated_at": "2021-07-21T17:25:46+00:00",\
      "images": [\
        {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:...",\
          "sort_order": 2\
        }\
      ],\
      "options": [\
        {\
          "name": "Size",\
          "position": 0,\
          "values": [\
            {\
              "label": "small",\
              "position": 0\
            },\
            {\
              "label": "medium",\
              "position": 1\
            },\
            {\
              "label": "large",\
              "position": 2\
            }\
          ]\
        }\
      ],\
      "published_at": "2021-01-01T00:00:00+00:00",\
      "requires_shipping": true,\
      "title": "Recharge Logo Shirt",\
      "variants": [\
        {\
          "dimensions": {\
            "weight": 1234.5,\
            "weight_unit": "lb"\
          },\
          "external_variant_id": "101",\
          "image": {\
            "large": "https:...",\
            "medium": "https:...",\
            "original": "https:...",\
            "small": "https:..."\
          },\
          "option_values": [\
            {\
              "label": "small"\
            }\
          ],\
          "prices": {\
            "compare_at_price": "14.22",\
            "unit_price": "12.22"\
          },\
          "sku": "CLO123",\
          "tax_code": "CLOTHING",\
          "taxable": true,\
          "title": "Small Recharge Logo Shirt",\
          "requires_shipping": true\
        },\
        {\
          "dimensions": {\
            "weight": 1234.5,\
            "weight_unit": "lb"\
          },\
          "external_variant_id": "102",\
          "image": {\
            "large": "https:...",\
            "medium": "https:...",\
            "original": "https:...",\
            "small": "https:..."\
          },\
          "option_values": [\
            {\
              "label": "medium"\
            }\
          ],\
          "prices": {\
            "compare_at_price": "14.22",\
            "unit_price": "12.22"\
          },\
          "sku": "CLO124",\
          "tax_code": "CLOTHING",\
          "taxable": true,\
          "title": "Medium Recharge Logo Shirt",\
          "requires_shipping": true\
        }\
      ],\
      "vendor": "Recharge Apparel Store"\
    }\
  ]
}
```

# Retention Strategies

Retention Strategies are customer retention workflows that are used to win back customers who are in the process of canceling their subscription. The workflow is determined by the cancellation reason selected by the customer.

Endpoints

POST

/retention\_strategies


GET

/retention\_strategies/{id}


PUT

/retention\_strategies/{id}


DELETE

/retention\_strategies/{id}


GET

/retention\_strategies


Expand

# The retention strategy object

The `RetentionStrategy` object holds a cancellation reason and an optional customer retention workflow. Possible retention workflows include delaying a shipment, skipping a shipment, swapping a product, and offering a discount.

##### Attributes

- id







integer














Unique numeric identifier for the `RetentionStrategy`.

- cancellation\_flow\_type







string













Possible values:

subscription,

membership










The type of `PurchaseItem` that the retention strategy applies to. The default value is “subscription”.

- created\_at







datetime














The date and time the `RetentionStrategy` was created.

- discount\_code







string














Discount code to offer customer when used with an `incentive_type` of `discount`.

- incentive\_type







string













Possible values:

delay\_subscription,

discount,

skip\_charge,

swap\_product










Type of incentive to offer customer.

- prevention\_text







string














A short phrase or question to ask for more details or to provide an alternative to canceling.

- reason







string














The reason for canceling.

- updated\_at







datetime














The date and time the `RetentionStrategy` was last updated.


##### Error related attributes

##### More Attributes

The retention strategy object

```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "created_at": "2021-07-31T20:45:00+00:00",
    "discount_code": null,
    "incentive_type": "swap_product",
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "updated_at": "2021-07-31T20:45:00+00:00"
  }
}
```

# Create a retention strategy

Create a retention strategy

Scopes:
write\_retention\_strategies


##### Body Parameters

- cancellation\_flow\_type







string













Possible values:

subscription,

membership










The type of `PurchaseItem` that the retention strategy applies to. The default value is “subscription”.

- incentive\_type







string













Possible values:

delay\_subscription,

discount,

skip\_charge,

swap\_product










Type of incentive to offer customer.

- discount\_code







string














Discount code to offer customer when used with an `incentive_type` of `discount`.







This field is required when `incentive_type` is set to `discount`.

- prevention\_text







string





\\* Required














A short phrase or question to ask for more details or to provide an alternative to canceling.

- reason







string





\\* Required














The reason for canceling.


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/retention\_strategies


cURLPythonPHPRuby

```hljs js
curl -X POST -i 'https://api.rechargeapps.com/retention_strategies' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -d '{
  "incentive_type": "swap_product",
  "prevention_text": "Would you like to swap the product out for another item?",
  "reason": "I want a different product or variety"
}'
```

Response

201


```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "incentive_type": "swap_product",
    "discount_code": null,
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "created_at": "2021-07-31T20:45:00+00:00",
    "updated_at": "2021-10-30T07:14:21+00:00"
  }
}
```

# Retrieve a retention strategy

Retrieve a retention strategy using the Recharge `retention_strategy_id`.

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/retention\_strategies/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/retention_strategies/12345' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "incentive_type": "swap_product",
    "discount_code": null,
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "created_at": "2021-07-31T20:45:00+00:00",
    "updated_at": "2021-07-31T20:45:00+00:00"
  }
}
```

# Update a retention strategy

Update an existing retention strategy.

Scopes:
write\_retention\_strategies


##### Body Parameters

- cancellation\_flow\_type







string













Possible values:

subscription,

membership










The type of `PurchaseItem` that the retention strategy applies to. The default value is “subscription”.

- incentive\_type







string













Possible values:

delay\_subscription,

discount,

skip\_charge,

swap\_product










Type of incentive to offer customer.

- discount\_code







string














Discount code to offer customer when used with an `incentive_type` of `discount`.







This field is required when `incentive_type` is set to `discount`.

- prevention\_text







string














A short phrase or question to ask for more details or to provide an alternative to canceling.

- reason







string














The reason for canceling.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/retention\_strategies/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/retention_strategies/12345' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"reason": "I want a different product or variety"}'
```

Response

200


```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "incentive_type": "swap_product",
    "discount_code": null,
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "created_at": "2021-07-31T20:45:00+00:00",
    "updated_at": "2021-07-31T20:45:00+00:00"
  }
}
```

# Delete a retention strategy

Delete a retention strategy.

Scopes:
write\_retention\_strategies


##### Responses

- 204




















successful response










Show response object



DELETE

/retention\_strategies/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/retention_strategies/12345' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List retention strategies

Retrieve all retention strategies

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/retention\_strategies


cURLPythonPHPRuby

```hljs js
curl -X GET -i 'https://api.rechargeapps.com/retention_strategies' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json"
```

Response

200


```hljs json
{
  "retention_strategies": [\
    {\
      "id": 12347,\
      "cancellation_flow_type": "subscription",\
      "incentive_type": null,\
      "discount_code": null,\
      "prevention_text": "Would you care to provide any additional details?",\
      "reason": "This was created by accident",\
      "created_at": "2021-11-09T16:00:00+00:00",\
      "updated_at": "2021-11-09T16:00:00+00:00"\
    },\
    {\
      "id": 12346,\
      "cancellation_flow_type": "subscription",\
      "incentive_type": "skip_charge",\
      "discount_code": null,\
      "prevention_text": "If you have more than you need, we can skip your upcoming order.",\
      "reason": "I already have more than I need",\
      "created_at": "2021-10-30T07:14:21+00:00",\
      "updated_at": "2021-10-30T07:14:21+00:00"\
    },\
    {\
      "id": 12345,\
      "cancellation_flow_type": "subscription",\
      "incentive_type": "swap_product",\
      "discount_code": null,\
      "prevention_text": "Would you like to swap the product out for another item?",\
      "reason": "I want a different product or variety",\
      "created_at": "2021-07-31T20:45:00+00:00",\
      "updated_at": "2021-07-31T20:45:00+00:00"\
    }\
  ]
}
```

# Store

The store endpoint includes ReCharge settings and other store specific information.

Endpoints

GET

/store


Expand

# The store object

The store endpoint includes Recharge settings and other store specific information.

##### Attributes

- id







integer














Unique number identifier of the store.

- checkout\_logo\_url







string














Checkout logo url.

- checkout\_platform







string














Checkout platform.

- created\_at







datetime














Date and time when the store is created.

- currency







string














Currency of the store.







Related guides: [Supported currencies](https://support.rechargepayments.com/hc/en-us/articles/360037897534-Supported-currencies)

- customer\_portal\_base\_url







string














Customer Portal Base URL.

- default\_api\_version







integer














Default API version.

- email







string














E-mail address of the store owner.

- enabled\_presentment\_currencies







array














Enabled currencies the store sells in.

- enabled\_presentment\_currencies\_symbols







array














Currency symbol used for enabled currencies the store sells in.










Show object attributes


- disabled\_currencies\_historical







array














A ledger of currencies that the store no longer sells in. If a currency is present in both the enabled\_presentment\_currencies and disabled\_currencies\_historical ledger it is because it was disabled at one point in time but is now enabled.

- external\_platform







string














External platform connected to Recharge.







Will be one of `shopify`, `big_commerce`, `headless`, or `magento`

- identifier







string














Unique identifier of the store on the external platform.

- merchant\_portal\_base\_url







string














Merchant portal base URL.

- name







string














Name of the store.

- phone







string














Phone number of the store owner.

- timezone







object














Timezone of the store.










Show object attributes


- updated\_at







datetime














The date and time when the address was last updated.

- weight\_unit







string














Weight unit for the store.


##### Error related attributes

##### More Attributes

The store object

```hljs json
{
  "store": {
    "id": 89559201,
    "checkout_logo_url": null,
    "checkout_platform": "recharge",
    "created_at": "2020-07-15T00:00:00+00:00",
    "currency": "USD",
    "customer_portal_base_url": null,
    "default_api_version": "2021-01",
    "email": "email@email.com",
    "external_platform": "shopify",
    "identifier": "store-id",
    "merchant_portal_base_url": null,
    "name": "store-name",
    "phone": "5555555555",
    "enabled_presentment_currencies": [\
      "USD"\
    ],
    "enabled_presentment_currencies_symbols": [\
      {\
        "currency": "USD",\
        "location": "before",\
        "suffix": "",\
        "symbol": "$"\
      }\
    ],
    "disabled_currencies_historical": [],
    "timezone": {
      "iana_name": "America/New_York",
      "name": "(GMT-05:00) Eastern Time (US & Canada)"
    },
    "updated_at": "2020-07-15T00:00:00+00:00",
    "weight_unit": "g"
  }
}
```

# Retrieve a store

Retrieve store details.

Scopes:
read\_store


##### Responses

- 200




















successful response










Show response object



GET

/store


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/store' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "store": {
    "id": 4797,
    "checkout_logo_url": null,
    "checkout_platform": "recharge",
    "created_at": "2020-04-22T00:20:52+00:00",
    "currency": "USD",
    "customer_portal_base_url": null,
    "default_api_version": "2021-01",
    "email": "email@email.com",
    "enabled_presentment_currencies": [\
      "USD"\
    ],
    "enabled_presentment_currencies_symbols": [\
      {\
        "currency": "USD",\
        "location": "before",\
        "suffix": "",\
        "symbol": "$"\
      }\
    ],
    "disabled_currencies_historical": [],
    "external_platform": "custom",
    "identifier": "store-id",
    "merchant_portal_base_url": null,
    "name": "store-name",
    "province": "Connecticut",
    "phone": "5555555555",
    "timezone": {
      "iana_name": "America/New_York",
      "name": "(GMT-05:00) Eastern Time (US & Canada)"
    },
    "updated_at": "2020-04-25T00:20:52+00:00",
    "weight_unit": "g"
  }
}
```

# Subscriptions

Subscriptions are individual items a customer receives on a recurring basis.

A `Subscription` is a `Product` added to an `Address`. ![](https://developer.getrecharge.com/images/subscription.png)

Endpoints

POST

/subscriptions


GET

/subscriptions/{id}


PUT

/subscriptions/{id}


DELETE

/subscriptions/{id}


GET

/subscriptions


POST

/subscriptions/{id}/set\_next\_charge\_date


POST

/subscriptions/{id}/change\_address


POST

/subscriptions/{id}/cancel


POST

/subscriptions/{id}/activate


POST

/subscriptions/skip\_gift


Expand

# The subscription object

Subscriptions are individual items a customer benefit from on a recurring basis.

These fields are deprecated, however they will not be removed from this API version.

`product_title` is deprecated. Use `title` instead.

`shipping_date` is deprecated. Use `scheduled_at` instead.

`shopify_id` is deprecated. Use `shopify_order_id` instead.

`address_is_active` is deprecated. Please ignore, not an applicable field.

##### Attributes

- id







integer














Unique numeric identifier for the subscription.

- address\_id







integer














Unique numeric identifier for the address the subscription is associated with.

- customer\_id







integer














Unique numeric identifier for the customer the subscription is tied to.

- analytics\_data







object














An object used to contain analytics data such as utm parameters.










Show object attributes


- cancellation\_reason







string














Reason provided for cancellation.

- cancellation\_reason\_comments







string














Additional comment for cancellation. Maximum length is 1024 characters.

- cancelled\_at







datetime














The time the subscription was cancelled.

- charge\_interval\_frequency







string













Max: 1000










The number of units (specified in `order_interval_unit`) between each `Charge`. For example, `order_interval_unit=month` and `charge_interval_frequency=3`, indicate charge every 3 months.







`Charges` must use the same unit types as orders.

- created\_at







datetime














The time the subscription was created.

- expire\_after\_specific\_number\_of\_charges







integer














Set the number of charges until subscription expires.

- external\_product\_id







object














An object containing the product id as it appears in external platforms.










Show object attributes


- external\_variant\_id







object














An object containing the variant id as it appears in external platforms.










Show object attributes


- has\_queued\_charges







boolean














Retrieves `true` if there is queued charge. Otherwise, retrieves `false`.

- is\_prepaid







boolean














Value is set to `true` if it is a prepaid item.

- is\_skippable







boolean














Value is set to `true` if it is not a prepaid item

- is\_swappable







boolean














Value is set to `true` if it is not a prepaid item and if in Customer portal settings swap is allowed for customers.

- max\_retries\_reached







boolean














Retrieves `true` if charge has an error max retries reached. Otherwise, retrieves `false`.

- next\_charge\_scheduled\_at







datetime














Date of the next charge for the subscription.

- order\_day\_of\_month







integer














The set day of the month order is created. Default is that there isn’t a strict day of the month when the order is created.







This is only applicable to subscriptions with `order_interval_unit:“month”`.

- order\_day\_of\_week







integer














The set day of the week order is created. Default is that there isn’t a strict day of the week order is created.







This is only applicable to subscriptions with `order_interval_unit = “week”`.

Value of 0 equals to Monday, 1 to Tuesday etc.

- order\_interval\_frequency







integer













Max: 1000










The number of units (specified in `order_interval_unit`) between each order. For example, order\_interval\_unit=month and order\_interval\_frequency=3, indicate order every 3 months. Max value: 1000

- order\_interval\_unit







string













Possible values:

day,

week,

month










The frequency unit used to determine when a subscription’s order is created.

- presentment\_currency







string














The presentment currency of the subscription.

- price







string














The price of the item before discounts, taxes, or shipping have been applied.

- product\_title







string














The name of the product in a store’s catalog.

- properties







array














A list of line item objects, each one containing information about the subscription. Custom key-value pairs can be installed here, they will appear on the connected queued charge and after it is processed on the order itself.










Show object attributes


- quantity







integer














The number of items in the subscription.

- sku







string














A unique identifier of the item in the fulfillment. In cases where SKU is blank, it will be dynamically pulled whenever it is used.

- sku\_override







boolean














Flag that is automatically updated to `true` when SKU is passed on create or update. When `sku_override` is `true`, the SKU on the subscription will be used to generate charges and orders. When `sku_override` is `false`, Recharge will dynamically fetch the SKU from the corresponding external platform variant.

- status







string













Possible values:

active,

cancelled,

expired










The status of the subscription.







`EXPIRED` \- This status occurs when the maximum number of charges for a product has been reached.

- updated\_at







datetime














The date time at which the purchase\_item record was last updated.

- variant\_title







string














The name of the variant in a shop’s catalog.


##### Error related attributes

##### More Attributes

The subscription object

```hljs json
{
  "subscription": {
    "id": 89559201,
    "address_id": 48563471,
    "customer_id": 43845860,
    "analytics_data": {
      "utm_params": []
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": "30",
    "created_at": "2021-02-25T21:27:19+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "external_variant_id": {
      "ecommerce": "18261278883891"
    },
    "has_queued_charges": true,
    "is_prepaid": true,
    "is_skippable": false,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2020-07-15",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 15,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": 5,
    "product_title": "Powder Milk 50.00% Off Auto renew",
    "properties": [\
      {\
        "name": "Colour",\
        "value": "White"\
      },\
      {\
        "name": "Package Material",\
        "value": "Paper"\
      }\
    ],
    "quantity": 3,
    "sku": null,
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-07-10T10:30:51+00:00",
    "variant_title": "1 / Powder"
  }
}
```

# Create a subscription

When creating a subscription via API, `order_interval_frequency` and `charge_interval_frequency` values do not necessarily need to match the values set in the respective `Plans`. The product, however, does need to have at least one `Plan` in order to be added to a subscription.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer





\\* Required














Unique numeric identifier of the customer’s address.

- charge\_interval\_frequency







integer





\\* Required














The number of units, specified in `order_interval_unit`, between each charge.

- expire\_after\_specific\_number\_of\_charges







integer














The number of charges until the subscription expires.

- next\_charge\_scheduled\_at







datetime





\\* Required














This will set the first charge date of a new subscription.

- order\_day\_of\_month







integer














This is populated when order\_interval\_unit has value “month”. Default value is 0.

- order\_day\_of\_week







integer














This is populated when order\_interval\_unit has value “week”.

- order\_interval\_frequency







integer





\\* Required














The number of units, specified in order\_interval\_unit, between each order.

- order\_interval\_unit







string





\\* Required













Possible values:

day,

week,

month










The frequency unit used to determine when a subscription order is created.

- plan\_id







integer














A Recharge Plan id that provides interval information. Automatically fills the following properties from the plan if they were not provided directly: charge\_interval\_frequency, expire\_after\_specific\_number\_of\_charges, order\_day\_of\_month, order\_day\_of\_week, order\_interval\_frequency, order\_interval\_unit.

- price







string














The price of the product.

- product\_title







string














The name of the product.

- properties







array














A list of key/value pairs representing properties of the subscription.










Show object attributes


- quantity







integer





\\* Required














The quantity of the product.

- external\_product\_id







object














Unique numeric identifier of the product id.










Show object attributes


- external\_variant\_id







object





\\* Required














Unique numeric identifier of the product variant id.










Show object attributes


- status







string













Possible values:

active,

cancelled,

expired










Default is set to `active`.


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/subscriptions


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "address_id": 48563471,
  "charge_interval_frequency": "30",
  "next_charge_scheduled_at": "2021-12-17",
  "order_interval_frequency": "30",
  "order_interval_unit": "day",
  "properties": [\
    {\
      "name": "Colour",\
      "value": "Yellow"\
    },\
    {\
      "name": "Bottle Material",\
      "value": "Glass"\
    }\
  ],
  "external_variant_id": {
    "ecommerce": "32165284380775"
  },
  "quantity": 3
}'
```

Response

201


```hljs json
{
  "subscription": {
    "id": 63898947,
    "address_id": 48563471,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 30,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32165284380775"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-12-17",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 30,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Retrieve a subscription

Retrieve a subscription using the Recharge `subscription_id`.

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/subscriptions/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 63898947,
    "address_id": 48563471,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 30,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32165284380775"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-12-17",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 30,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Update a subscription

Update an existing subscription.

Updating parameters like `frequency`, `charge_interval_frequency`, `order_interval_frequency`, `order_interval_unit` will cause our algorithm to automatically recalculate the next charge date ( `next_charge_scheduled_at`). If you want to change the next charge date ( `next_charge_scheduled_at`) we recommend you to update these parameters first.

When updating subscription `status` attribute from `cancelled` to `active`, following attributes will be set to null: `cancelled_at`, `cancellation_reason` and `cancellation_reason_comments`

When updating `order_interval_unit` OR `order_interval_frequency` OR `charge_interval_frequency` all three parameters are required.

Scopes:
write\_subscriptions


##### Query Parameters

- commit







boolean














Controls whether the `QUEUED` charges linked to the subscription should be regenerated upon subscription update. By default the flag is set to `false` which will delay charge regeneration 5 seconds. This enables running multiple calls to perform changes and receive responses much faster since the API won’t wait for a charge regeneration to complete. Setting this parameter to `true` will cause charge regeneration to complete before returning a response.

- force\_update







boolean














If set to `True`, updates will also be applied to `CANCELLED` subscriptions. If `null` or `False`, only `ACTIVE` subscriptions will be updated.


##### More Parameters

##### Body Parameters

- charge\_interval\_frequency







integer













Max: 1000










The number of units (specified in order\_interval\_unit) between each charge. Required when updating order\_interval\_unit.



WARNING: This update will remove skipped and manually changed charges.

- expire\_after\_specific\_number\_of\_charges







integer














The number of charges until subscription expires.

- external\_variant\_id







object














Unique number identifier of the product variant in your external platform.










Show object attributes


- order\_day\_of\_month







string














The day of the month the order is created on.



WARNING: this update will remove skips and manually changed charges.

- order\_day\_of\_week







string














The day of the week the order is created on.



WARNING: this update will remove skips and manually changed charges.

- order\_interval\_frequency







string














The number of units (specified in order\_interval\_unit) between each order. Required when updating order\_interval\_unit.



WARNING: This update will remove skipped and manually changed charges.

- order\_interval\_unit







string













Possible values:

day,

week,

month










The frequency unit used to determine when a subscription order is created.



WARNING: This update will remove skipped and manually changed charges.

- plan\_id







integer














A Recharge Plan id that provides interval information. Automatically fills the following properties from the plan if they were not provided directly: charge\_interval\_frequency, expire\_after\_specific\_number\_of\_charges, order\_day\_of\_month, order\_day\_of\_week, order\_interval\_frequency, order\_interval\_unit.

- price







string














The price of the item before discounts, taxes, or shipping has been applied.

- product\_title







string














The name of the product.

- properties







array














A list of key/value pairs representing properties of the subscription.










Show object attributes


- quantity







string














The number of items in the subscription.

- sku







string














A unique identifier of the item in the fulfillment.

- sku\_override







boolean














Flag is automatically updated to `true` when SKU is passed on create or update. When `sku_override` is `true`, the SKU on the subscription will be used to generate charges and orders.

When `sku_override` is `false`, Recharge will dynamically fetch the sku from the corresponding external platform variant.

- use\_external\_variant\_defaults







boolean














Flag instructing to pull the `price` from the product variant passed.







You need to pass the variant\_id under `external_variant_id.ecommerce` and set this attribute to `true` in the request for the flag to work.

- variant\_title







string














The name of the product variant.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/subscriptions/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/subscriptions/27363808' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "quantity": 4
}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 63898947,
    "address_id": 48563471,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 30,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32165284380775"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-12-17",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 30,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Delete a subscription

We now have a feature for deleting a subscription.

Scopes:
write\_subscriptions


##### Body Parameters

- send\_email







boolean














When your store setting indicates that cancellation emails should be sent, this value determines if the email should be sent for the specified subscription cancellation.







If set to `true`, cancellation emails will be sent for the specified subscription cancellations. If set to `false`, cancellation emails will not be sent.


##### More Parameters

##### Responses

- 204




















successful response










Show response object



DELETE

/subscriptions/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/subscriptions/27363808' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List subscriptions

Returns a list of all your subscriptions.

## HTTP request examples

`GET /subscriptions`

`GET /subscriptions?created_at_min=2018-10-10&created_at_max=2019-10-16`

`GET /subscriptions?customer_id=<customer_id>`

Scopes:
read\_subscriptions


##### Query Parameters

- address\_id







string














Return the subscriptions linked to the given `address_id`.







Not compatible with `address_ids`.

- address\_ids







string














Return the subscriptions linked to the given `address_ids`.







Accepts a comma separated list of address\_ids as value.

Not compatible with `address_id`

- created\_at\_max







string














Return the subscriptions created before the given date.

- created\_at\_min







string














Return the subscriptions created after the given date.

- cursor







string














Return either the next or previous page of subscriptions using `next_cursor` or `previous_cursor` attributes in the response.

- customer\_id







string














Return the subscriptions linked to the given Recharge customer id.

- external\_variant\_id







string














Return the subscriptions linked to the given external\_variant\_id

- ids







string














Comma-separated list of `subscription_ids` to filter

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- status







string













Possible values:

active,

cancelled,

expired










Return the subscriptions with specified status.

- updated\_at\_max







string














Return the subscriptions updated before the given date.

- updated\_at\_min







string














Return the subscriptions updated after the given date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/subscriptions


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": "next_cursor",
  "previous_cursor": "previous_cursor",
  "subscriptions": [\
    {\
      "id": 63898947,\
      "address_id": 42171447,\
      "customer_id": 37657002,\
      "analytics_data": {\
        "utm_params": {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      },\
      "cancellation_reason": null,\
      "cancellation_reason_comments": null,\
      "cancelled_at": null,\
      "charge_interval_frequency": 1,\
      "created_at": "2020-02-19T17:40:09+00:00",\
      "expire_after_specific_number_of_charges": 5,\
      "external_product_id": {\
        "ecommerce": "4381728735283"\
      },\
      "external_variant_id": {\
        "ecommerce": "32165284380775"\
      },\
      "has_queued_charges": false,\
      "is_prepaid": false,\
      "is_skippable": true,\
      "is_swappable": false,\
      "max_retries_reached": false,\
      "next_charge_scheduled_at": "2021-12-17",\
      "order_day_of_month": null,\
      "order_day_of_week": null,\
      "order_interval_frequency": 1,\
      "order_interval_unit": "month",\
      "presentment_currency": "USD",\
      "price": "10.00",\
      "product_title": "ABC Shirt",\
      "properties": [\
        {\
          "name": "Color",\
          "value": "Blue"\
        },\
        {\
          "name": "Size",\
          "value": "Large"\
        }\
      ],\
      "quantity": 1,\
      "sku": "TOM0001",\
      "sku_override": false,\
      "status": "active",\
      "updated_at": "2020-02-19T17:40:10+00:00",\
      "variant_title": "Blue star"\
    }\
  ]
}
```

# Change a subscription next charge date

Update an existing subscription’s next charge date.

If there are two active subscriptions with the same `address_id`, and you update their `next_charge_date` parameters to match, their charges will get merged into a new charge with a new `id`

Scopes:
write\_subscriptions


##### Body Parameters

- date







string





\\* Required














The next charge date desired.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/set\_next\_charge\_date


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/set_next_charge_date' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"date": "2021-08-05"}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Change a subscription address

New

Update an existing subscription’s address.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer





\\* Required














Unique id of the address that need to be associated with subscription.

- next\_charge\_scheduled\_at







string














The next charge date desired.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/change\_address


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/change_address' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -d '{"address_id": 23397943}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Cancel a subscription

Cancel an active subscription.

An involuntary subscription cancelled due to max retries reached will trigger the charge/max\_retries\_reached webhook.

Scopes:
write\_subscriptions


##### Body Parameters

- cancellation\_reason







string





\\* Required














Reason for subscription cancellation.

- cancellation\_reason\_comments







string














Cancellation reason comment. Maximum length is 1024 characters.

- send\_email







boolean














If set to `false`, subscription cancelled email will not be sent to customer and store owner. Note: even if set to True, there are some conditions where an email will not be sent. They are: inactive subscription\_cancellation email template, customer or subscription was created on the same day, subscription is for a membership, email already sent for this subscription in the last 24 hours, customer has other active subscriptions or onetimes


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/cancel


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/cancel' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"cancellation_reason": "other reason"}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Activate a subscription

Activate a cancelled subscription.

When activating subscription, following attributes will be set to null: `cancelled_at`, `cancellation_reason` and `cancellation_reason_comments`.

Scopes:
write\_subscriptions


##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/activate


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/activate' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Gift a skipped subscription

Gift a skipped `Subscription` to a recipient.

Scopes:
write\_subscriptions


##### Body Parameters

- purchase\_item\_ids







array





\\* Required














A list containing the `Subscription` IDs to be skipped.

- recipient\_address







object





\\* Required














An object that contains information associated with the giftee’s Address










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 422




















invalid data passed to the endpoint










Show response object



POST

/subscriptions/skip\_gift


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/skip_gift' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"recipient_address": {
  "address1": "1776 Washington Street",
  "address2": "",
  "city": "Los Angeles",
  "company": "Recharge",
  "country_code": "US",
  "first_name": "John",
  "last_name": "Doe",
 "phone": "5551234567",
 "province": "California",
  "zip": "90404", "email": "fake@example.com"
 },
"purchase_item_ids": [27363808, 27363809]}'
```

Response

200

422


```hljs json
{
  "onetimes": [\
    {\
      "id": 16909886,\
      "address_id": 45154492,\
      "created_at": "2021-05-24T19:14:25+00:00",\
      "customer_id": 40565990,\
      "external_product_id": {\
        "ecommerce": "4950280863846"\
      },\
      "external_variant_id": {\
        "ecommerce": "32139793137766"\
      },\
      "is_cancelled": false,\
      "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",\
      "price": "6.00",\
      "product_title": "ABC Shirt",\
      "properties": [\
        {\
          "name": "Color",\
          "value": "Blue"\
        }\
      ],\
      "quantity": 1,\
      "sku": "TOM0001",\
      "sku_override": false,\
      "updated_at": "2021-05-24T19:30:14+00:00",\
      "variant_title": "Blue star"\
    }\
  ]
}
```

# Webhook endpoints

Webhooks are a mechanism for reacting to specific events that are triggered in the Recharge system.

For example, a checkout completion, a customer activation or subscription cancellation. Webhooks will deliver you the data of the specific event in real-time. This data can be used to custom code logic behind automated subscription management, dashboards creation, discounts applying…

When a webhook is triggered, the payload will be identical to the payload you would receive from another API endpoint.

For example, a webhook on subscription/created will be identical to the payload for retrieving a subscription by ID from the Recharge API.

There are a lot of things that can be done via Webhooks: It can be used to collect all kinds of data from our API and then create a custom Dashboard to show how much and when your customers are buying in real time, or use all this data to do Analytics of some kind in order to create a better customer experience. Webhooks can be used as a “Trigger” on your backend to update subscription products.

If you have some kind of a Subscription where you want to change the Product that the customer gets every month, you can do it by waiting for an order/created webhook on your backend, and when it fires you can make an API call to change the Product of that subscription or the next shipping date, etc.

## Retries / Idempotency

Due to webhook retries, it’s possible that your application receives the same webhook more than once. Ensure idempotency of the webhook call by detecting such duplicates within your application.

## Respond to a webhook

Your webhook acknowledges that it received data by sending a `200` OK response. Any response outside of the `200` range will let Recharge know that you didn’t receive your webhook. Recharge has implemented a 5 second time-out period. We wait 5 seconds, if our system doesn’t get a response in that period we consider that request as failed. Our system will try 20 times to send the same webhook over the next 2 days, if the request fails every time our system will delete this webhook. At this moment our system is logging those deleted webhooks.

Endpoints

POST

/webhooks


GET

/webhooks/{id}


PUT

/webhooks/{id}


DELETE

/webhooks/{id}


GET

/webhooks


POST

/webhooks/{id}/test


Expand

# The Webhook object

Please note that the store domain header has changed to X-Recharge-External-Platform-Domain

Related guides:
[Extending webhook responses](https://developer.rechargepayments.com/2021-11/extending_responses)

These topics are deprecated, however they will not be removed from this API version: `checkout/completed`.

##### Attributes

- id







integer














Unique numeric identifier for the webhook.

- address







string














The URI where the webhook should send the `POST` request when the event occurs.

- included\_objects







array













Possible values:

addresses,

collections,

customer,

metafields










List of objects set to enrich the webhook payload. cf. [extending responses](https://developer.rechargepayments.com/2021-11/extending_responses)

- topic







string














The event that will trigger the webhook.

- version







string














The version of the API used to populate the body of the webhook. If not set, this will default to the store’s default API version.


##### Error related attributes

##### More Attributes

The Webhook object

```hljs json
{
  "webhook": {
    "id": 19451,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-11"
  }
}
```

# Available webhooks

The list of all available webhooks.

Related guides: [Webhook payload examples](https://docs.rechargepayments.com/docs/webhook-payload-examples)

| Object | Topics | Scope Required |
| --- | --- | --- |
| `Address` | `address/created` `address/updated` | read\_customers |
| `Async_batch` | `async_batch/processed` | read\_batches |
| `BundleSelection` | `bundle_selection/created` `bundle_selection/updated` `bundle_selection/deleted` | read\_subscriptions |
| `Customer` | `customer/activated` `customer/created` `customer/deactivated` `customer/payment_method_updated` `customer/updated` `customer/deleted` | read\_customers |
| `Charge` | `charge/created` `charge/failed` `charge/max_retries_reached` `charge/paid` `charge/refunded` `charge/uncaptured` `charge/upcoming` `charge/updated` `charge/deleted` | read\_orders |
| `Checkout` | `checkout/created` `checkout/completed` `checkout/processed` `checkout/updated`<br> Note: Deprecated and not available for the Shopify integration with Shopify hosted Checkout (aka SCI) | read\_orders |
| `Onetime` | `onetime/created` `onetime/deleted` `onetime/updated` | read\_subscriptions |
| `Order` | `order/cancelled` `order/created` `order/deleted` `order/processed` `order/payment_captured` `order/upcoming` `order/updated` `order/success` | read\_orders |
| `Plan` | `plan/created` `plan/deleted` `plan/updated` | read\_products |
| `Subscription` | `subscription/activated` `subscription/cancelled` `subscription/created` `subscription/deleted` `subscription/skipped` `subscription/updated` `subscription/unskipped` `subscription/swapped` `subscription/paused` | read\_subscriptions |
| `Store` | `store/updated` | read\_store |
| `Recharge` | `recharge/uninstalled` | store\_info |

# Create a webhook

Create a webhook. Currently, only the API can be used to create a webhook.

To register a webhook endpoint for a specific object, you will need to have read permissions for that object on your Recharge API token. For example, if you want to register a webhook for subscription/created, you will need the `read_subscriptions` permissions.

Each API token can register a maximum of 10 webhooks of the same topic.

Related guides: [Webhook payload examples](https://docs.rechargepayments.com/docs/webhook-payload-examples)

Related guides:
[Extending webhook responses](https://developer.rechargepayments.com/2021-11/extending_responses)

##### Body Parameters

- address







integer





\\* Required














The URI where the webhook should send the `POST` request when the event occurs.

- included\_objects







array













Possible values:

addresses,

collections,

customer,

metafields










List of objects set to enrich the webhook payload. cf. [extending responses](https://developer.rechargepayments.com/2021-11/extending_responses)

- topic







integer





\\* Required














The event that will trigger the webhook.

- version







string














The version of the API used to populate the body of the webhook. If not set, this will default to the store’s default API version.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/webhooks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X POST 'https://api.rechargeapps.com/webhooks' \
 --data '{"address": "https://request.in/foo", "topic": "subscription/created"}'
```

Response

200


```hljs json
{
  "webhook": {
    "id": 6,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-01"
  }
}
```

# Retrieve a webhook

Retrieve a webhook using the Recharge webhook id.

##### Responses

- 200




















successful response










Show response object



GET

/webhooks/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X GET https://api.rechargeapps.com/webhooks/19451
```

Response

200


```hljs json
{
  "webhook": {
    "id": 6,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-01"
  }
}
```

# Update a webhook

Modifies an existing `Webhook` to match the specified parameters.

Related guides:
[Extending webhook responses](https://developer.rechargepayments.com/2021-11/extending_responses)

##### Body Parameters

- address







string














The URI where the webhook should send the POST request when the event occurs.

- included\_objects







array













Possible values:

addresses,

collections,

customer,

metafields










List of objects set to enrich the webhook payload. cf. [extending responses](https://developer.rechargepayments.com/2021-11/extending_responses)

- topic







string














The event that will trigger the webhook.

- version







string














The version of the API used to populate the body of the webhook.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/webhooks/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X PUT 'https://api.rechargeapps.com/webhooks/958' \
 --data '{"address": "https://request.in/foo"}'
```

Response

200


```hljs json
{
  "webhook": {
    "id": 6,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-01"
  }
}
```

# Delete a webhook

Delete a `Webhook`

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/webhooks/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X DELETE 'https://api.rechargeapps.com/webhooks/958'
```

Response

204


```hljs json
{}
```

# List webhooks

Returns all the webhooks of the given store that are owned by the current requesting client (note that a a private token shows all of the store’s webhooks, an integration token only shows that integration’s webhooks).

##### Responses

- 200




















successful response










Show response object



GET

/webhooks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X GET 'https://api.rechargeapps.com/webhooks'
```

Response

200


```hljs json
{
  "webhooks": [\
    {\
      "id": 19451,\
      "address": "https://request.in/foo",\
      "topic": "subscription/created",\
      "version": "2021-11"\
    },\
    {\
      "id": 19453,\
      "address": "https://request.in/foo",\
      "topic": "subscription/cancelled",\
      "version": "2021-11"\
    }\
  ]
}
```

# Test webhooks

In order to test webhook connectivity, you can trigger the dispatch of a test webhook with our webhook test endpoint. Sending a POST request to the webhook endpoint containing a webhook id will dispatch an empty webhook body to the specified webhook’s destination url.

##### Responses

- 200




















successful response










Show response object



POST

/webhooks/{id}/test


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 --data '{}'
 -X POST https://api.rechargeapps.com/webhooks/<webhook_id>/test
```

Response

200


```hljs json
{}
```

# Webhooks explained

Here you will find what specific action triggers a given webhook.

## Address webhooks

To use these webhooks your API Token must have read permissions for `Customers` enabled ( `read_customer` ).

| Topic | Explanation |
| --- | --- |
| `address/created` | This will trigger when you create an address via API, or when you go through the checkout with a particular address for the first time with the same customer. |
| `address/updated` | This will trigger when you update an address via API, or when you update the address via UI. It will also trigger whenever a subscription has been activated or cancelled. |

## Bundle webhooks

To use these webhooks your API Token must have read permissions for `Subscriptions` enabled ( `read_subscriptions` ).

| Topic | Explanation |
| --- | --- |
| `bundle_selection/created` | This will trigger when a new selection is created for a Bundle subscription. |
| `bundle_selection/updated` | This will trigger when a Bundle Selection is succesfully updated. |
| `bundle_selection/deleted` | This will trigger when a Bundle Selection is deleted. |

## Charge webhooks

To use these webhooks your API Token must have read permissions for `Orders` enabled ( `read_orders` ).

| Topic | Explanation |
| --- | --- |
| `charge/created` | This will trigger when a charge is created. |
| `charge/failed` | This will trigger every time we try to process a charge and it fails due to various reasons (insufficient funds, invalid CC info, expired CC, etc.) on both API and UI. |
| `charge/max_retries_reached` | This will trigger after we attempt to process a charge 8 times, and it failed every time due to various CC issues. This can be triggered on both UI (manually retry a charge 8 times and fail) and API. |
| `charge/paid` | This will trigger when a charge is successfully processed, both manually via UI and automatic recurring charge. This will not trigger on the checkout itself. |
| `charge/refunded` | This will trigger when a charge is successfully refunded, either partially or in full. It will fire if a charge has been refunded both manually via UI and through an API request. |
| `charge/upcoming` | This will trigger X days before the upcoming charge is scheduled. The default is 3 days but your store specific setting can be verified on the Notification Settings page in the description of the Upcoming charge customer notification. |
| `charge/updated` | This will trigger when applying a discount, a change to charge that recalculates shipping rates as well as if next\_charge\_date is updated on charge endpoint charges/<charge\_id>/change\_next\_charge\_date. |
| `charge/deleted` | This will trigger when a subscription is cancelled and upcoming charges are deleted. |

## Checkout webhooks

To use these webhooks your API Token must have read permissions for `Orders` enabled ( `read-orders` ).

| Topic | Explanation |
| --- | --- |
| `checkout/created` | This will trigger when a checkout is successfully created. |
| `checkout/completed` | Will be deprecated. |
| `checkout/processed` | This will trigger when a checkout is successfully processed. |
| `checkout/updated` | This will trigger when a checkout is successfully updated. |

## Customer webhooks

To use these webhooks your API Token must have read permissions for `Customers` enabled ( `read_customers` ).

| Topic | Explanation |
| --- | --- |
| `customer/activated` | This will trigger when you activate\* a customer <br> \\* activating means that you have added a subscription to a customer who didn’t have an active subscription previously. |
| `customer/created` | This will trigger when you create a customer via API or go through the checkout with a particular email address for a first time customer. |
| `customer/deactivated` | This will trigger when the last subscription a customer had expires, so he no longer has ANY active subscriptions (which means there are no QUEUED charges/orders for this customer). |
| `customer/payment_method_updated` | This will trigger only\* when you update the payment\_token from the UI <br> \\* We are working on triggering this when you do the update from the API as well. |
| `customer/updated` | This will trigger when you update a customer via both API and UI. |
| `customer/deleted` | This will trigger when you delete a customer via both API and UI. |

## Onetime webhooks

To use these webhooks your API Token must have read permissions for `Subscriptions` enabled ( `read_subscriptions` ).

| Topic | Explanation |
| --- | --- |
| `onetime/created` | This will trigger when you create a one time product via API. |
| `onetime/deleted` | This will trigger when you delete a one time product via API. |
| `onetime/updated` | This will trigger when you update a one time product via API. |

## Order webhooks

To use these webhooks your API Token must have read permissions for `Orders` enabled ( `read_orders` ).

| Topic | Explanation |
| --- | --- |
| `order/created` | This will trigger when an order is created (when a charge is successfully processed) <br> \\* In case of prepaid Orders the order/created webhooks will be fired for each prepaid order that is created. This occurs on the date the order is scheduled at. |
| `order/deleted` | This will trigger when an order is deleted. |
| `order/processed` | This will trigger when the order is processed (when an order goes from status `queued` to status `success`). This will not trigger on checkout. |
| `order/upcoming` | This will trigger X days before a QUEUED (prepaid) order is scheduled to be processed. The default is 3 days. |
| `order/updated` | This will trigger when an order is updated. |

## Plan webhooks

To use these webhooks your API Token must have read permissions for `Products` enabled ( `read_products` ).

| Topic | Explanation |
| --- | --- |
| `plan/created` | This will trigger when a plan is created by one of the following methods: via API, via Merchant portal or when using the `2021-01` `Products` endpoint. |
| `plan/deleted` | This will trigger when a plan is deleted by one of the following methods: via API, via Merchant portal or when using the `2021-01` `Products` endpoint. |
| `plan/updated` | This will trigger when a plan is updated by one of the following methods: via API, via Merchant portal or when using the `2021-01` `Products` endpoint… |

## Subscription webhooks

To use these webhooks your API Token must have read permissions for `Subscriptions` enabled ( `read_subscriptions` ).

| Topic | Explanation |
| --- | --- |
| `subscription/activated` | This will trigger when you activate a subscription via API or UI. |
| `subscription/cancelled` | This will trigger when you cancel a subscription via API or UI. An involuntary subscription cancelled due to max retries reached will only trigger the charge/max\_retries\_reached webhook and not the subscription/cancelled webhook. |
| `subscription/created` | This will trigger when you create a subscription via API or when you go through the checkout on UI. |
| `subscription/deleted` | This will trigger when you delete a subscription via API or UI. |
| `subscription/skipped` | This will trigger when you skip a subscription within a charge, meaning that you only skip a particular subscription (the subscription\_id you send in the body) in that charge if there are multiple subscriptions related to that charge. |
| `subscription/unskipped` | This will trigger when you unskip a subscription within a charge, meaning you only unskip a particular subscription (the subscription\_id you send in the body) in that charge if there are multiple subscriptions related to that charge. |
| `subscription/updated` | This will trigger when you update a subscription via API (PUT method) or when you update the subscription via UI. This will also trigger when you update next charge date on Customer Portal, or when you change it using subscription endpoint `subscriptions/ <subscription_id>set_next_charge_date`. |
| `subscription/swapped` | This will trigger when you swap a subscription product for a given address to a different product or product variation API or UI. |
| `subscription/paused` | This will trigger when a customer pauses a subscription from within the customer portal. |

## Other webhooks

To use these webhooks your API Token must have read permissions for `Store` enabled ( `read_store` ).

| Topic | Explanation |
| --- | --- |
| `app/uninstalled` | This will trigger when you uninstall OAuth app on your store. |
| `recharge/uninstalled` | This will trigger when Recharge is uninstalled. |
| `store/updated` | This will trigger when and update has been made to the store. |

# Webhook validation

Webhooks created through the API can be verified by calculating a digital signature. Each Webhook request includes an X-Recharge-Hmac-Sha256 header which is generated using the API Client Secret, along with the data sent in the request.

API Client Secret is not the same as your API token and it can be found at:

Recharge Dashboard—>Integrations—>API Tokens—>Click on your token

Edit API Token page will appear and there you will find API Client Secret

The request\_body must be in JSON string format. Validation will fail even if one space is lost in process of JSON string generation.

Then use code similar to the example by adapting it to the programming language that you are using for your project.

Related guides: [Example code for validating webhooks](https://docs.rechargepayments.com/docs/webhooks-overview#validating-webhooks)

Example Request:

cURLPythonPHPRuby

```hljs bash

```

# Async batch Endpoints

The Async batches API can be used for processing large volumes of operations asynchronously, in order to reduce aggregate processing time and network traffic when interacting with many unique objects. For example, a user can leverage async\_batches to create 1000 discounts with only 3 API requests.

**As shown in the diagram below, the necessary steps to create and process a batch are:**

1\. Create an async\_batch with the desired batch\_type

2\. Add tasks (individual operations) to your batch. You can add up to 1,000 tasks with each request, up to 10,000 tasks per batch.

3\. Submit the batch for processing. Until a batch is submitted for processing, no tasks are attempted.

4\. You may retrieve the batch to view progress details while it processes, or register for the `async_batch/processed` webhook to receive immediate notification of batch completion.

5\. Page through the tasks in the batch to view results of each completed or failed task.

Related guides: [Examples of Async batches](https://docs.rechargepayments.com/docs/async-batches)![](https://developer.getrecharge.com/images/async_batch.png)

Endpoints

POST

/async\_batches


GET

/async\_batches/{id}


GET

/async\_batches


POST

/async\_batches/{batch\_id}/process


Expand

# The async batch object

`Async batch` contains all the setups information and status update of a batch of operation to be performed collectively.

Batches will only leverage resources from the same version they are created in. e.g. a batch created with `2021-11` will only process tasks from the `2021-11` version.

##### Attributes

- id







string














Unique identifier of the batch, used for adding tasks to a batch and to initiate batch processing

- batch\_type







string













Possible values:

discount\_create,

discount\_update,

discount\_delete,

bulk\_plans\_create,

bulk\_plans\_update,

bulk\_plans\_delete,

onetime\_create,

onetime\_delete










Indicates the object type and operation required for all tasks in a batch

- closed\_at







string














Indicates the date and time that processing was completed for a batch

- created\_at







string














Indicates the date and time a batch was created

- fail\_task\_count







string














Indicates the number of failed tasks in a batch, during or after processing

- status







string














Indicates the status of the batch. Available statuses are not\_started, processing, completed, failed

- submitted\_at







string














Indicates the date and time that a batch was triggered to process

- success\_task\_count







string














Indicates the number of successful tasks in a batch, during or after processing.

- total\_task\_count







string














Indicates the total number of tasks in a batch

- updated\_at







string














Indicates the date and time at which a batch was last updated

- version







string














Indicates the API version of the batch.







read-only field


##### Error related attributes

##### More Attributes

The async batch object

```hljs json
{
  "async_batch": {
    "id": 19,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-02-17T08:52:10+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "not_started",
    "submitted_at": null,
    "success_task_count": 0,
    "total_task_count": 0,
    "updated_at": "2022-02-17T08:52:10+00:00",
    "version": "2021-11"
  }
}
```

# Create a batch

In order to create, retrieve, or process batches, the API token requires the write\_batches permission. Additional permissions are required, dependent upon the indicated batch\_type. For example, for a batch type of discount\_create, the API token requires the write\_discounts permission.

Create a new batch, and indicate the desired outcome of the batch using batch\_type.

CAUTION

Async batches and their tasks will only be retained in Recharge for one month after batch creation.

Available batch types

The async\_batches API supports many functions, each identified as a batch\_type. Typically, the task body for a batch\_type will be representative of a single request to our standard endpoints, however, some variations may be present.

Related guides: [Examples of Async Batches](https://docs.rechargepayments.com/docs/async-batches)

Batches will only leverage resources from the same version they are created in. e.g. a batch created with `2021-11` will only process tasks from the `2021-11` version.

Scopes:
write\_batches


##### Body Parameters

- batch\_type







string













Possible values:

discount\_create,

discount\_update,

discount\_delete,

bulk\_plans\_create,

bulk\_plans\_update,

bulk\_plans\_delete,

onetime\_create,

onetime\_delete










Desired batch type


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/async\_batches


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -X POST 'https://api.rechargeapps.com/async_batches' \
 --data '{ "batch_type": "desired_batch_type"}'
```

Response

201


```hljs json
{
  "async_batch": {
    "id": 19,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-10-12T20:16:09+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "not_started",
    "submitted_at": null,
    "success_task_count": 0,
    "total_task_count": 0,
    "updated_at": "2022-10-12T20:16:09+00:00",
    "version": "2021-11"
  }
}
```

# Retrieve a batch

Retrieve a batch using the Recharge batch id. A batch can be retrieved during processing to evaluate batch progress.

## HTTP request examples

`GET /async_batches/<batch_id>`

##### Responses

- 200




















successful response










Show response object



GET

/async\_batches/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -X GET 'https://api.rechargeapps.com/async_batches/16'
```

Response

200


```hljs json
{
  "async_batch": {
    "id": 19,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-10-12T20:16:09+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "not_started",
    "submitted_at": null,
    "success_task_count": 0,
    "total_task_count": 0,
    "updated_at": "2022-10-12T20:16:09+00:00",
    "version": "2021-11"
  }
}
```

# List batches

Returns a list of all your async\_batches.

##### Responses

- 200




















successful response










Show response object



GET

/async\_batches


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -X GET 'https://api.rechargeapps.com/async_batches'
```

Response

200


```hljs json
{
  "async_batches": [\
    {\
      "id": 20,\
      "batch_type": "discount_delete",\
      "closed_at": null,\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "deleted_at": null,\
      "fail_task_count": 0,\
      "status": "not_started",\
      "submitted_at": null,\
      "success_task_count": 0,\
      "total_task_count": 40,\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "version": "2021-11"\
    },\
    {\
      "id": 19,\
      "batch_type": "discount_update",\
      "closed_at": null,\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "deleted_at": null,\
      "fail_task_count": 0,\
      "status": "not_started",\
      "submitted_at": null,\
      "success_task_count": 0,\
      "total_task_count": 0,\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "version": "2021-11"\
    },\
    {\
      "id": 16,\
      "batch_type": "discount_create",\
      "closed_at": "2022-10-12T20:16:09+00:00",\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "deleted_at": null,\
      "fail_task_count": 0,\
      "status": "completed",\
      "submitted_at": "2022-10-12T20:16:09+00:00",\
      "success_task_count": 2000,\
      "total_task_count": 2000,\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "version": "2021-11"\
    }\
  ]
}
```

# Process a batch

Until a batch is submitted for processing, no tasks are attempted. Once you have ensured the tasks in a batch are ready for processing, you can submit for processing using this endpoint and the associated batch id.

Webhooks - Batches process quickly, and may result in Recharge dispatching many webhooks at a high rate. Ensure any systems subscribed to resulting webhooks are capable of handling such load.

##### Responses

- 201




















successful response










Show response object



POST

/async\_batches/{batch\_id}/process


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/async_batches/21/process' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

201


```hljs json
{
  "async_batch": {
    "id": 21,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-06-05T10:53:36+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "processing",
    "submitted_at": "2022-06-05T10:54:54+00:00",
    "success_task_count": 0,
    "total_task_count": 10,
    "updated_at": "2022-06-05T10:54:54+00:00",
    "version": "2021-11"
  }
}
```

# Async batch Tasks

Most commonly, the response from listing tasks on an async\_batch id will be identical to the body of a singular request to standard Recharge API endpoints. However, in some instances there are variations from the standard list task response body. See below for examples corresponding to each batch\_type.

Related guides: [Examples of async batches](https://docs.rechargepayments.com/docs/async-batches)

Endpoints

POST

/async\_batches/{batch\_id}/tasks


GET

/async\_batches/{batch\_id}/tasks


Expand

# The async batch Tasks object

##### Attributes

- batch\_id







integer














Indicates the batch that the task is contained by

- body







object














This object contains the body of a standard API request. For example, when creating discounts with a discount\_create batch, this parameter contains a standard body for POST /discounts

- completed\_at







datetime














Indicates the date and time a task was completed

- created\_at







datetime














Indicates the date and time that a task was created and added to the batch

- deleted\_at







datetime














Indicates the date and time that a task was deleted from the batch

- id







integer














Unique identifier for the task within a batch

- queued\_at







datetime














Indicates the date and time a task was queued for processing within batch processing

- result







string














Contains the individual response body for the task

- started\_at







datetime














Indicates the date and time a task was processed

- status







string













Possible values:

pending,

processing,

failed,

success










Indicates the status of the task within a batch.

- updated\_at







datetime














Indicates the date and time a task was most recently updated


##### Error related attributes

##### More Attributes

The async batch Tasks object

```hljs json

```

# Create a batch task

A batch contains operations of similar type (indicated by batch\_type), called tasks. A task is typically representative of a single API request, with a body parameter containing the standard request body for the associated batch\_type. A single request to add tasks may contain up to 1,000 tasks, and a batch may contain up to 10,000 tasks.

##HTTP examples

`POST /async_batches/<batch_id>/tasks`

Batches will only leverage resources from the same version they are created in. e.g. a batch created with `2021-11` will only process tasks from the `2021-11` version.

##### Body Parameters

- batch\_id







integer














Indicates the batch that the task is contained by

- body







object














This object contains the body of a standard API request. For example, when creating discounts with a discount\_create batch, this parameter contains a standard body for POST /discounts

- completed\_at







datetime














Indicates the date and time a task was completed

- created\_at







datetime














Indicates the date and time that a task was created and added to the batch

- deleted\_at







datetime














Indicates the date and time that a task was deleted from the batch

- id







integer














Unique identifier for the task within a batch

- queued\_at







datetime














Indicates the date and time a task was queued for processing within batch processing

- result







string














Contains the individual response body for the task

- started\_at







datetime














Indicates the date and time a task was processed

- status







string













Possible values:

pending,

processing,

failed,

success










Indicates the status of the task within a batch.

- updated\_at







datetime














Indicates the date and time a task was most recently updated


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/async\_batches/{batch\_id}/tasks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-X POST https://api.rechargeapps.com/async_batches/21/tasks \
--data '{
  "tasks": [\
    {\
      "body": {\
        "code": "indexing",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "maroon",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "web services",\
        "value": 100,\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled"\
      }\
    },\
    {\
      "body": {\
        "code": "PCI",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "Cheese",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "overriding",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "bandwidth-monitored",\
        "value": 100,\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled"\
      }\
    },\
    {\
      "body": {\
        "code": "Falkland Islands (Malvinas)",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "Computer",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "digital",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    }\
  ]
}'
```

Response

200


```hljs json
{
  "count": 10
}
```

# List batch tasks

Returns a list of all tasks in the indicated batch, using batch id. For batches with many tasks, pagination is supported when listing tasks. Use this function to evaluate the task-level results of a batch during, or after processing. Task results will be contained in the `results` object of each task.

##### Query Parameters

- ids







string














Filter tasks by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/async\_batches/{batch\_id}/tasks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-X GET https://api.rechargeapps.com/async_batches/16/tasks
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "async_batch_tasks": [\
    {\
      "id": 1490831511,\
      "batch_id": 765278,\
      "body": {\
        "code": "Computer",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831510,\
      "batch_id": 765278,\
      "body": {\
        "code": "Falkland Islands (Malvinas)",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831509,\
      "batch_id": 765278,\
      "body": {\
        "code": "bandwidth-monitored",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831508,\
      "batch_id": 765278,\
      "body": {\
        "code": "overriding",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831507,\
      "batch_id": 765278,\
      "body": {\
        "code": "Cheese",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831506,\
      "batch_id": 765278,\
      "body": {\
        "code": "PCI",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831505,\
      "batch_id": 765278,\
      "body": {\
        "code": "web services",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831504,\
      "batch_id": 765278,\
      "body": {\
        "code": "maroon",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831503,\
      "batch_id": 765278,\
      "body": {\
        "code": "indexing",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    }\
  ]
}
```

# Token information

This resource allows a caller to inspect basic information regarding the `token` in use. It will only return a single object related to the calling `token` ( ie - a call with `api_token.id=1` will only return information regarding `api_token.id=1`.

Endpoints

GET

/token\_information


Expand

# The token information object

Details of the client which generated the token.

If the API token was generated by an OAuth app, the object will contain associated client information.

If the API token was generated by the merchant, the object will reflect the `name` prefaced by ‘\[Private App\]’ and `contact_email` of the token.

##### Attributes

- client







object














If the API Token was generated by an Oauth app, an object containing associated client information.










Show object attributes


- contact\_email







string














The email associated with the API Token record.







For tokens created via OAuth App the contact can be `null`

- name







string














The name of the API Token as created by merchant.

- scopes







array














A list of scopes on the API Token.


##### Error related attributes

##### More Attributes

The token information object

```hljs json
{
  "client": {
    "name": "PARTNER",
    "contact_email": "ed@partner.com"
  },
  "contact_email": "jbluhm@example.com",
  "name": "token name",
  "scopes": [\
    "read_shop",\
    "write_payments"\
  ]
}
```

# Retrieve token information

Retrieve token details.

##### Responses

- 200




















successful response










Show response object



GET

/token\_information


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/token_information' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "token_information": {
    "client": {
      "name": "PARTNER",
      "contact_email": "ed@partner.com"
    },
    "contact_email": "jbluhm@example.com",
    "name": "token name",
    "scopes": [\
      "read_store",\
      "write_payment_methods"\
    ]
  }
}
```

# Accounts

This resource allows a caller to inspect basic information regarding the staff accounts in the store. ![](https://developer.getrecharge.com/images/accounts.png)

Endpoints

GET

/accounts/{id}


GET

/accounts


Expand

# The account object

An `Account` record represents a staff account details for the `Store`. One `Store` can have many staff’s account.

##### Attributes

- id







integer














Unique numeric identifier for the `Account`.

- user\_id







integer














The unique numeric identifier of the user associated to the `Account`.







There can only be one `Account` per user per `Store`.

- created\_at







datetime














The date and time when the `Account` was created.

- invited\_at







datetime














The date and time the user was last invited to open their `Account`







`null` for the store creator.

If an invite to open an `Account` is re-issued for a user, `invited_at` will hold the timestamp of the most recent invite sent.

- is\_owner







boolean














Flags whether this user is the store owner.







A `Store` can have multiple owners.


##### Error related attributes

##### More Attributes

The account object

```hljs json
{
  "account": {
    "id": 3315125,
    "user_id": 2057785,
    "created_at": "2021-07-20T09:10:19+00:00",
    "invited_at": "2021-07-18T09:10:19+00:00",
    "is_owner": false
  }
}
```

# Retrieve an account

Retrieves an account for the store.

Scopes:
read\_accounts


##### Responses

- 200




















successful response










Show response object



GET

/accounts/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/accounts/331512' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "account": {
    "id": 3315125,
    "user_id": 2057785,
    "created_at": "2021-07-20T09:10:19+00:00",
    "invited_at": "2021-07-18T09:10:19+00:00",
    "is_owner": false
  }
}
```

# List accounts

Returns all accounts associated to the store.

Scopes:
read\_accounts


##### Responses

- 200




















successful response










Show response object



GET

/accounts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/accounts' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "accounts": [\
    {\
      "id": 3315125,\
      "user_id": 2057785,\
      "created_at": "2021-07-20T09:10:19+00:00",\
      "invited_at": "2021-07-18T09:10:19+00:00",\
      "is_owner": false\
    },\
    {\
      "id": 3316125,\
      "user_id": 2056785,\
      "created_at": "2021-05-20T09:10:19+00:00",\
      "invited_at": null,\
      "is_owner": true\
    }\
  ]
}
```

# Events

This resource allows a caller to inspect recent events in the store.

Endpoints

GET

/events


Expand

# The event object

Pro plan

An `Event` record represents an action that took place at a point in time.

##### Attributes

- id







integer














Unique numeric identifier for the `Event`.

- object\_id







integer














The unique numeric identifier of the object associated with the `Event`.

- customer\_id







integer














The unique numeric identifier of the customer associated with the `Event`.







This value can be `null` for events not directly associated with a customer.

- created\_at







datetime














The date and time when the `Event` was created.

- object\_type







string














The resource type of the object associated with the `Event`, e.g. ‘customer’ or ‘subscription’

- verb







string














The action describing the `Event`, e.g. ‘created’ or ‘updated’

- description







string














The short description that summarizes the `Event`.

- updated\_attributes







object














A list of objects describing attributes that were changed during the `Event`.










Show object attributes


- source







object














An object containing details about the origin of the `Event`.










Show object attributes


- custom\_attributes







object














A list of objects passed explicitly to a Recharge API call that created the `Event`.







This field will only be populated on events created using the Recharge API.










Show object attributes



##### Error related attributes

##### More Attributes

The event object

```hljs json
{
  "event": {
    "id": 7160141294,
    "object_id": 362310818,
    "customer_id": 36885098,
    "created_at": "2023-05-31T14:16:07",
    "object_type": "subscription",
    "verb": "updated",
    "description": "Updated subscription #362310818",
    "updated_attributes": [\
      {\
        "attribute": "price",\
        "previous_value": "12.00",\
        "value": "15.00"\
      },\
      {\
        "attribute": "quantity",\
        "previous_value": "3",\
        "value": "5"\
      }\
    ],
    "source": {
      "account_id": null,
      "api_token_id": 987654321,
      "api_token_name": "Subscription API token",
      "account_email": null,
      "origin": "api",
      "user_type": null
    },
    "custom_attributes": [\
      {\
        "key": "ab_testing_flag",\
        "value": "a"\
      }\
    ]
  }
}
```

# List events

Returns all events associated with the store. The Events API is limited to events that occurred in the last 7 days

Granting the `read_events` scope to a token will expose some details about other Recharge API resources via the Events API.

Scopes:
read\_events


##### Query Parameters

- created\_at\_min







string














Show events that occurred after a certain date

- created\_at\_max







string














Show events that occurred before a certain date

- object\_type







string














Show events that occurred for a certain `object_type`, such as `customers`, `addresses`, `charges`, etc.

- object\_id







integer














Show events with a specific `object_id`. This filter should be used with the `object_type` filter.

- verbs







string














Show events with a specific `verb` or comma-separated list of `verbs`

- customer\_id







integer














Show events related to a specific `customer` using the customer’s primary identifier

- origin







string














Show events with a specific source.origin, such as `api`, `customer_portal`, `merchant_portal`, or `recharge_process`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/events


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/events' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "events": [\
    {\
      "id": 7160141294,\
      "object_id": 362310818,\
      "customer_id": 36885098,\
      "created_at": "2023-05-31T14:16:07",\
      "object_type": "subscription",\
      "verb": "updated",\
      "description": "Updated subscription #362310818",\
      "updated_attributes": [\
        {\
          "attribute": "price",\
          "previous_value": "12.00",\
          "value": "15.00"\
        },\
        {\
          "attribute": "quantity",\
          "previous_value": "3",\
          "value": "5"\
        }\
      ],\
      "source": {\
        "account_id": null,\
        "api_token_id": 987654321,\
        "api_token_name": "Subscription API token",\
        "account_email": null,\
        "origin": "api",\
        "user_type": null\
      },\
      "custom_attributes": [\
        {\
          "key": "ab_testing_flag",\
          "value": "a"\
        }\
      ]\
    }\
  ]
}
```

## Recharge API Documentation
v.2021-01v.2021-11

# API Reference

The Recharge API is primarily a REST API with some RPC endpoints to support common operations. It has predictable, resource-oriented URLs, accepts JSON-encoded request bodies, returns JSON-encoded responses, and uses standard HTTP response codes, authentication, and methods.

Related guides: [Generate API tokens](https://docs.rechargepayments.com/docs/recharge-api-key), [Using the API](https://docs.rechargepayments.com/docs/using-the-api)

## API and Platforms compatibility

Recharge offers hosted solutions and integrates with various ecommerce platforms to process recurring transactions with the setup of your choice. In order to be compatible with those platforms some of our API resources and endpoints may be limited in use to a subset of platforms. When that is the case we will flag with the help of tags the checkout/platform association for which that feature is compatible.

**When there is no restriction of compatibility no tags will appear.**

Below is a legend of the tags you may come across:

| Tag | Checkout solution | Ecommerce platform |
| --- | --- | --- |
| BigCommerce | Recharge hosted | BigCommerce |
| Custom | Recharge hosted or API-first | Custom |
| RCS | Recharge hosted | Shopify |
| SCI | Shopify hosted | Shopify |

You may also come across other tags specifying regional restrictions (e.g. USA Only) or new releases (e.g. Alpha, Beta).

![Intro image](https://developer.getrecharge.com/images/intro_v2.png)

Base URL

```hljs
https://api.rechargeapps.com
```

# Authentication

Recharge uses API keys to authenticate requests.

Each request to the API should contain an API token in the following header:

`X-Recharge-Access-Token:store_api_token`

Replace `store_api_token` with your API key.

All requests must be made over HTTPS.

## API Token Scopes

Scopes can be set up from the API token edit page in Recharge to control the level of access of an API token.

The API currently supports the scopes below:

| Write | Read |
| --- | --- |
|  | `read_accounts` |
| `write_batches` | `read_batches` |
| `write_customers` | `read_customers` |
| `write_discounts` | `read_discounts` |
|  | `read_events` |
| `write_notifications` |  |
| `write_orders` | `read_orders` |
| `write_payment_methods` | `read_payment_methods` |
| `write_products` | `read_products` |
| `write_subscriptions` | `read_subscriptions` |
|  | `read_store` |
|  | `read_credit_accounts` |
|  | `read_credit_adjustments` |

GET /

cURLPythonPHPRuby

```hljs bash
curl -i -H 'X-Recharge-Access-Token: your_api_token'
-X GET
```

# Versioning

All requests will use your account API settings, unless you send a `X-Recharge-Version` header to specify the version.

You can use the same token to make calls to all versions. When no version is specified it will default to the default version on your store.

| Existing API Versions | Release notes |
| --- | --- |
| `2021-11` | 2021-11 [release notes](https://changelog.rechargepayments.com/recharge-api-v2021-11-is-now-available-4syNNK) |
| `2021-01` |  |

# Responses

Recharge uses conventional `HTTP` response codes to indicate the success or failure of an API request. In general, codes in the `2xx` range indicate success, codes in the `4xx` range indicate an error that failed given the information provided ( e.g. a required parameter was omitted, a charge failed, etc ), and codes in the `5xx` range indicate an error with Recharge’s servers.

```hljs
200 - OK: Everything worked as expected.
201 - OK: The request was successful, created a new resource, and resource created is in the body.
202 - OK: The request has been accepted and is in processing.
204 - OK: The server has successfully fulfilled the request and there is no content to send in the response body.
400 - Bad Request: The request was unacceptable, often due to a missing required parameter.
401 - Unauthorized: No valid API key was provided.
402 - Request Failed: The parameters were valid but the request failed.
403 - The request was authenticated but not authorized for the requested resource (permission scope error).
403 - Uninstalled Store.
404 - Not Found: The requested resource doesn’t exist.
405 - Method Not Allowed: The method is not allowed for this URI.
406 - The request was unacceptable, or requesting a data source which is not allowed although permissions permit the request.
409 - Conflict: You will get this error when you try to send two requests to edit an address or any of its child objects at the same time, in order to avoid out of date information being returned.
415 - The request body was not a JSON object.
422 - The request was understood but cannot be processed due to invalid or missing supplemental information.
426 - The request was made using an invalid API version.
429 - The request has been rate limited.
500 - Internal server error.
501 - The resource requested has not been implemented in the current version but may be implemented in the future.
503 - A 3rd party service on which the request depends has timed out.
```

# Extending responses

Our API endpoints and webhooks allow developers to extend responses with additional data in order to optimize calls, allowing for simpler and more efficient implementations.

The API supports including additional objects when using a `GET` request to retrieve a list or a `GET` request to retrieve a record by a specific id. This is achieved by using an `include` query parameter in the request URL. The `include` value contains the object or objects you want to include in the response of your request. On routes where multiple includes are available, you are able to pass multiple values separated by a comma ( `include=customer,metafields`). The below table defines available `include` values for commonly used resources of the API.

Webhooks support `included_objects` on the topics listed below. Webhook `included_objects` accepts an array of supported values ( `"included_objects": [ "customer", "metafields"]`). Specifying `included_objects` will return an enriched payload, containing the original resource and the associated included objects.

When including `charge_activities` in API calls or webhooks, note that only the last 90 days of activities will be included in the response.

| Resource | Endpoints | Webhook topics | Supported `include` values | Supported `included_objects` values |
| --- | --- | --- | --- | --- |
| `Addresses` | `GET /addresses`<br>`GET /addresses/{id}` | `address/created`<br>`address/updated` | `charge_activities`<br>`customer`<br>`discount`<br>`payment_methods`<br>`subscriptions` | `customer`<br>`payment_methods` |
| `Charges` | `GET /charges`<br>`GET /charges/{id}` | `charge/created`<br>`charge/failed`<br>`charge/max_retries_reached`<br>`charge/paid`<br>`charge/refunded`<br>`charge/uncaptured`<br>`charge/upcoming`<br>`charge/updated`<br>`charge/deleted` | `charge_activities` (beta)<br>`customer`<br>`metafields`<br>`payment_methods` | `customer`<br>`metafields`<br>`payment_methods` |
| `Customers` | `GET /customers`<br>`GET /customers/{id}` | `customer/activated`<br>`customer/created`<br>`customer/deactivated`<br>`customer/payment_method_updated`<br>`customer/updated`<br>`customer/deleted` | `addresses`<br>`metafields`<br>`payment_methods`<br>`subscriptions` | `addresses`<br>`metafields`<br>`payment_methods` |
| `Orders` | `GET /orders`<br>`GET /orders/{id}` | `order/cancelled`<br>`order/created`<br>`order/deleted`<br>`order/processed`<br>`order/payment_captured`<br>`order/upcoming`<br>`order/updated`<br>`order/success` | `customer`<br>`metafields` | `customer`<br>`metafields` |
| `Payment Methods` | `GET /payment_methods`<br>`GET /payment_methods/{id}` |  | `addresses` | `addresses` |
| `Subscriptions` | `GET /subscriptions`<br>`GET /subscriptions/{id}` | `subscription/activated`<br>`subscription/cancelled`<br>`subscription/created`<br>`subscription/deleted`<br>`subscription/skipped`<br>`subscription/updated`<br>`subscription/unskipped`<br>`subscription/paused` | `address`<br>`charge_activities`<br>`customer`<br>`metafields`<br>`bundle_product`<br>`bundle_selections` | `customer`<br>`metafields` |

# Cursor Pagination

By default, calls for a list of objects will return 50 results. Using the `limit` parameter, that can be increased to 250 results per response.

When there are more results than the current `limit` a cursor may be used to request additional results.

The `next_cursor` and `previous_cursor` attributes are are included in all list responses.

To request the next set of results, find the `next_cursor` in the list response and include it in the url with the cursor parameter e.g. `GET https://api.rechargeapps.com/subscriptions?limit=250&cursor=<next_cursor>`

To request the previous set of results, find the `previous_cursor` in the list response and include it in the url with the cursor parameter e.g. `GET https://api.rechargeapps.com/subscriptions?limit=250&cursor=<previous_cursor>`

## Retrieving total number of records

Starting with the `2021-11` version of the API, you will not be able to retrieve a count of total records for a given `GET` request. If you are building a UI page that allows end users to paginate through result sets (such as paginating through a list of orders or subscriptions), we recommend that your pagination implementation allow users to go to the next and previous page of results (as opposed to allowing users to jump to specific page in the results). This aligns well with the `previous_cursor` and the `next_cursor` fields included in all list responses.

Example Request

cURLPythonPHPRuby

```hljs bash
URL="https://api.rechargeapps.com/charges?limit=5"

response=$(curl -s -w "%{http_code}"\
    -H 'X-Recharge-Access-Token: your_api_token' \
    -H 'X-Recharge-Version: 2021-11' \    -X GET $URL)

content=$(sed '$ d' <<< "$response") # get all but the last line which contains the status code

# Display results
echo $content | jq "."

# parse next url
echo "Next URL"
next_cursor=$(jq ".next_cursor" <<< "${content}")

# Notice next_cursor value is passed as page_info query param
echo "$URL&page_info=$next_cursor"
```

# Sorting

The API supports sorting of results when using a `GET` request to retrieve a list. Sorting is achieved using a `sort_by` query parameter in the request URL. The `sort_by` value contains the parameter and sort direction for your results (ascending or descending), and available sort\_by values vary between resources. The below table defines available `sort_by` options for commonly used resources.

| Resource | Supported `sort_by_values` |
| --- | --- |
| **`Address`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` |
| **`Async Batch`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` |
| **`Charge`** | **Default: `id-asc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` `scheduled_at-asc` `scheduled_at-desc` |
| **`Customer`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Discount`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Metafield`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` |
| **`Onetime`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Order`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` `processed_at-asc` `processed_at-desc` `scheduled_at-asc` `scheduled_at-desc` |
| **`Plan`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` |
| **`Subscription`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Webhook`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` |

# Addresses

An Addresses record represents a shipping address. Each customer can have multiple addresses. Subscriptions are a child object of an address. ![](https://developer.getrecharge.com/images/address.png)

Endpoints

POST

/addresses


GET

/addresses/{id}


PUT

/addresses/{id}


DELETE

/addresses/{id}


GET

/addresses


POST

/addresses/merge


POST

/addresses/{id}/charges/skip


Expand

# The address object

An Addresses record represents a shipping address. Each customer can have multiple addresses. Subscriptions are a child object of an address.

##### Attributes

- id







integer














Unique numeric identifier for the `Address`.

- payment\_method\_id







integer














Unique numeric identifier for the `Payment Method` associated to the `Address`.

- address1







string














The street associated with the `Address`.

- address2







string














Any additional information associated with the `Address`.

- city







string














The city associated with the address.

- company







string














The company associated with the address.

- country\_code







string














2-letter country code.

- customer\_id







integer














Unique numeric identifier for the customer associated with the address.

- discounts







array














A list of discounts applied on the address. These discounts will apply to future recurring charges associated with this address.










Show object attributes


- first\_name







string














The customer’s first name associated with the address.

- last\_name







string














The customer’s last name associated with the address.

- order\_attributes







array












[BigCommerce](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

















Replaces cart\_attributes. Extra information that is added to the order.










Show object attributes


- order\_note







string














Notes to be added to all orders associated with the address.

- phone







string














The phone number associated with the address.

- presentment\_currency







string












[SCI](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

















The currency on the subscription contract in Shopify.







Only set if the currency is different from the store-level currency. Else, will default to store-level currency.

- province







string














The state or province associated with the address.

- shipping\_lines\_conserved







array














Shipping rates that have previously been overridden via `shipping_lines_override` but are currently inactive.










Show object attributes


- shipping\_lines\_override







array














Used when shipping rates need to be overridden.







If this parameter has value `null`, rates will be fetched when `Charge` is created or regenerated










Show object attributes


- zip







string














The zip or postal code associated with the address.

- created\_at







datetime














The date and time when the address was created.

- updated\_at







datetime














The date and time when the address was last updated.


##### Error related attributes

##### More Attributes

The address object

```hljs json
{
  "address": {
    "id": 21317826,
    "payment_method_id": 17874235,
    "address1": "1776 Washington Street",
    "address2": "",
    "city": "Los Angeles",
    "company": "Recharge",
    "country_code": "US",
    "created_at": "2018-11-14T09:00:01+00:00",
    "customer_id": 18819267,
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "first_name": "John",
    "last_name": "Doe",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note.",
    "phone": "5551234567",
    "presentment_currency": "USD",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [\
      {\
        "code": "Standard Shipping",\
        "price": "0.00",\
        "title": "Standard Shipping"\
      }\
    ],
    "updated_at": "2018-11-14T09:00:01+00:00",
    "zip": "90404"
  }
}
```

# Create an address

Create a new address for a customer.

Scopes:
write\_customers


##### Body Parameters

- customer\_id







integer





\\* Required














Unique numeric identifier for the customer associated with the address.

- address1







string





\\* Required














The street associated with the `Address`. Minimum length is 1 character.

- address2







string














Any additional information associated with the shipping address.

- city







string





\\* Required














The city associated with the shipping address.

- company







string














The company associated with the shipping address.

- country\_code







string





\\* Required














2-letter country code.







Check if the store supports shipping to this country. This is set by the merchant in their Shipping Settings page.

- discounts







array














List of discounts applied on the `Address`.










Show object attributes


- first\_name







string





\\* Required














The customer’s first name associated with the address. Minimum length is 1 character.

- last\_name







string





\\* Required














The customer’s last name associated with the address. Minimum length is 1 character.

- order\_attributes







array












[BigCommerce](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

















Extra information that is added to the order.










Show object attributes


- order\_note







string














Notes to be added to all orders associated with the address.

- payment\_method\_id







integer














Payment method id for the `Payment_method` to be associated to this address.

- phone







string





\\* Required














The phone number associated with the address. Must be included in the request schema but can be an empty string.

- presentment\_currency







string














The currency that charges on this address will be processed in. If no presentment\_currency is passed, it will be set to your default store currency.

- province







string





\\* Required














The state or province associated with the address. Check if country requires a province `COUNTRIES_REQUIRING_PROVINCE`.

- shipping\_lines\_override







array














Used when shipping rates need to be overridden. If this parameter has value `null`, rates will be fetched when a related `Charge` is created or regenerated










Show object attributes


- zip







string





\\* Required














The zip or postal code associated with the address.







Check if the `country` requires a `zip` code `COUNTRIES_NOT_REQUIRING_ZIP`. If not included in the list then a zip code with the minimum length of 1 character is required. If the country is `United States` validate against regex `UNITED_STATES_ZIP_REGEX`. If country is `United Kingdom` then validate against regex `UNITED_KINGDOM_ZIP_REGEX`.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/addresses


cURLPythonPHPRuby

```hljs js
curl https://api.rechargeapps.com/addresses \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "customer_id": 22152215,
  "address1": "1776 Washington Street",
  "address2": "",
  "city": "Los Angeles",
  "company": "Recharge",
  "country_code": "US",
  "first_name": "John",
  "last_name": "Doe",
  "order_attributes": [\
    {\
      "name": "custom name",\
      "value": "custom value"\
    }\
  ],
  "phone": "5551234567",
 "presentment_currency": "USD",
  "province": "California",
  "zip": "90404"
}'
```

Response

201


```hljs json
{
  "address": {
    "id": 42171447,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Retrieve an address

Retrieves address for customer based on specified address id.

Scopes:
read\_customers


##### Responses

- 200




















successful response










Show response object



GET

/addresses/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/addresses/21317826' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "address": {
    "id": 42171447,
    "payment_method_id": 17874235,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Update an address

Updates an existing address to match the specified parameters.

## Example: remove discounts from an address

To remove all discounts from an address, set the `discounts` parameter to an empty array: `{"discounts": []}`

Note: When updating the `country` property you will have to update the `zip` property as well, otherwise you will receive an error.

Scopes:
write\_customers


##### Body Parameters

- address1







string














The street associated with the `Address`. Minimum length is 1 character.

- address2







string














Any additional information associated with the shipping address.

- city







string














The city associated with the shipping address. Minimum length is 1 character.

- company







string














The company associated with the shipping address.

- country\_code







string














2-letter country code.







Check if the `store` supports shipping to this country. This is set by the merchant in their Shipping Settings page.

- discounts







array














A list of discounts applied on the address. These discounts will apply to future recurring charges associated with this address.










Show object attributes


- first\_name







string














The customer’s first name associated with the address. Minimum length is 1 character.

- last\_name







string














The customer’s last name associated with the address. Minimum length is 1 character.

- order\_attributes







array












[BigCommerce](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

















Extra information that is added to the order.










Show object attributes


- order\_note







string














Notes to be added to all orders associated with the address.

- payment\_method\_id







integer














Payment method id for the `Payment_method` to be associated to this address.

- phone







string














The phone number associated with the address. Must be included in the request schema but can be an empty string.

- province







string














The state or province associated with the address. Check if country requires a province `COUNTRIES_REQUIRING_PROVINCE`.

- shipping\_lines\_override







array












[BigCommerce](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)











[SCI](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

















Used when shipping rates need to be overridden. If this parameter has value `null`, rates will be fetched when a related `Charge` is created or regenerated.










Show object attributes


- zip







string














The zip or postal code associated with the address. Check if the country requires a zip code `COUNTRIES_NOT_REQUIRING_ZIP`. If not included in the list then a zip code with the minimum length of 1 character is required. If the country is `United States` then validate against regex `UNITED_STATES_ZIP_REGEX`. If country is `United Kingdom` then validate against regex `UNITED_KINGDOM_ZIP_REGEX`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/addresses/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/addresses/38700614' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"address1": "1776 Washington Street"}'
```

Response

200


```hljs json
{
  "address": {
    "id": 42171447,
    "payment_method_id": 17874235,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Delete an address

It is possible to delete certain addresses from the store using API.

Only `Addresses` with no active `Subscriptions` can be deleted.

Scopes:
write\_customers


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/addresses/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/addresses/38700614'\
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List addresses

Returns all addresses from the store, or addresses for the user given in the parameter.

## HTTP examples

`GET /addresses`

`GET /addresses?customer_id=<customer_id>`

`GET /addresses?discount_id=<discount_id>`

`GET /addresses?discount_code=<discount_code>`

You can combine `created_at_min` and `created_at_max` to return all addresses created in the given timespan. This also applies to `updated_at_min` and `updated_at_max` parameters.

Scopes:
read\_customers


##### Query Parameters

- created\_at\_max







datetime














Returns addresses created before the given time.

- created\_at\_min







datetime














Returns addresses created after the given time.

- customer\_id







integer














Unique identifier of the customer.

- discount\_code







string














Returns addresses that have the provided discount\_code.

- discount\_id







string














Returns addresses that have the provided discount\_id.

- ids







string














Filter addresses by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










The amount of results. Default is 50 while the maximum is 250.

- page







string





\*Deprecated













Default: 1










The page to show. Default is 1.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- updated\_at\_max







string














Returns addresses updated before the given date.

- updated\_at\_min







string














Returns addresses updated after the given time.

- is\_active







boolean














Returns active addresses.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/addresses


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/addresses' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "addresses": [\
    {\
      "id": 42171447,\
      "payment_method_id": 17874235,\
      "address1": "1030 Barnum Ave",\
      "address2": "Suite 101",\
      "city": "Stratford",\
      "company": "Fake Company",\
      "country_code": "US",\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "customer_id": 37657002,\
      "discounts": [\
        {\
          "id": 123456\
        }\
      ],\
      "first_name": "Fake First",\
      "last_name": "Fake Last",\
      "order_attributes": [\
        {\
          "name": "custom name",\
          "value": "custom value"\
        }\
      ],\
      "order_note": "My recurring order note",\
      "phone": "999-999-9999",\
      "presentment_currency": "USD",\
      "province": "Connecticut",\
      "shipping_lines_conserved": [],\
      "shipping_lines_override": [\
        {\
          "code": "Standard Shipping",\
          "price": "0.00",\
          "title": "Standard Shipping"\
        }\
      ],\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "zip": "06614"\
    }\
  ]
}
```

# Merge addresses

Merges up to 10 source addresses into 1 target address.

If one of the `Addresses` being merged has a different presentment currency, the entire merge will fail and throw an error.

Scopes:
write\_customers


##### Body Parameters

- delete\_source\_addresses







boolean














Indicates whether source addresses should be deleted.

- next\_charge\_date







string














Specifies the next charge date of the associated subscriptions on the target address.

- target\_address







object





\\* Required














The address all of the subscriptions should be moved to.










Show object attributes


- source\_addresses







array





\\* Required














The list of addresses that the subscriptions should move from.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/addresses/merge


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/addresses/merge' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"target_address": {"id": 42171447}, "source_addresses": [{"id": 42171446}, {"id": 42171445}]}'
```

Response

200


```hljs json
{
  "address": {
    "id": 42171447,
    "payment_method_id": 17874235,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Skip future charge

Skip a `Charge` in the future for one or multiple `Subscriptions` associated with the `Address`.

If the `Charge` does not exist on the date, it will be created with a `SKIPPED` status.

Scopes:
write\_orders


##### Body Parameters

- date







datetime





\\* Required














The date in the future of the `Charge` to be skipped.







This date must be within the delivery schedules of the `Customer`.

- subscription\_ids







array





\\* Required














A list containing the `Subscription` IDs to be skipped.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 404




















the `Address` with `id` does not exist










Show response object


- 422




















invalid data passed to the endpoint










Show response object



POST

/addresses/{id}/charges/skip


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/addresses/91977136/charges/skip' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"date": "2022-09-15", "purchase_item_ids": [27363808, 27363809]}'
```

Response

200

404

422


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": null,
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "skipped",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Bundle Selections

Pro plan

[SCI](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

A bundle selection represents the contents within a Bundle linked to an individual Subscription. It can represent the selection for upcoming orders or past orders. A `BundleSelection` is associated with a corresponding `Subscription` and a `BundleVariant` (the `BundleVariant` is used to validate contents in the selection). When a new order for the associated `Subscription` occurs, it will extract the current contents of the `BundleSelection` for the Bundle item in the order.

Endpoints

GET

/bundle\_selections


GET

/bundle\_selections/{id}


POST

/bundle\_selections


PUT

/bundle\_selections/{id}


DELETE

/bundle\_selections/{id}


# The bundle selection object

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

A bundle selection represents the contents within a Bundle linked to an individual Subscription. It can represent the selection for upcoming orders or past orders. A `BundleSelection` is associated with a corresponding `Subscription` and a `BundleVariant` (the `BundleVariant` is used to validate contents in the selection).

##### Attributes

- id







integer














The unique numeric identifier for the `BundleSelection`.

- bundle\_variant\_id







integer














The ID of the `BundleVariant` associated with the `BundleSelection`.

- purchase\_item\_id







integer














The ID of the `PurchaseItem` associated with the `BundleSelection`.

- created\_at







datetime














The date and time when the contents were selected.

- external\_product\_id







string














The product id as it appears in the external e-commerce platform. The `external_product_id` of the `Product` record in Recharge, linking the `BundleSelection` to a `Product` associated with a Bundle.

- external\_variant\_id







string














The variant id as it appears in the external e-commerce platform. The `external_variant_id` of the `Product` record in Recharge, linking the `BundleSelection` to a `Product` associated with a Bundle.

- items







array














A list of `item` objects, each containing information about a distinct product selected as part of the Bundle.










Show object attributes


- updated\_at







datetime














The date and time at which the `BundleSelection` was most recently updated.


##### Error related attributes

##### More Attributes

The bundle selection object

```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# List bundle selections

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Returns a list of `BundleSelections`.

## HTTP request examples

`GET /bundle_selections?purchase_item_ids=:purchase_item_id_1,:purchase_item_id_2`

`GET /bundle_selections?bundle_variant_ids=:bundle_variant_id_1,:bundle_variant_id_2`

`GET /bundle_selections?limit=1`

`GET /bundle_selections?limit=1&page=2`

`GET /bundle_selections?sort_by=updated_at-desc`

Returned `BundleSelections` are sorted descending by ID value by default.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
read\_subscriptions


##### Query Parameters

- purchase\_item\_ids







string














Filter `BundleSelections` by `Subscription` or `Onetime` ID.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- bundle\_variant\_ids







string














Filter `BundleSelections` by `BundleVariants`.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- item\_external\_variant\_ids







string














Filter `BundleSelections` by contents. If the Variant ID exists as a content of the `BundleSelection` it will appear as a result.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- item\_external\_product\_ids







string














Filter `BundleSelections` by contents. If the Product ID exists as a content of the `BundleSelection` it will appear as a result.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- limit







string













Default: 50





Max: 250










The amount of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- sort\_by







string














Sort listed `BundleSelections` in a specific order.

Available sort options: `id-asc`, `id-desc`, `updated_at-asc`, `updated_at-desc`.

- active\_purchase\_items







boolean














Bundle selections are not directly linked to Subscriptions. By default, the endpoint returns Bundle Selections, even those associated with cancelled subscriptions, unless the Bundle Selection has been deleted.

_To exclude cancelled subscriptions from your results, include `active_purchase_items=true` in your query._


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/bundle\_selections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/bundle_selections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "bundle_selections": [\
    {\
      "id": 100714428,\
      "bundle_variant": 382417,\
      "purchase_item_id": 199820883,\
      "created_at": "2022-08-26T18:31:28+00:00",\
      "external_product_id": "7121697210548",\
      "external_variant_id": "41450875650228",\
      "items": [\
        {\
          "id": 541,\
          "collection_id": "287569608884",\
          "collection_source": "shopify",\
          "created_at": "2022-08-26T18:31:28+00:00",\
          "external_product_id": "7121693671604",\
          "external_variant_id": "41450853105844",\
          "quantity": 3,\
          "updated_at": "2022-08-26T18:52:41+00:00"\
        }\
      ],\
      "updated_at": "2022-08-26T18:31:28+00:00"\
    }\
  ]
}
```

# Retrieve a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Retrieve a `BundleSelection` using the `bundle_selection_id`.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object


- 404




















the `BundleSelection` with `bundle_selection_id` does not exist










Show response object



GET

/bundle\_selections/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/bundle_selections/100714428' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200

404


```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# Create a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Create a `BundleSelection`.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_subscriptions


##### Body Parameters

- purchase\_item\_id







integer





\\* Required














The ID of the `PurchaseItem` associated with the `BundleSelection`.

- plan\_id







integer














A Recharge Plan ID. If provided in a dynamically-priced Bundle, the unit price of each product variant will be inferred from the plan associated with the ID; otherwise, it will be inferred from the plan with the greatest discount for each product in the selection. This is not used in fixed-priced Bundles.

- items







array





\\* Required














A list of `item` objects, each containing information about a distinct product selected as part of the Bundle.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 422




















missing required field or invalid items passed










Show response object



POST

/bundle\_selections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/bundle_selections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "purchase_item_id": 199820883,
  "items": [\
    {\
      "collection_id": "287569608884",\
      "collection_source": "shopify",\
      "external_product_id": "7121693671604",\
      "external_variant_id": "41450853105844",\
      "quantity": 3\
    }\
  ]
}'
```

Response

200

422


```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# Update a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Modify an existing `BundleSelection` to match the specified parameters.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_subscriptions


##### Body Parameters

- purchase\_item\_id







integer














The ID of the `PurchaseItem` associated with the `BundleSelection`.

- plan\_id







integer














A Recharge Plan ID. If provided in a dynamically-priced Bundle, the unit price of each product variant will be inferred from the plan associated with the ID; otherwise, it will be inferred from the plan with the greatest discount for each product in the selection. This is not used in fixed-priced Bundles.

- items







array














A list of `item` objects, each containing information about a distinct product selected as part of the Bundle.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 404




















the `BundleSelection` with `bundle_selection_id` does not exist










Show response object


- 422




















invalid items passed










Show response object



PUT

/bundle\_selections/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/bundle_selections/100714428' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "purchase_item_id": 199820883,
  "items": [\
    {\
      "collection_id": "287569608884",\
      "collection_source": "shopify",\
      "external_product_id": "7121693671604",\
      "external_variant_id": "41450853105844",\
      "quantity": 3\
    }\
  ]
}'
```

Response

200

404

422


```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# Delete a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Delete a `BundleSelection`

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_subscriptions


##### Responses

- 204




















the `BundleSelection` has been removed and there is no content to send back in the response body.










Show response object


- 404




















the `BundleSelection` with `id` does not exist










Show response object



DELETE

/bundle\_selections/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/bundle_selections/100714428' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204

404


```hljs json
{}
```

# Charges

A charge is the representation of a financial transaction linked to the purchase of an item (past or future). It can be a transaction that was processed already or the representation of an upcoming transaction. A `Charge` is linked to its corresponding `Orders` (one `Order` for pay as you go subscriptions and several for pre-paid). `Orders` are created once the corresponding `Charge` is successful. After successful payment, the first `Order` will be immediately submitted to the external platform if applicable (e.g. Shopify, BigCommerce). ![](https://developer.getrecharge.com/images/charge.png)

Endpoints

GET

/charges/{id}


GET

/charges


POST

/charges/{id}/apply\_discount


POST

/charges/{id}/remove\_discount


POST

/charges/{id}/skip


POST

/charges/{id}/unskip


POST

/charges/{id}/refund


POST

/charges/{id}/process


POST

/charges/{id}/capture\_payment


Expand

# The charge object

A `Charge` is the representation of the financial transaction linked to a purchase (past or future). It can be a transaction that was processed already or the representation of an upcoming transaction. A charge is linked to its corresponding `Orders` (one for pay as you go subscriptions and several for pre-paid).

A `Charge` can have many parent subscriptions. All subscriptions on a given `Address` with the same `next_charge_date` date will be merged into one `Charge` and that charge will contain one `line_item` per `Subscription`.

##### Attributes

- id







integer














The unique numeric identifier for the `Charge`.

- address\_id







integer














The ID of the shipping `Address` tied to the `Charge`.

- analytics\_data







object














An object containing analytics data associated with the `Charge`.










Show object attributes


- billing\_address







object














All the billing information related to the charge.










Show object attributes


- client\_details







object














Details of the access method used by the purchaser.










Show object attributes


- created\_at







datetime














The date and time when the transaction was created.

- currency







string














The code of the currency for this `Charge`, such as `USD`.







Related guides: [Supported currencies](https://support.rechargepayments.com/hc/en-us/articles/360037897534-Supported-currencies)

- customer







object














An object containing `Customer` information associated with this `Charge`.










Show object attributes


- discounts







array














An array of `Discounts` associated with the `Charge`.










Show object attributes


- external\_order\_id







object














An object containing the associated external order ID.










Show object attributes


- external\_transaction\_id







object














An object containing the associated external transaction ID.










Show object attributes


- line\_items







array














A list of `line_item` objects, each containing information about a distinct purchase item.










Show object attributes


- note







string














Notes associated with the `Charge`.

- order\_attributes







array














An array of name-value pairs of order attributes on the `Charge`.










Show object attributes


- orders\_count







integer














The number of `Orders` generated from this `Charge` (>1 for prepaid `Subscriptions`).

- payment\_processor







string














The payment processor used for this `Charge`.

- processed\_at







datetime














The date and time when the transaction was processed.

- scheduled\_at







date














The date time of when the `Charge` is/was scheduled to process.

- shipping\_address







object














The shipping `Address` of the `Charge`.










Show object attributes


- shipping\_lines







array














An array of shipping lines associated with the `Charge`.










Show object attributes


- status







string













Possible values:

success,

error,

queued,

skipped,

refunded,

partially\_refunded,

pending\_manual\_payment,

pending










The status of the `Charge`.

- subtotal\_price







string














The combined price of all `line_items` without taxes and shipping.

- tags







string














A comma-separated list of tags on the `Charge`.

- tax\_lines







array














An array of tax lines that apply to the `Charge`.










Show object attributes


- taxable







boolean














A boolean indicator of the taxability of the `Charge`.

- taxes\_included







boolean














Whether taxes are included in the order subtotal.

- total\_discounts







string














The sum of the `Discounts` applied to the `Charge`.

- total\_line\_items\_price







string














The total price of all line items of the `Charge`.

- total\_price







string














The sum of all the prices of all the items in the `Charge`, taxes and discounts included (must be positive).

- total\_refunds







string














The sum of all refunds that were applied to the `Charge`.

- total\_tax







string














The total tax due associated with the `Charge`.

- total\_weight\_grams







integer














The total weight of the `Charge`’s line items in grams.

- type







string













Possible values:

checkout,

recurring










An indicator of the `Charge`’s type, either checkout or recurring.

- updated\_at







datetime














The date time at which the `Charge` was most recently updated.


##### Error related attributes

- error







string














Error reason as sentence text (typically returned direct from the payment processor). e.g. `"error": "Customer needs to update credit card"`

- error\_type







string














Structured reason why the charge failed such as `CUSTOMER_NEEDS_TO_UPDATE_CARD`.

- charge\_attempts







integer














Shows how many times an attempt to charge was placed.

- external\_variant\_id\_not\_found







boolean














Indicates if Recharge was able to find the `external_variant_id` from the `Charge`.

- retry\_date







date














The date when the next attempt will be placed.


##### More Attributes

- has\_uncommited\_changes







boolean














Specifies whether the `Charge` is scheduled for a regeneration (if the `Subscription` related to the charge was updated in the last 5 seconds using `commit=false`).


The charge object

```hljs json
{
  "charge": {
    "id": 100714428,
    "address_id": 21317826,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "differentiate-content",\
          "utm_data_source": "cookie",\
          "utm_medium": "email",\
          "utm_source": "newsletter",\
          "utm_term": "test-term",\
          "utm_time_stamp": "2019-12-16T23:57:28.752Z"\
        }\
      ]
    },
    "billing_address": {
      "address1": "3030 Nebraska Avenue",
      "address2": null,
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Mike",
      "last_name": "Flynn",
      "phone": "3103843698",
      "province": "California",
      "zip": "90404"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2018-11-14T09:45:44+00:00",
    "currency": "USD",
    "customer": {
      "id": 12345,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "10DOLLAROFF",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_XXXXXXXXXXXXXXX"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "99999999999"\
        },\
        "grams": 4536,\
        "images": {\
          "large": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee_large.png",\
          "medium": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee__medium.png",\
          "original": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee_.png",\
          "small": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee__small.png"\
        },\
        "original_price": "12.00",\
        "properties": [\
          {\
            "name": "grind",\
            "value": "drip"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "MILK-1",\
        "tax_due": "1.14",\
        "tax_lines": [\
          {\
            "price": "0.870",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.270",\
            "rate": 0.0225,\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "12.00",\
        "title": "Sumatra Coffee",\
        "total_price": "13.14",\
        "unit_price": "12.00",\
        "variant_title": "Milk - a / b"\
      }\
    ],
    "note": "next order #1",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "processor_name": "stripe",
    "scheduled_at": "2018-12-12",
    "shipping_address": {
      "address1": "3030 Nebraska Avenue",
      "address2": "",
      "city": "Los Angeles",
      "company": "Recharge",
      "country": "United States",
      "first_name": "Mike",
      "last_name": "Flynn",
      "phone": "3103843698",
      "province": "California",
      "zip": "90404"
    },
    "shipping_lines": [\
      {\
        "code": "Standard Shipping",\
        "price": "0.00",\
        "title": "Standard Shipping"\
      }\
    ],
    "status": "queued",
    "subtotal_price": "12.00",
    "tags": "Subscription",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles County Tax"\
      }\
    ],
    "taxes_included": true,
    "total_discounts": "0.00",
    "total_line_items_price": "12.00",
    "total_price": "13.14",
    "total_refunds": null,
    "total_tax": "1.14",
    "total_weight_grams": 4536,
    "type": "recurring",
    "updated_at": "2018-11-14T09:45:44+00:00"
  }
}
```

# Retrieve a charge

Retrieve a `Charge` using the `charge_id`.

Starting March 19th, 2025, processed charges (those where status equals success, refunded, or partially-refunded) that have a value for processed\_at greater than 90 days in the past will no longer appear in responses. As a result, you may receive an error.

Charge data processed over 90 days ago will remain available through the [Exports tool](https://support.getrecharge.com/hc/en-us/articles/360049725373-Available-exports-in-the-Export-Builder#h_9ade00c9-7cdb-474d-9d91-1e976689eca9) in the Recharge merchant portal and within the [Merchant portal UI](https://support.getrecharge.com/hc/en-us/articles/360008829113-Viewing-order-information-in-the-merchant-portal).

Example of unaffected API calls:

\[RETRIEVE A CHARGE\] `/charges/{id}` (if it’s a charge that does not have a processed\_at date or the processed\_at date is within the last 90 days)

Example of API calls that will result in an error:

\[RETRIEVE A CHARGE\] `/charges/{id}` (if it’s a charge with a processed\_at date older than 90 days)

Scopes:
read\_orders


##### Responses

- 200




















successful response










Show response object



GET

/charges/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": "2021-01-01",
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "taxes_included": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# List charges

Returns a list of `Charges`.

## HTTP request examples

`GET /charges?address_id=:address_id`

`GET /charges?created_at_min=2016-05-18&created_at_max=2016-06-18`

`GET /charges?customer_id=:customer_id`

`GET /charges?discount_code=10PERCENTOFF`

`GET /charges?discount_id=:discount_id`

`GET /charges?external_order_id=:external_order_id`

`GET /charges?ids=1123551,262667345,12341535`

`GET /charges?purchase_item_id=:purchase_item_id`

`GET /charges?scheduled_at=2016-06-18`

`GET /charges?scheduled_at_min=2016-05-18&scheduled_at_max=2016-06-18`

`GET /charges?sort_by=id-desc`

`GET /charges?status=queued`

`GET /charges?status=queued,refunded,partially_refunded`

`GET /charges?updated_at_min=2016-05-18&updated_at_max=2016-06-18`

`GET /charges?processed_at_min=2022-01-18&processed_at_max=2022-02-18`

Starting March 19th, 2025, processed charges (those where status equals success, refunded, or partially- refunded) that have a value for processed\_at greater than 90 days in the past will no longer appear in responses. As a result, you may receive a partial data set or an empty list.

Charge data processed over 90 days ago will remain available through the [Exports tool](https://support.getrecharge.com/hc/en-us/articles/360049725373-Available-exports-in-the-Export-Builder#h_9ade00c9-7cdb-474d-9d91-1e976689eca9) in the Recharge merchant portal and within the [Merchant portal UI](https://support.getrecharge.com/hc/en-us/articles/360008829113-Viewing-order-information-in-the-merchant-portal).

Examples of unaffected API calls:

\[LIST CHARGES\] `/charges?status=queued`

\[LIST CHARGES\] `/charges?status=error`

Examples of API calls that may return partial results:

\[LIST CHARGES\] `/charges?processed_at_min=2024-01-01` (this would only return results that have a processed\_at date in the last 90 days)

\[LIST CHARGES\] `/charges?status=success,queued` (this would return all queued charges but only return success charges that have a processed\_at date in the last 90 days)

Example of API calls that will result in an empty list:

\[LIST CHARGES\] `/charges?processed_at_max=2024-01-01` (any date over 90 days old)

Reminder: returned charges are sorted ascending by id value by default.

Scopes:
read\_orders


##### Query Parameters

- address\_id







string














Filter `Charges` by `Address`.

- created\_at\_max







string














Show `Charges` created before the given date.

- created\_at\_min







string














Show `Charges` created after the given date.

- customer\_id







string














Filter `Charges` by `Customer`.

- discount\_code







string














List `Charges` that contain the given `discount_code`.

- discount\_id







string














List `Charges` that contain the given `discount_id`.

- external\_order\_id







string














Filter `Charges` by the associated order ID in the external e-commerce platform.

- ids







string














Filter `Charges` by ID.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- limit







string













Default: 50





Max: 250










The amount of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- purchase\_item\_id







string














Filter `Charges` by a `Subscription` or `Onetime` ID.

- purchase\_item\_ids







string














Filter `Charges` by a comma-separated list of `Subscription` or `Onetime` IDs.

- scheduled\_at







string














Filter `Charges` by specific scheduled charge date.

- scheduled\_at\_max







string














Show `Charges` scheduled to be processed before the given date.

- scheduled\_at\_min







string














Show `Charges` scheduled to be processed after the given date.

- sort\_by







string














Sort listed `Charges` in a specific order.

Available sort options: `id-asc`, `id-desc`, `updated_at-asc`, `updated_at-desc`, `scheduled_at-asc`, `scheduled_at-desc`.

- status







string














Filter charges by status.

Available status: `success`, `queued`, `error`, `refunded`, `partially_refunded`, `skipped`, `pending_manual_payment`, `pending`.

- updated\_at\_max







string














Show charges updated before the given date.

- updated\_at\_min







string














Show charges updated after the given date.

- processed\_at\_min







string














Show charges processed after, and including, the given date.

- processed\_at\_max







string














Show charges processed before, and including, the given date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/charges


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next": "next_cursor",
  "previous": "previous_cursor",
  "charges": [\
    {\
      "id": 377749210,\
      "address_id": 42171447,\
      "analytics_data": {\
        "utm_params": [\
          {\
            "utm_source": "facebook",\
            "utm_medium": "cpc"\
          }\
        ]\
      },\
      "billing_address": {\
        "address1": "601 SW Washing St.",\
        "address2": "Suite 101",\
        "city": "Portland",\
        "company": "Acme Corp",\
        "country_code": "US",\
        "first_name": "Jane",\
        "last_name": "Doe",\
        "phone": "888-888-8888",\
        "province": "Oregon",\
        "zip": "97205"\
      },\
      "client_details": {\
        "browser_ip": "192.168.0.1",\
        "user_agent": "safari webkit"\
      },\
      "created_at": "2021-11-09T19:22:13+00:00",\
      "currency": "USD",\
      "customer": {\
        "id": 37657002,\
        "email": "test@test.com",\
        "external_customer_id": {\
          "ecommerce": "2879413682227"\
        },\
        "hash": "7e706455cbd13e40"\
      },\
      "discounts": [\
        {\
          "id": 12345,\
          "code": "TESTCODE10",\
          "value": 10,\
          "value_type": "fixed_amount"\
        }\
      ],\
      "error": null,\
      "error_type": null,\
      "external_order_id": {\
        "ecommerce": "2541635698739"\
      },\
      "external_transaction_id": {\
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"\
      },\
      "has_uncommitted_changes": false,\
      "line_items": [\
        {\
          "purchase_item_id": 63898947,\
          "external_product_id": {\
            "ecommerce": "4381728735283"\
          },\
          "external_variant_id": {\
            "ecommerce": "999999999999"\
          },\
          "grams": 454,\
          "handle": "shirt-package",\
          "images": {\
            "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
            "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
            "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
            "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
          },\
          "original_price": "10.00",\
          "properties": [\
            {\
              "name": "Color",\
              "value": "Blue"\
            }\
          ],\
          "purchase_item_type": "subscription",\
          "quantity": 1,\
          "sku": "TOM0001",\
          "tax_due": "1.30",\
          "tax_lines": [\
            {\
              "price": "0.9931",\
              "rate": "0.0725",\
              "title": "CA State Tax",\
              "unit_price": "0.3310"\
            },\
            {\
              "price": "0.3082",\
              "rate": "0.0225",\
              "title": "LA County Tax",\
              "unit_price": "0.1027"\
            }\
          ],\
          "taxable": true,\
          "taxable_amount": "10.00",\
          "title": "Shirt package",\
          "total_price": "11.30",\
          "unit_price": "10.00",\
          "unit_price_includes_tax": false,\
          "variant_title": "Blue T-shirt"\
        }\
      ],\
      "note": "next order in sequence 3",\
      "order_attributes": [\
        {\
          "name": "Checkout-Method",\
          "value": "delivery"\
        }\
      ],\
      "orders_count": 1,\
      "payment_processor": "stripe",\
      "processed_at": "2021-11-09T23:59:31+00:00",\
      "retry_date": "2021-01-01",\
      "scheduled_at": "2021-12-09",\
      "shipping_address": {\
        "address1": "1030 Barnum Ave",\
        "address2": "Suite 101",\
        "city": "Stratford",\
        "company": "Fake Company",\
        "country_code": "US",\
        "first_name": "Fake First",\
        "last_name": "Fake Last",\
        "phone": "999-999-9999",\
        "province": "Connecticut",\
        "zip": "06614"\
      },\
      "shipping_lines": [\
        {\
          "code": "Standard",\
          "price": "4.90",\
          "source": "shopify",\
          "taxable": true,\
          "tax_lines": [\
            {\
              "price": "0.355",\
              "rate": 0.0725,\
              "title": "CA State Tax"\
            },\
            {\
              "price": "0.110",\
              "rate": 0.0225,\
              "title": "Los Angeles  County Tax"\
            }\
          ],\
          "title": "Standard"\
        }\
      ],\
      "status": "success",\
      "subtotal_price": "10.00",\
      "tags": "Subscription, Subscription Recurring Order",\
      "tax_lines": [\
        {\
          "price": "0.950",\
          "rate": 0.0725,\
          "title": "CA State Tax"\
        },\
        {\
          "price": "0.335",\
          "rate": 0.0225,\
          "title": "Los Angeles  County Tax"\
        }\
      ],\
      "taxable": true,\
      "taxes_included": true,\
      "total_discounts": "10.0",\
      "total_line_items_price": "10.00",\
      "total_price": "11.29",\
      "total_refunds": "0.00",\
      "total_tax": "1.29",\
      "total_weight_grams": 454,\
      "type": "recurring",\
      "updated_at": "2021-11-09T23:59:32+00:00"\
    }\
  ]
}
```

# Apply a discount

Endpoint for adding `Discount` to an existing queued `Charge`.

You cannot add a `Discount` to an existing queued `Charge` if the `Charge` or the associated `Address` already has one.

You can provide either `discount_id` or `discount_code`. If both parameters are passed, the value for `discount_id` will take precedence.

If a `Charge` has a `Discount` and it gets updated, or a regeneration occurs, the `Discount` will be lost. Regeneration is a process that refreshes the `Charge` JSON with new data in the case of the `Subscription` or `Address` being updated.

Scopes:
write\_orders


##### Body Parameters

- discount\_code







string














Code of the `Discount` you want to apply to a `Charge`.

- discount\_id







integer














ID of the `Discount` you want to apply to a `Charge`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/apply\_discount


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/105805051/apply_discount' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"discount_code": "test"}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": "2021-01-01",
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Remove a discount

Remove a `Discount` from a `Charge` without destroying the `Discount`.

## HTTP request examples

`POST /charges/<charge_id>/remove_discount/`

In most cases the `Discount` should be removed from the `Address`. When the `Discount` is removed from the `Address`, the `Discount` is also removed from any future `Charges`.

If the `Discount` is on the parent `Address`, you cannot remove it using `charge_id`. When removing your `Discount`, it is preferable to pass the `address_id` so that the `Discount` stays removed if the `Charge` is regenerated. Only pass `charge_id` in edge cases in which there are two or more `Charges` on a parent `Address` and you only want to remove the `Discount` from one `Charge`. If you pass both parameters, it will remove the `Discount` from the `Address`.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/remove\_discount


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/459904607/remove_discount' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": "2021-01-01",
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Skip a charge

Skip a `Charge`.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/skip


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210/skip' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"purchase_item_ids": [27363808, 27363809]}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": null,
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "skipped",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Unskip a charge

Unskip a `Charge`.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object


- 422




















Unprocessable










Show response object



POST

/charges/{id}/unskip


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210/unskip' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"purchase_item_ids": [27363808]}'
```

Response

200

422


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": null,
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "queued",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Refund a charge

[BigCommerce](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Refund a `Charge`.

After the `POST` request, that particular `Charge` will have `status` parameter updated to `refunded` or `partially_refunded` depending on the value of the `amount` parameter. If `retry` is `true`, `error` and `error_type` are required, the `Charge` will have `status` parameter updated to `error`. This means a new transaction would occur if the charge dunning process succeeds again. This functionality is used when the order submission attempt on the remote platform failed after the transaction succeeded.

Scopes:
write\_orders

write\_payment\_methods


##### Body Parameters

- amount







string





\\* Required














Amount of money that will be refunded. It can be fully or partially refunded.

- full\_refund







boolean














If this parameter has value `true`, the `Charge` will be totally refunded.

- retry







boolean














If this parameter has value `true` and `full_refund` has value `true`, the `Charge` will be retried. The `status` on the `Charge` will be returned as “error”.

- error







string














If the `retry` parameter has value `true`, this value is required. Valid values are “insufficient\_inventory”.

- error\_type







string














If the `retry` parameter has value `true`, this value is required.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/refund


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210/refund' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"amount": 11.00}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "refunded",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "11.29",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Process a charge

Pro only

The charge processing route can be used to process `Charges` that are in a `queued` or `error` status.

Related guides:
[Charges FAQ](https://docs.rechargepayments.com/docs/charges#charges-faq)

The `/charges/{id}/process` endpoint is available to Recharge Pro merchants on a request basis. If you’re interested in leveraging the Recharge `Charge` processing API, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_payments


##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/process


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/100714428/process' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Capture a charge

If you are leveraging the authorize/capture workflow with Recharge, the `charge/{id}/capture_payment` endpoint is how to capture the funds of a previously authorized `Charge`.

## Capture Window

You can only capture payment on `Charges` that have been authorized within the last 7 days. This is a limitation of payment providers/financial institutions and Recharge cannot configure or override this limit. Any `Charges` that are attempted to be captured beyond that 7 day window may result in an error indicating the `Charge` cannot be captured.

As a result, Recharge provides a `charge/uncaptured` `Webhook`. If subscribed, this `Webhook` will notify you of any `Charges` that are not captured 6 days after authorization. Please refer to the [webhooks section](https://developer.getrecharge.com/2021-01/webhooks_endpoints) for more information.

The `/charges/{id}/capture_payment` endpoint is available to Recharge Pro merchants in the Recharge Closed Beta group. If you’re interested in leveraging the Recharge `capture_payment` endpoint, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_customers

write\_orders

write\_payment\_methods

write\_subscriptions


##### Responses

- 200




















Charge captured successfully










Show response object


- 400




















Bad Request










Show response object


- 404




















Not Found










Show response object


- 422




















Unprocessable










Show response object



POST

/charges/{id}/capture\_payment


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/100714428/capture_payment' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200

400

404

422


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Checkouts

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

`Checkouts` allow you to create, update, and process a `Checkout` programmatically. Shipping cost and sales tax determination are automatic functions of the Recharge Checkout resource.

Related guides: [Recharge checkout integrations](https://docs.rechargepayments.com/docs/checkout), [How to use the Checkout resource](https://docs.rechargepayments.com/docs/checkouts#how-to-use-checkout-api)

**Important -** The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Endpoints

POST

/checkouts


GET

/checkouts/{token}


POST

/checkouts


PUT

/checkouts/{token}


GET

/checkouts/{token}/shipping\_rates


POST

/checkouts/{token}/charge


Expand

# The checkout object

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

`Checkouts` resource allows you to create, update, and process a checkout programmatically. Shipping cost and sales tax determination are automatic functions of the Recharge Checkout resource.

The `Checkout` endpoints are only available for BigCommerce and Custom. `Checkouts` on Shopify must go through Shopify.

##### Attributes

- charge\_id







integer














ID for the `Charge` resulting from processing the `Checkout`.

- analytics\_data







object














Urchin Tracking Module (UTM) parameters are used for online marketing campaigns.










Show object attributes


- applied\_discounts







array














`Discount` details, populated once the `Discount` has been applied successfully to the `Checkout`.










Show object attributes


- applied\_shipping\_rate







object














Shipping rates details, populated once the rates have been selected and applied successfully to the `Checkout`.










Show object attributes


- available\_shipping\_rates







array














Shipping rates available for the shipping address provided in the `Checkout`.







`Checkout` object must contain the `shipping_address` before the `available_shipping_rates` are populated.










Show object attributes


- billing\_address







object














Billing `Address` for the `Checkout`.










Show object attributes


- completed\_at







datetime














Timestamp for when the `Checkout` was processed.

- created\_at







datetime














Timestamp for when the `Checkout` was created.

- currency







string














Currency of the `Checkout`.

- email







string














Email address for the `Customer`.

- external\_checkout\_id







string














External checkout reference, if one exists.

- external\_checkout\_source







string














External checkout platform, if one exists.

- external\_customer\_id







object














External customer reference, if one exists.










Show object attributes


- external\_transaction\_id







object














The ID of the associated transaction in a payment processor system (like Stripe).










Show object attributes


- line\_items







array














A list of items included in the `Checkout`







`quantity` and `external_variant_id` are required parameters in `line_items`.










Show object attributes


- note







string














Custom note.

- notification\_preferences







object














Notification preferences for the `Customer`.










Show object attributes


- order\_attributes







array














List of name-value pairs for custom attributes.










Show object attributes


- payment\_processor







string














Name of the payment processor.

- requires\_shipping







boolean














Whether or not the `Checkout` contains items that require shipping.

- shipping\_address







object














Shipping `Address` for the `Checkout`.










Show object attributes


- shipping\_lines







object














Details of shipping rate, cost…










Show object attributes


- subtotal\_price







string














Value of the `Checkout` minus shipping and tax.

- tax\_lines







array














Array of `tax_line` objects.










Show object attributes


- taxable







boolean














Whether the `Checkout` contains items that are taxable.

- taxes\_included







boolean














Whether the tax is included in the price of the items.

- token







string














Unique token for the `Checkout`.

- total\_price







string














Full price of the `Checkout` including shipping and tax.

- total\_tax







string














Tax charged on the `Checkout`.

- updated\_at







datetime














Timestamp for the latest `Checkout` update.


##### Error related attributes

##### More Attributes

The checkout object

```hljs json
{
  "checkout": {
    "charge_id": null,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discounts": [\
      {\
        "amount": "5.00",\
        "applicable": true,\
        "discount_code": "5_DOLLARS_OFF",\
        "non_redeemable_reason": null,\
        "value": "5.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "applied_shipping_rate": {
      "checkout": {
        "subtotal_price": null,
        "total_price": null,
        "total_tax": null
      },
      "code": "Flat rate (3 - 7 Business Days)",
      "delivery_range": null,
      "description": null,
      "handle": "recharge-Flat%20rate%20%283%20-%207%20Business%20Days%29-7.49",
      "name": "Flat rate (3 - 7 Business Days)",
      "phone_required": null,
      "price": "7.49",
      "tax_lines": [],
      "title": "Flat rate (3 - 7 Business Days)"
    },
    "available_shipping_rates": [\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "Flat rate (3 - 7 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-Flat%20rate%20%283%20-%207%20Business%20Days%29-7.49",\
        "name": "Flat rate (3 - 7 Business Days)",\
        "phone_required": null,\
        "price": "7.49",\
        "tax_lines": [],\
        "title": "Flat rate (3 - 7 Business Days)"\
      },\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "3 Days (3 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-3%20Days%20%283%20Business%20Days%29-11.75",\
        "name": "3 Days (3 Business Days)",\
        "phone_required": null,\
        "price": "11.75",\
        "tax_lines": [],\
        "title": "3 Days (3 Business Days)"\
      }\
    ],
    "billing_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "completed_at": null,
    "created_at": "2021-11-16T00:51:28+00:00",
    "currency": "USD",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "<external_cart_id>",
    "external_checkout_source": "custom",
    "external_customer_id": {
      "ecommerce": null,
      "payment_processor": null
    },
    "external_transaction_id": {
      "payment_processor": null
    },
    "line_items": [\
      {\
        "id": 0,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "12345"\
        },\
        "external_variant_id": {\
          "ecommerce": "123456"\
        },\
        "handle": "shirt-with-design",\
        "images": {\
          "small": "https://veryniceimage.jpg"\
        },\
        "properties": [\
          {\
            "name": "size",\
            "value": "xl"\
          }\
        ],\
        "purchase_item_type": "onetime",\
        "quantity": 3,\
        "recurring_unit_price": "12.00",\
        "requires_shipping": true,\
        "sku": null,\
        "subscription_preferences": {\
          "charge_delay": null,\
          "charge_interval_frequency": null,\
          "charge_on_day_of_month": null,\
          "charge_on_day_of_week": null,\
          "number_charges_until_expiration": null,\
          "shipping_interval_frequency": null,\
          "shipping_interval_unit_type": null\
        },\
        "tax_lines": [],\
        "taxable": false,\
        "title": "A Nice Shirt",\
        "total_price": "36.00",\
        "unit_price": "12.00",\
        "variant_title": null,\
        "weight": 340,\
        "weight_unit": "g"\
      }\
    ],
    "note": "flash sale",
    "notification_preferences": {
      "email": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      },
      "sms": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      }
    },
    "order_attributes": {
      "customer_niceness": "very"
    },
    "payment_processor": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "shipping_lines": [\
      {\
        "code": "Flat rate (3 - 7 Business Days)",\
        "price": "7.49",\
        "tax_lines": [],\
        "taxable": false,\
        "title": "Flat rate (3 - 7 Business Days)"\
      }\
    ],
    "subtotal_price": "31.00",
    "tax_lines": [],
    "taxable": false,
    "taxes_included": false,
    "token": "efd5a6b12b984f439ec16ce2a00fb5c3",
    "total_price": "31.00",
    "total_tax": "0.00",
    "updated_at": "2021-11-16T00:51:28+00:00"
  }
}
```

# Create a checkout

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Create a `Checkout`

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Scopes:
write\_checkouts


##### Query Parameters

- get\_shipping\_rates







boolean














If specified as a query parameter, shipping rates will be retrieved and will allow providing applied\_shipping\_rate upon checkout creation.


##### More Parameters

##### Body Parameters

- analytics\_data







object














Urchin Tracking Module (UTM) parameters are used for online marketing campaigns.










Show object attributes


- applied\_discounts







array














`Discount` to apply to the `Checkout`.










Show object attributes


- applied\_shipping\_rate







object














Shipping rates details, populated once the rates have been selected and applied successfully to the `Checkout`.







Important: You can only create a checkout with `applied_shipping_rate` if you pass the query parameter `get_shipping_rates=true` or if you supply a list of shipping rates using `custom_shipping_rate_options`.










Show object attributes


- custom\_shipping\_rate\_options







array














List of available shipping rates to use when selecting a shipping rate with `applied_shipping_rate`. Custom shipping rates will take precedence over any default rates fetched using `get_shipping_rates=true`.










Show object attributes


- billing\_address







object














Billing `Address` for the `Checkout`.










Show object attributes


- currency







string














Currency of the `Checkout`.

- email







string














Email address for the `Customer`.

- external\_checkout\_id







string














External checkout reference, if one exists.

- external\_checkout\_source







string














External checkout platform, if one exists.

- external\_transaction\_id







object














The ID of the associated transaction in a payment processor system (like Stripe).










Show object attributes


- line\_items







array





\\* Required














A list of items included in the `Checkout`







`quantity` and `external_variant_id` are required parameters in `line_items`.










Show object attributes


- note







string














Custom note.

- order\_attributes







array














List of name-value pairs for custom attributes.










Show object attributes


- shipping\_address







object














Shipping `Address` for the `Checkout`.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/checkouts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "analytics_data": {
    "utm_params": [\
      {\
        "utm_campaign": "spring_sale",\
        "utm_content": "textlink",\
        "utm_data_source": "shopify_cookie",\
        "utm_medium": "cpc",\
        "utm_source": "google",\
        "utm_term": "mleko",\
        "utm_timestamp": "2020-03-05T00:00:00"\
      }\
    ]
  },
  "applied_discounts": [\
    {\
      "discount_code": "5_DOLLARS_OFF"\
    }\
  ],
  "billing_address": {
    "address1": "6419 Ocean Front Walk",
    "address2": "Apt 2",
    "city": "Los Angeles",
    "company": "",
    "country_code": "US",
    "first_name": "Novak",
    "last_name": "Djokovic",
    "phone": "1-800-800-8000",
    "province": "California",
    "zip": "90293"
  },
  "email": "somerandomemail@test.com",
  "external_checkout_id": "<external_cart_id>",
  "external_checkout_source": "custom",
  "line_items": [\
    {\
      "external_product_id": {\
        "ecommerce": "12345"\
      },\
      "external_variant_id": {\
        "ecommerce": "123456"\
      },\
      "handle": "shirt-with-design",\
      "images": {\
        "small": "http://small.jpg"\
      },\
      "properties": [\
        {\
          "name": "size",\
          "value": "xl"\
        },\
        {\
          "name": "color",\
          "value": "fuchsia"\
        }\
      ],\
      "quantity": 3,\
      "subscription_preferences": {\
        "charge_interval_frequency": null,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": null,\
        "interval_unit": null,\
        "order_day_of_month": null,\
        "order_day_of_week": null,\
        "order_interval_frequency": null\
      },\
      "tax_lines": [\
        {\
          "price": "0.950",\
          "rate": 0.0725,\
          "title": "CA State Tax"\
        }\
      ]\
    }\
  ],
  "note": "flash sale",
  "order_attributes": {
    "customer_niceness": "very"
  },
  "shipping_address": {
    "address1": "6419 Ocean Front Walk",
    "address2": "Apt 2",
    "city": "Los Angeles",
    "company": "",
    "country_code": "US",
    "first_name": "Novak",
    "last_name": "Djokovic",
    "phone": "1-800-800-8000",
    "province": "California",
    "zip": "90293"
  }
}'
```

Response

200


```hljs json
{
  "checkout": {
    "charge_id": null,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "shopify_cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discounts": [\
      {\
        "amount": "5.00",\
        "applicable": true,\
        "discount_code": "5_DOLLARS_OFF",\
        "non_redeemable_reason": null,\
        "value": "5.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "billing_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "completed_at": null,
    "created_at": "2021-11-16T00:51:28+00:00",
    "currency": "USD",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "f71848585658686-36f6-d9efg8125rogkfdaa",
    "external_checkout_source": "custom",
    "external_customer_id": {
      "ecommerce": null,
      "payment_processor": null
    },
    "external_transaction_id": {
      "payment_processor": null
    },
    "line_items": [\
      {\
        "id": null,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "12345"\
        },\
        "external_variant_id": {\
          "ecommerce": "123456"\
        },\
        "handle": "shirt-with-design",\
        "images": {\
          "small": "http://small.jpg"\
        },\
        "properties": [\
          {\
            "name": "size",\
            "value": "xl"\
          },\
          {\
            "name": "color",\
            "value": "fuchsia"\
          }\
        ],\
        "purchase_item_type": "onetime",\
        "quantity": 3,\
        "requires_shipping": true,\
        "sku": null,\
        "subscription_preferences": {\
          "charge_interval_frequency": null,\
          "cutoff_day_of_month": null,\
          "cutoff_day_of_week": null,\
          "expire_after_specific_number_of_charges": null,\
          "interval_unit": null,\
          "order_day_of_month": null,\
          "order_day_of_week": null,\
          "order_interval_frequency": null\
        },\
        "tax_lines": [],\
        "taxable": false,\
        "title": "A Very Nice Shirt",\
        "total_price": "36.00",\
        "unit_price": "12.00",\
        "variant_title": null,\
        "weight": 340,\
        "weight_unit": "g"\
      }\
    ],
    "note": "flash sale",
    "notification_preferences": {
      "email": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      },
      "sms": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      }
    },
    "order_attributes": {
      "customer_niceness": "very"
    },
    "payment_processor": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "subtotal_price": "31.00",
    "tax_lines": [],
    "taxable": false,
    "taxes_included": false,
    "token": "efd5a6b12b984f439ec16ce2a00fb5c3",
    "total_price": "31.00",
    "total_tax": "0.00",
    "updated_at": "2021-11-16T00:51:28+00:00"
  }
}
```

# Retrieve a checkout

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Retrieve a checkout.

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Scopes:
read\_checkouts


##### Responses

- 200




















successful response










Show response object



GET

/checkouts/{token}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts/6a7c36a1213a4d7fb746e6588fa55005' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

200


```hljs json
{
  "checkout": {
    "charge_id": null,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "shopify_cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discounts": [\
      {\
        "amount": "5.00",\
        "applicable": true,\
        "discount_code": "5_DOLLARS_OFF",\
        "non_redeemable_reason": null,\
        "value": "5.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "applied_shipping_rate": {
      "checkout": {
        "subtotal_price": null,
        "total_price": null,
        "total_tax": null
      },
      "code": "3 Days (3 Business Days)",
      "delivery_range": null,
      "description": null,
      "handle": "recharge-3%20Days%20%283%20Business%20Days%29-11.75",
      "name": "3 Days (3 Business Days)",
      "phone_required": null,
      "price": "11.75",
      "tax_lines": [],
      "title": "3 Days (3 Business Days)"
    },
    "available_shipping_rates": [\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "Flat rate (3 - 7 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-Flat%20rate%20%283%20-%207%20Business%20Days%29-7.49",\
        "name": "Flat rate (3 - 7 Business Days)",\
        "phone_required": null,\
        "price": "7.49",\
        "tax_lines": [],\
        "title": "Flat rate (3 - 7 Business Days)"\
      },\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "3 Days (3 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-3%20Days%20%283%20Business%20Days%29-11.75",\
        "name": "3 Days (3 Business Days)",\
        "phone_required": null,\
        "price": "11.75",\
        "tax_lines": [],\
        "title": "3 Days (3 Business Days)"\
      }\
    ],
    "billing_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "completed_at": null,
    "created_at": "2021-11-16T00:51:28+00:00",
    "currency": "USD",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "<external_cart_id>",
    "external_checkout_source": "headless",
    "external_customer_id": {
      "ecommerce": null,
      "payment_processor": null
    },
    "external_transaction_id": {
      "payment_processor": null
    },
    "line_items": [\
      {\
        "id": null,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "12345"\
        },\
        "external_variant_id": {\
          "ecommerce": "123456"\
        },\
        "handle": "shirt-with-design",\
        "images": {\
          "small": "http://small.jpg"\
        },\
        "properties": [\
          {\
            "name": "size",\
            "value": "xl"\
          }\
        ],\
        "purchase_item_type": "onetime",\
        "quantity": 3,\
        "requires_shipping": true,\
        "sku": null,\
        "subscription_preferences": {\
          "charge_interval_frequency": null,\
          "cutoff_day_of_month": null,\
          "cutoff_day_of_week": null,\
          "expire_after_specific_number_of_charges": null,\
          "interval_unit": null,\
          "order_day_of_month": null,\
          "order_day_of_week": null,\
          "order_interval_frequency": null\
        },\
        "tax_lines": [],\
        "taxable": false,\
        "title": "A Very Nice Shirt",\
        "total_price": "36.00",\
        "unit_price": "12.00",\
        "variant_title": null,\
        "weight": 340,\
        "weight_unit": "g"\
      }\
    ],
    "note": "flash sale",
    "notification_preferences": {
      "email": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      },
      "sms": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      }
    },
    "order_attributes": {
      "customer_niceness": "very"
    },
    "payment_processor": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "subtotal_price": "31.00",
    "tax_lines": [],
    "taxable": false,
    "taxes_included": false,
    "token": "efd5a6b12b984f439ec16ce2a00fb5c3",
    "total_price": "31.00",
    "total_tax": "0.00",
    "updated_at": "2021-11-16T00:51:28+00:00"
  }
}
```

# Update a checkout

You can modify an existing checkout to match the specified parameters.

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Scopes:
write\_checkouts


##### Query Parameters

- get\_shipping\_rates







boolean














If specified as a query parameter, shipping rates will be retrieved and will allow providing applied\_shipping\_rate upon checkout update.


##### More Parameters

##### Body Parameters

- analytics\_data







array














Urchin Tracking Module (UTM) parameters are used for online marketing campaigns.










Show object attributes


- applied\_shipping\_rate







object














Shipping rates details, populated once the rates have been selected and applied successfully to the `Checkout`.







Important: You can only set `applied_shipping_rate` if you have already collected the `available_shipping_rates` by calling `GET /checkout/<checkout_token>/shipping_rates` or if you pass the query parameter `get_shipping_rates=true` when calling this route.



`code`, `price` and `title` are required when setting a custom shipping rate










Show object attributes


- billing\_address







object














Billing address for the checkout.










Show object attributes


- buyer\_accepts\_marketing







boolean














Does the buyer accept marketing, newsletters etc.

- discount\_code







string














Discount code to be used on the checkout, e.g. “DISCOUNT20”.

- currency







string














Currency of the `Checkout`.

- email







string














Email address for the customer.

- external\_checkout\_id







string














Represents the external cart token.

- external\_checkout\_source







string














Represents the source for `external_checkout_id`.

- line\_items







array














`quantity`, `product_id` and `variant_id` are required parameters in line\_items.










Show object attributes


- note







string














Note attribute used to store custom notes.

- partial\_shipping







boolean














When set to true, shipping address validations are reduced to only require country and zip when creating/updating a checkout. The full shipping address including address line 1 must be added to the checkout before processing associated charges. This is helpful for mobile payments.



Related guides: [Mobile payments](https://docs.rechargepayments.com/docs/checkouts#mobile-payments-with-checkout-api)

- order\_attributes







array














Structured custom notes.










Show object attributes


- phone







string














Customer phone number.

- shipping\_address







object














Shipping address for the checkout.







When using mobile payment options, insufficient shipping address data is available until payment intent, which causes validation errors when updating the checkout object.



Related guides: [Checkout mobile payment](https://docs.rechargepayments.com/docs/checkouts#mobile-payments-with-checkout-api)










Show object attributes


- shipping\_line







array














Shipping lines.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/checkouts/{token}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/checkouts/b706eecfd66c45329d3886a02d7515d6' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "line_items": [\
    {\
      "product_id": 4546063663207,\
      "quantity": 6,\
      "variant_id": 3844924611\
    }\
  ]
}'
```

Response

200


```hljs json
{
  "checkout": {
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "shopify_cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discount": {
      "amount": "7.50",
      "applicable": true,
      "non_applicable_reason": "",
      "value": "7.50",
      "value_type": "fixed_amount"
    },
    "billing_address": null,
    "buyer_accepts_marketing": false,
    "charge_id": null,
    "completed_at": null,
    "created_at": "2020-07-10T09:21:46.259352+00:00",
    "currency": "USD",
    "discount_code": "POPUS_25",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "<shopify_cart_token>",
    "external_checkout_source": "shopify",
    "line_items": [\
      {\
        "charge_interval_frequency": 5,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": null,\
        "first_recurring_charge_delay": null,\
        "fulfillment_service": "manual",\
        "image": "//cdn.shopify.com/s/files/1/0279/8387/2103/products/kazan_small.jpg?v=1586451337",\
        "line_price": "30.00",\
        "order_day_of_month": null,\
        "order_day_of_week": null,\
        "order_interval_frequency": 5,\
        "order_interval_unit": "day",\
        "order_interval_unit_type": "day",\
        "original_price": "5.00",\
        "price": "5.00",\
        "product_id": 4546063663207,\
        "product_type": "Milk",\
        "properties": null,\
        "quantity": 6,\
        "recurring_price": "5.00",\
        "requires_shipping": true,\
        "sku": "kRaViCah-1",\
        "tax_code": null,\
        "taxable": false,\
        "title": "Powder Milk",\
        "type": "SUBSCRIPTION",\
        "variant_id": 32165284380775,\
        "variant_title": "1 / Powder",\
        "vendor": "Imlek"\
      }\
    ],
    "note": null,
    "order_attributes": null,
    "payment_processor": null,
    "payment_processor_customer_id": null,
    "payment_processor_transaction_id": null,
    "phone": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": "",
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "shipping_address_validations": {
      "country_is_supported": true,
      "ups": true
    },
    "shipping_line": null,
    "shipping_rate": null,
    "subtotal_price": "22.50",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxes_included": false,
    "token": "b706eecfd66c45329d3886a02d7515d6",
    "total_price": "22.50",
    "total_tax": "0.00",
    "updated_at": "2020-07-10T09:21:46.284703+00:00"
  }
}
```

# Retrieve shipping rates

You can retrieve all shipping rates for a specific checkout.

Scopes:
read\_checkouts


##### Responses

- 200




















successful response










Show response object



GET

/checkouts/{token}/shipping\_rates


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts/6a7c36a1213a4d7fb746e6588fa55005/shipping_rates' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

200


```hljs json
{
  "shipping_rates": [\
    {\
      "checkout": {\
        "subtotal_price": "22.50",\
        "total_price": "42.40",\
        "total_tax": "0.00"\
      },\
      "code": "Standard",\
      "delivery_range": null,\
      "description": null,\
      "handle": "shopify-Standard-19.90",\
      "name": "Standard",\
      "phone_required": false,\
      "price": "19.90",\
      "title": "Standard"\
    }\
  ]
}
```

# Process a checkout

You can process and charge checkout using our API.

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

We support **Stripe**, **Apple Pay**, **Google Pay**, and **Braintree** as payment processor.

If you are using test stripe keys, you can use `tok_visa` as your token.

Related guides: [Mobile payments](https://docs.rechargepayments.com/docs/checkouts#mobile-payments-with-checkout-api)

Scopes:
write\_checkouts


##### Body Parameters

- payment\_processor







string





\\* Required













Possible values:

stripe,

braintree,

authorize










The name of payment processor.

- payment\_token







string





\\* Required














Payment token that will be used in transaction.







For Stripe this field needs to be populated with a payment method.

For Braintree this field needs to be populated with a payment nonce.

- payment\_type







string













Possible values:

CREDIT\_CARD,

PAYPAL,

APPLE\_PAY,

GOOGLE\_PAY,

SEPA\_DEBIT










The payment type used for the `Checkout`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/checkouts/{token}/charge


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts/5a5c19ea31c44641855017f1276db959/process' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "payment_processor": "stripe",
  "payment_token": "<payment_token>",
  "payment_type": "CREDIT_CARD"
}'
```

Response

200


```hljs json
{
  "checkout_charge": {
    "authorization_token": null,
    "charge_id": 258065996,
    "free": false,
    "payment_processor": "stripe",
    "processor_customer_token": "cus_HcbgqiS49fABBg62E",
    "processor_payment_method_token": "pm_lkj3lkl4lk34",
    "payment_processor_transaction_id": "ch_1H3McXJ2zdqHvZaRd191xV2idRt",
    "payment_token": "tok_visa",
    "payment_type": "CREDIT_CARD",
    "status": "successful"
  }
}
```

# Collections

`Collections` allow to create and manage a logical list of `Products` called a `Collection`. A `Collection` contains an ordered list of `Products` and can be used for selective display of `Products` on chosen interfaces or for business logic automation (e.g. `Discounts` definition…).

Endpoints

POST

/collections


GET

/collections/{id}


PUT

/collections/{id}


DELETE

/collections/{id}


GET

/collections


GET

/collection\_products


POST

/collections/{id}/collection\_products-bulk


DELETE

/collections/{id}/collection\_products-bulk


Expand

# The collection object

##### Attributes

- id







integer














Unique numeric identifier for the `Collection`.

- created\_at







datetime














The date and time when the `Collection` was created.

- description







string














The `Collection` description. Used to store a detailed explanation of the `Collection` content and its purpose.

- sort\_order







string













Possible values:

id-asc,

id-desc,

title-asc,

title-desc,

created\_at-asc,

created\_at-desc










The order in which the `Products` in the collection should appear.

- title







string














The title of the `Collection`. A short descriptive definition of the `Collection`.

- type







string













Possible values:

manual










The type of the `Collection`.







`manual` stands for `Collections` which were manually created ie. when the products where explicitly selected to be part of the `Collection`.

- updated\_at







datetime














The date and time when the `Collection` was last updated.


##### Error related attributes

##### More Attributes

The collection object

```hljs json
{
  "id": 4021,
  "created_at": "2021-08-30T17:25:57+00:00",
  "description": "August 2021 cat products new release.",
  "sort_order": "id-desc",
  "title": "Cats Summer Collection",
  "type": "manual",
  "updated_at": "2021-08-30T17:25:57+00:00"
}
```

# Create a collection

Create a `Collection` in Recharge.

Scopes:
write\_products


##### Body Parameters

- description







string





\\* Required














The `Collection` description. Used to store a detailed explanation of the `Collection` content and its purpose.

- sort\_order







string













Default: id-desc









Possible values:

id-asc,

id-desc,

title-asc,

title-desc,

created-asc,

created-desc










The order in which the `Products` in the collection should appear.

- title







string





\\* Required














The title of the `Collection`. A short descriptive definition of the `Collection`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/collections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "description": "cat products new release",
  "title": "Cats Spring 2022"
}
```

Response

200


```hljs json
{
  "collection": {
    "id": 134157,
    "created_at": "2022-03-29T04:57:36+00:00",
    "description": "cat products new release",
    "sort_order": "id-desc",
    "title": "Cats Spring 2022",
    "type": "manual",
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Retrieve a collection

Retrieve one `Collection` using `collection_id`.

Scopes:
read\_products


##### Responses

- 200




















successful response










Show response object


- 404




















Not found










Show response object



GET

/collections/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collections/134157' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200

404


```hljs json
{
  "collection": {
    "id": 134157,
    "created_at": "2022-03-29T04:57:36+00:00",
    "description": "cat products new release",
    "sort_order": "id-desc",
    "title": "Cats Spring 2022",
    "type": "manual",
    "updated_at": "2022-03-29T04:57:36+00:00"
  }
}
```

# Update a collection

Modify an existing `Collection` to match the specified parameters.

Scopes:
write\_products


##### Body Parameters

- description







string














The `Collection` description. Used to store a detailed explanation of the `Collection` content and its purpose.

- sort\_order







string













Possible values:

id-asc,

id-desc,

title-asc,

title-desc,

created-asc,

created-desc










The order in which the `Products` in the collection should appear.

- title







string














The title of the `Collection`. A short descriptive definition of the `Collection`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 404




















Not found










Show response object


- 415




















Unprocessable entity










Show response object



PUT

/collections/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/collections/134157' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"sort_order": "title-asc"}'
```

Response

200

404

415


```hljs json
{
  "collection": {
    "id": 134157,
    "created_at": "2022-03-29T04:57:36+00:00",
    "description": "cats products new release",
    "sort_order": "title-asc",
    "title": "Cats Spring 2022",
    "type": "manual",
    "updated_at": "2022-03-29T05:27:39+00:00"
  }
}
```

# Delete a collection

Delete a `Collection`

For safety and good UX, you can only delete a `Collection` if it is not in use in the Customer Portal

Scopes:
write\_products


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object


- 404




















Not found










Show response object



DELETE

/collections/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/collections/134129' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204

404


```hljs json
{}
```

# List collections

Return a list of `Collections` in your store.

## HTTP request examples

`GET /collections`

`GET /collections?title=Cats`

Scopes:
read\_products


##### Query Parameters

- title







string














The title of the `Collection`. A short descriptive definition of the `Collection`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/collections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "collections": [\
    {\
      "id": 134136,\
      "created_at": "2022-03-28T15:38:27+00:00",\
      "description": "cat products august 2022",\
      "sort_order": "title-asc",\
      "title": "Cats",\
      "type": "manual",\
      "updated_at": "2022-03-28T15:38:27+00:00"\
    },\
    {\
      "id": 134129,\
      "created_at": "2022-03-28T12:27:03+00:00",\
      "description": "kitten accessories soft.",\
      "sort_order": "id-asc",\
      "title": "Soft Kitty",\
      "type": "manual",\
      "updated_at": "2022-02-23T11:27:34+00:00"\
    }\
  ]
}
```

# List collections products

Return a list of the product ids included in `Collections` in your store.

## HTTP request examples

`GET /collection_products`

`GET /collection_products?collection_id=134157`

Scopes:
read\_products


##### Query Parameters

- collection\_id







integer














The id of the `Collection` for which you want to see the products.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 422




















Errors. Unprocessable entity.










Show response object



GET

/collection\_products


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collection_products' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200

422


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "collection_products": [\
    {\
      "collection_id": 111733,\
      "created_at": "2022-03-30T18:12:09+00:00",\
      "external_product_id": "5",\
      "updated_at": "2022-03-30T18:12:09+00:00"\
    },\
    {\
      "collection_id": 111733,\
      "created_at": "2022-02-12T12:53:33+00:00",\
      "external_product_id": "2",\
      "updated_at": "2022-02-12T12:53:33+00:00"\
    },\
    {\
      "collection_id": 111735,\
      "created_at": "2022-02-12T06:46:49+00:00",\
      "external_product_id": "3",\
      "updated_at": "2022-02-12T06:46:49+00:00"\
    }\
  ]
}
```

# Add collection products

Add products to a `Collection` in Recharge.

Scopes:
write\_products


##### Body Parameters

- collection\_products







array





\\* Required














An array of products and their collection definition to be added to the `Collection`.







Important: there is a set limit of 250 products that can be added per request.










Show object attributes



##### More Parameters

##### Responses

- 201




















successful response










Show response object


- 422




















unprocessable entity










Show response object


- 500




















internal server error. (often the external\_product\_id entered does not exist)










Show response object



POST

/collections/{id}/collection\_products-bulk


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/collections/134129/collection_products-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "collection_products": [\
    {\
      "external_product_id": "7"\
      }\
    ]
}'
```

Response

201

422

500


```hljs json
{
  "collection_products": [\
    {\
      "collection_id": 111733,\
      "created_at": "2022-03-29T04:57:36+00:00",\
      "external_product_id": "7",\
      "updated_at": "2022-03-30T18:32:35+00:00"\
    }\
  ]
}
```

# Delete collection products

Removes products from a `Collection` in Recharge.

Scopes:
write\_products


##### Body Parameters

- collection\_products







array





\\* Required














The array of products to be removed from the `Collection` identified by their `external_product_id`.







Important: there is a set limit of 250 products that can be added per request.










Show object attributes



##### More Parameters

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object


- 404




















Not found










Show response object



DELETE

/collections/{id}/collection\_products-bulk


cURLPythonPHPRuby

```hljs js
curl '-X DELETE https://api.rechargeapps.com/collections/134129/collection_products-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "collection_products": [\
    {\
      "external_product_id": "7"\
      }\
    ]
}'
```

Response

204

404


```hljs json
{}
```

# Credits

Retain

The Credit Account object represents a set of positive and negative credit adjustments that when summed equal an available balance. Credit accounts may not have negative balances. A credit account may be associated with a customer, via the customer\_id attribute. A customer may be associated with many credit accounts.

A credit adjustment represents a financial adjustment to the balance of a Credit Account. An adjustment of type ‘credit’ results in an increase in the available balance of a credit account, where an adjustment of type ‘debit’ results in a decrease.

Access to the Credits endpoints are only available for merchants using [Retain](https://getrecharge.com/products/retain/).

Endpoints

GET

/credit\_accounts


GET

/credit\_accounts/{id}


GET

/credit\_adjustments


GET

/credit\_adjustments/{id}


GET

/credit\_accounts/{id}/credit\_adjustments


Expand

# The credit account object

##### Attributes

- id







integer














Unique numeric identifier for the Credit Account

- customer\_id







integer














Unique numeric identifier for the `customer` associated with the `credit_account`.

- available\_balance







string














The dollar amount of available credit in the credit account, in the associated Store’s default currency as configured in Recharge

- created\_at







datetime














The date and time at which the credit account was created.

- currency\_code







string














The currency code for the credit account.

- expires\_at







datetime














The date and time at which the credit account expires, and can no longer be adjusted.

- initial\_value







string














The initial value of the credit account at the time of creation.

- name







string














The name of the credit account

- type







string














The type of the credit account. Accepted values are `rewards` and `manual`.

- updated\_at







datetime














The date and time at which the credit account was last updated.


##### Error related attributes

##### More Attributes

The credit account object

```hljs json
{
  "credit_account": {
    "id": 697470,
    "customer_id": 36885098,
    "available_balance": "10.00",
    "created_at": "2024-07-08T20:40:30+00:00",
    "currency_code": "USD",
    "expires_at": null,
    "initial_value": "1.55",
    "name": "Reward Credit",
    "type": "reward",
    "updated_at": "2024-07-08T20:40:30+00:00"
  }
}
```

# List credit accounts

Return a list of credit accounts.

Scopes:
read\_credit\_accounts


##### Query Parameters

- customer\_id







string














Return the list of credit accounts linked to the given Recharge `customer_id`

- limit







string














The amount of results. Default is 50 while the maximum is 250.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/credit\_accounts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_accounts' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": "eyJzdGFydGluZ19iZWZvcmVfaWQiOjQ5ODg2NywibGFzdF92YWx1ZSI6NDk4ODY3LCJzb3J0X2J5IjoiaWQtZGVzYyIsImN1cnNvcl9kaXIiOiJuZXh0In0",
  "previous_cursor": null,
  "credit_accounts": [\
    {\
      "id": 697470,\
      "customer_id": 36885098,\
      "available_balance": "0.00",\
      "created_at": "2024-07-08T20:40:30+00:00",\
      "currency_code": "USD",\
      "expires_at": null,\
      "initial_value": "0.45",\
      "name": "Reward Credit",\
      "type": "reward",\
      "updated_at": "2024-07-08T20:40:30+00:00"\
    }\
  ]
}
```

# Retrieve a credit account

Retrieve one credit account using `credit_account_id`.

Scopes:
read\_credit\_accounts


##### Responses

- 200




















successful response










Show response object



GET

/credit\_accounts/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_accounts/697470' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "credit_account": {
    "id": 697470,
    "customer_id": 36885098,
    "available_balance": "0.00",
    "created_at": "2024-07-08T20:40:30+00:00",
    "currency_code": "USD",
    "expires_at": null,
    "initial_value": "0.45",
    "name": "Reward Credit",
    "type": "reward",
    "updated_at": "2024-07-08T20:40:30+00:00"
  }
}
```

# List credit adjustments

Retrieve a list of credit adjustments.

Scopes:
read\_credit\_adjustments


##### Query Parameters

- limit







string














The amount of results. Default is 50 while the maximum is 250.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/credit\_adjustments


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_adjustments' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": "eyJzdGFydGluZ19iZWZvcmVfaWQiOjQ4NjY4NDksImxhc3RfdmFsdWUiOjQ4NjY4NDksInNvcnRfYnkiOiJpZC1kZXNjIiwiY3Vyc29yX2RpciI6Im5leHQifQ",
  "previous_cursor": null,
  "credit_adjustments": [\
    {\
      "id": 4866849,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-08-08T04:06:37+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.00",\
      "note": "Amount related with shop order shop.myshopify.com. Address Id: 169902120 Charge Id: 1125729345",\
      "type": "debit",\
      "updated_at": "2024-08-08T04:06:37+00:00"\
    }\
  ]
}
```

# Retrieve a credit adjustment

Retrieve one credit adjustment using `credit_adjustment_id`.

Scopes:
read\_credit\_adjustments


##### Responses

- 200




















successful response










Show response object



GET

/credit\_adjustments/{id}


cURLPythonPHPRuby

```hljs js
curl 'api.rechargeapps.com/credit_adjustments/4866849' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": "eyJzdGFydGluZ19iZWZvcmVfaWQiOjQ4NjY4NDksImxhc3RfdmFsdWUiOjQ4NjY4NDksInNvcnRfYnkiOiJpZC1kZXNjIiwiY3Vyc29yX2RpciI6Im5leHQifQ",
  "previous_cursor": null,
  "credit_adjustments": [\
    {\
      "id": 4866849,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-08-08T04:06:37+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.00",\
      "note": "Amount related with shop order jordans-curious-tomatoes.myshopify.com Address Id: 169902120 Charge Id: 1125729345",\
      "type": "debit",\
      "updated_at": "2024-08-08T04:06:37+00:00"\
    }\
  ]
}
```

# List Credit Adjustments for a Credit Account

Retrieve credit adjustments associated with specific credit account using `credit_account_id`.

Scopes:
read\_credit\_adjustments


##### Query Parameters

- limit







string














The amount of results. Default is 50 while the maximum is 250.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/credit\_accounts/{id}/credit\_adjustments


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_accounts/697470/credit_adjustments' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "credit_adjustments": [\
    {\
      "id": 4866849,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-08-08T04:06:37+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.00",\
      "note": "Amount related with shop order store.myshopify.com Address Id: 169902120 Charge Id: 1125729345",\
      "type": "debit",\
      "updated_at": "2024-08-08T04:06:37+00:00"\
    },\
    {\
      "id": 4719708,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-07-08T20:40:31+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.45",\
      "note": "3% Cash back on curious tomatoes",\
      "type": "credit",\
      "updated_at": "2024-07-08T20:40:31+00:00"\
    }\
  ]
}
```

# Customers

The `Customer` object holds account information. Email is unique on the `Customer`; no two customers for a store can have the same email. `Address` is a child of the `Customer` object. There can be many child `Addresses` on a customer, but only one parent `Customer` per `Address`. ![](https://developer.getrecharge.com/images/customer.png)

Endpoints

POST

/customers


GET

/customers/{id}


PUT

/customers/{id}


DELETE

/customers/{id}


GET

/customers


GET

/customers/{id}/delivery\_schedule


GET

/customers/{id}/credit\_summary


Expand

# The customer object

##### Attributes

- id







integer














Unique numeric identifier for the `Customer`.

- analytics\_data







object














An object containing analytics data associated with the customer.










Show object attributes


- apply\_credit\_to\_next\_recurring\_charge







boolean














A boolean that indicates whether Recharge credits will be applied to the next recurring charge.

- created\_at







datetime














The date and time when the customer was created.

- email







string














The email address of the customer.

- external\_customer\_id







object














An object containing external ids for the customer record.










Show object attributes


- first\_charge\_processed\_at







datetime














Date when first charge was processed for the customer.

- first\_name







string














The customer’s first name.

- has\_payment\_method\_in\_dunning







boolean














A boolean that indicates if the customer has a payment method that is in dunning (failed charge).

- has\_valid\_payment\_method







boolean














Is the payment method valid or not.

- hash







string














The unique string identifier used in a customers portal link.

- last\_name







string














The customer’s last name.

- phone







string














The customer’s phone number.

- subscriptions\_active\_count







integer














The number of active subscriptions on addresses associated with the customer.

- subscriptions\_total\_count







integer














The total number of subscriptions created on addresses associated with the customer.

- subscription\_related\_charge\_streak







integer














The number of consecutive subscription-related charges processed for this customer, while they retain at least one active subscription. When all subscriptions for this customer are cancelled or expired, this value will reset to zero.

- tax\_exempt







boolean














Whether the customer tax exempt or not.

- updated\_at







datetime














The date and time when the customer was last updated.


##### Error related attributes

##### More Attributes

The customer object

```hljs json
{
  "id": 18819267,
  "analytics_data": {
    "utm_params": [\
      {\
        "utm_source": "facebook",\
        "utm_medium": "cpc"\
      }\
    ]
  },
  "created_at": "2018-11-14T08:40:38+00:00",
  "email": "example_mail@gmail.com",
  "external_customer_id": {
    "ecommerce": "126576412310131454"
  },
  "first_charge_processed_at": null,
  "first_name": "Jacob",
  "has_payment_method_in_dunning": false,
  "has_valid_payment_method": false,
  "hash": "18819267b1f9095be98f13a8",
  "last_name": "Bronowski",
  "phone": "+16175551212",
  "subscriptions_active_count": 0,
  "subscriptions_total_count": 1,
  "tax_exempt": false,
  "updated_at": "2020-11-14T08:40:38+00:00"
}
```

# Create a customer

[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Create a customer in Recharge.

If you plan to add payment information, **it must be the tokenized customer representation. We do not accept card data directly**. For Stripe users, please make sure it starts with ‘cus’ and not with a 'tok’, as the 'cus’ is prefix for customer token, and 'tok’ is prefix for payment token.

Creating a customer in Recharge will not create the customer on any other platform at this time.

`write_payment_methods` permission is only required when creating customers with payment token information, or updating payment token information on a customer.

`phone` must be in E.164 format, such as `+16175551212`.

Scopes:
write\_customers

write\_payment\_methods


##### Body Parameters

- email







string





\\* Required














The customer’s email address.

- external\_customer\_id







object














An object containing external ids for the customer record.










Show object attributes


- first\_name







string





\\* Required














The customer’s first name.

- last\_name







string





\\* Required














The customer’s last name.

- phone







string














The customer’s phone number.

- tax\_exempt







boolean














Whether or not the customer is tax exempt.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/customers


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "first_name": "Niels",
  "last_name": "Bohr",
  "email": "fake@example.com"
}
```

Response

200


```hljs json
{
  "customer": {
    "id": 37657002,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "created_at": "2020-02-19T17:40:07+00:00",
    "email": "fake@example.com",
    "external_customer_id": {
      "ecommerce": "2879413682227"
    },
    "first_charge_processed_at": "2020-02-19T17:40:11+00:00",
    "first_name": "Jane",
    "has_payment_method_in_dunning": false,
    "has_valid_payment_method": true,
    "hash": "7e706455cbd13e40",
    "last_name": "Doe",
    "phone": null,
    "subscriptions_active_count": 0,
    "subscriptions_total_count": 0,
    "subscription_related_charge_streak": 0,
    "tax_exempt": false,
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Retrieve a customer

Retrieve one customer using `customer_id`.

Scopes:
read\_customers


##### Responses

- 200




















successful response










Show response object



GET

/customers/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers/37657002' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "customer": {
    "id": 37657002,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "created_at": "2020-02-19T17:40:07+00:00",
    "email": "fake@example.com",
    "external_customer_id": {
      "ecommerce": "2879413682227"
    },
    "first_charge_processed_at": "2020-02-19T17:40:11+00:00",
    "first_name": "Jane",
    "has_payment_method_in_dunning": false,
    "has_valid_payment_method": true,
    "hash": "7e706455cbd13e40",
    "last_name": "Doe",
    "phone": "+16175551212",
    "subscriptions_active_count": 0,
    "subscriptions_total_count": 1,
    "subscription_related_charge_streak": 0,
    "tax_exempt": false,
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Update a customer

Modify an existing `Customer` to match the specified parameters.

For US citizens, parameter `billing_zip` is required when updating customer’s `billing_country` parameter.

`phone` must be in E.164 format, such as `+16175551212`.

Scopes:
write\_customers


##### Body Parameters

- apply\_credit\_to\_next\_recurring\_charge







boolean














A boolean that indicates whether Recharge credits will be applied to the next recurring charge.







This property is dependent upon the store’s credit settings. If a call is made attempting to update this and the store has recurring redemption turned off or set to automatically redeem, the API will return a 422 response.

- email







string














Email address of the customer.

- external\_customer\_id







object














An object containing external ids for the customer record.










Show object attributes


- first\_name







string














Customer’s first name.

- last\_name







string














Customer’s last name.

- phone







string














The customer’s phone number.

- tax\_exempt







boolean














Whether or not the customer is tax exempt.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/customers/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/customers/37657002' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"last_name": "Doe"}'
```

Response

200


```hljs json
{
  "customer": {
    "id": 37657002,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "created_at": "2020-02-19T17:40:07+00:00",
    "email": "fake@example.com",
    "external_customer_id": {
      "ecommerce": "2879413682227"
    },
    "first_charge_processed_at": "2020-02-19T17:40:11+00:00",
    "first_name": "Jane",
    "has_payment_method_in_dunning": false,
    "has_valid_payment_method": true,
    "hash": "7e706455cbd13e40",
    "last_name": "Doe",
    "phone": "+16175551212",
    "subscriptions_active_count": 0,
    "subscriptions_total_count": 1,
    "tax_exempt": false,
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Delete a customer

Customer deletion will automatically cancel and delete all child Address, Subscription, Onetime, etc. resources of that customer to eliminate orphaned child data.

To delete a certain address without deleting the customer you can use the Delete Address endpoint.

Scopes:
write\_customers


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/customers/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/customers/37657002' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List customers

Return a list of customers in your store.

## HTTP request examples

`GET /customers`

`GET /customers?email=example@email.com`

`GET /customers?hash=143806234a9ff87a8d9e`

`GET /customers?limit=250`

`GET /customers?page=2`

`GET /customers?external_customer_id=98273498`

If emails contain special characters such as ‘john+doe@example.com’, you will need to encode them in the URLs, i.e. `?email=john%2Bdoe@example.com`

Scopes:
read\_customers


##### Query Parameters

- email







string














Returns the user linked to the email address provided.

- created\_at\_max







string














Gets all customers created before this date.

- created\_at\_min







string














Gets all customers created after this date.

- hash







string














Returns the user linked to the given recharge customer hash.

- ids







string














Filter customers by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










Number of results.

- page







string





\*Deprecated













Default: 1










Page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- external\_customer\_id







string














Returns the user linked to the given `external_customer_id`.

- updated\_at\_max







string














Gets all customers updated before this date.

- updated\_at\_min







string














Gets all customers updated after this date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/customers


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": "next_cursor",
  "previous_cursor": "previous_cursor",
  "customers": [\
    {\
      "id": 37657002,\
      "analytics_data": {\
        "utm_params": [\
          {\
            "utm_source": "facebook",\
            "utm_medium": "cpc"\
          }\
        ]\
      },\
      "created_at": "2020-02-19T17:40:07+00:00",\
      "email": "fake@example.com",\
      "external_customer_id": {\
        "ecommerce": "2879413682227"\
      },\
      "first_charge_processed_at": "2020-02-19T17:40:11+00:00",\
      "first_name": "Jane",\
      "has_payment_method_in_dunning": false,\
      "has_valid_payment_method": true,\
      "hash": "7e706455cbd13e40",\
      "last_name": "Doe",\
      "phone": "+16175551212",\
      "subscriptions_active_count": 0,\
      "subscriptions_total_count": 1,\
      "tax_exempt": false,\
      "updated_at": "2020-12-17T18:50:39+00:00"\
    }\
  ]
}
```

# Retrieve a customer delivery schedule

Returns the list of projected deliveries in a specific interval.

If several filters are passed in parameters, the most restrictive will dominate.

The maximum length of the future delivery interval is 365 days.

Scopes:
read\_customers


##### Query Parameters

- delivery\_count\_future







integer














The count of delivery objects that should be included that reference projected orders.







Will not return deliveries past 365 days in the future.

- future\_interval







integer














The count of days forward to report deliveries on.







Defaults to store setting or 90. Maximum of 365 days.

- date\_max







string














The end date of the requested delivery schedule.







Cannot be in the past. Cannot exceed 365 days in the future.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/customers/{id}/delivery\_schedule


cURLPythonPHPRuby

```hljs js
curl -X GET 'https://api.rechargeapps.com/customers/37657002/delivery_schedule' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "deliverySchedule": {
    "customer": {
      "id": 73720164,
      "email": "test@example.com",
      "first_name": "Aria",
      "last_name": "Beciu"
    },
    "deliveries": [\
      {\
        "date": "2022-02-07",\
        "orders": [\
          {\
            "id": null,\
            "address_id": 79342717,\
            "charge_id": 507503288,\
            "line_items": [\
              {\
                "subscription_id": 186930285,\
                "external_product_id": {\
                  "ecommerce": "1642443555555"\
                },\
                "external_variant_id": {\
                  "ecommerce": null\
                },\
                "images": {},\
                "is_skippable": true,\
                "is_skipped": false,\
                "is_prepaid": false,\
                "original_price": "17.00",\
                "plan_type": "subscription",\
                "product_title": "Organic coffee beans",\
                "properties": [\
                  {\
                    "name": "shipping_interval_unit_type",\
                    "value": "month"\
                  },\
                  {\
                    "name": "shipping_interval_frequency",\
                    "value": "1"\
                  },\
                  {\
                    "name": "subscription_id",\
                    "value": null\
                  }\
                ],\
                "quantity": 1,\
                "subtotal_price": "17.00",\
                "unit_price": "17.00",\
                "variant_title": "Refill large"\
              }\
            ],\
            "order_subtotal": "17.00",\
            "payment_method": {\
              "id": 769874,\
              "billing_address": {\
                "address1": "90 avenue du Rouergue",\
                "address2": null,\
                "city": "Rodez",\
                "company": null,\
                "country_code": "FR",\
                "first_name": "Diane",\
                "last_name": "Farley",\
                "phone": null,\
                "province": null,\
                "zip": "12000"\
              },\
              "payment_details": {}\
            },\
            "shipping_address": {\
              "address1": "149 Forest Avenue",\
              "address2": null,\
              "city": "New York City",\
              "company": null,\
              "country_code": "US",\
              "first_name": "Aria",\
              "last_name": "Beciu",\
              "phone": "1234567890",\
              "province": "New York",\
              "zip": "10019"\
            }\
          }\
        ]\
      }\
    ]
  }
}
```

# Retrieve a customer's credit summary

Beta

Returns a credit summary for the customer.

Scopes:
read\_credit\_summary


##### Responses

- 200




















successful response










Show response object



GET

/customers/{id}/credit\_summary


cURLPythonPHPRuby

```hljs js
curl -X GET 'https://api.rechargeapps.com/customers/37657002/credit_summary' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "credit_summary": {
    "customer_id": 37657002,
    "total_available_balance": "0.00",
    "currency_code": "USD"
  }
}
```

# Discounts

Discounts can be applied to a `Checkout`, or can be applied directly to an `Address`. Depending on configuration they allow for single use, or recurring discounts. More details on how to add or remove discounts from an `Address` can be found at [Update an address](https://developer.getrecharge.com/2021-11/addresses/update_address).

Often discounts can be used in combination with webhooks, such that when a specific event occurs, it can apply a discount dependent on custom business logic.

There are various options that can be utilized for discounts such as minimum price, single use, recurring for a set number of charges, or ongoing. You can also set the date from which time the discount will become applicable and when it can no longer be applied to a new subscription.

Endpoints

POST

/discounts


GET

/discounts/{id}


PUT

/discounts/{id}


DELETE

/discounts/{id}


GET

/discounts


Expand

# The discount object

##### Attributes

- id







integer














Unique numeric identifier for the discount in Recharge.

- applies\_to







object














An object encompassing data that limits discount application on the basis of an associated record (such as customer, products, etc.).










Show object attributes


- channel\_settings







object














A list of channel objects containing information regarding discount behaviors for each.

If you’re on the SCI Platform, checkout channel will not apply during Shopify checkouts.










Show object attributes


- code







string














The code used to apply the discount.

- created\_at







datetime














The date and time when the discount was created.

- ends\_at







datetime














The expiration timestamp of the discount. Past this time the `Discount` can no longer be redeemed. After `ends_at` the `status` of the `Discount` will go from `active` to `disabled`.







Recurring discounts applied prior to their `ends_at` time will still apply.

- external\_discount\_id







object














An object containing external ids of the discount.










Show object attributes


- first\_time\_customer\_restriction







boolean














Discount can be used on checkout for customer that still don’t exist in Recharge database.

- prerequisite\_subtotal\_min







string














The minimum cart subtotal needed for the discount to be applicable.

- starts\_at







datetime














The date when the discount becomes active.







When not specified on creation `starts_at` will default to `null` which translates into no restrictions.

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










The status of the discount. Value can be:

\\* `enabled` discount is active to be applied

\\* `disabled` discount can’t be applied on new purchases. Discount will remain on existing charges to which it has already been applied.

\\* `fully_disabled` discount can no longer be applied. In addition, `Discount` is removed from every queued charge.







`disabled` and `fully_disabled` can both be reverted to `enabled`. However once a `Discount` has been updated to `fully_disabled` it will be removed from all `Charges` it had been applied to. This removal from `Charges` is irreversible.

- usage\_limits







object














An object containing limitations on a discount based on usage\_counts results










Show object attributes


- updated\_at







datetime














The date and time when the discount was last updated.

- value







string














The discounted value to be applied.

- value\_type







string













Possible values:

fixed\_amount,

percentage,

shipping










Type of discount mechanic.


##### Error related attributes

##### More Attributes

The discount object

```hljs json
{
  "discount": {
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "TEST_DISCOUNT",
    "created_at": "2021-04-01T16:13:53+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": "1642443555555"
    },
    "external_discount_source": null,
    "id": 25463058,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-04-13T22:24:59+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "20.00",
    "value_type": "percent"
  }
}
```

# Create a discount

Create a new discount.

##### Body Parameters

- applies\_to







object














An object encompassing data that limits discount application on the basis of an associated record (such as customer, products, etc.)










Show object attributes


- channel\_settings







object














A list of channel objects containing information regarding discount behaviors for each.

\\* can\_apply: a boolean to indicate if the discount may be applied using the associated channel (defaults to true for all channels).










Show object attributes


- code







string





\\* Required














The code used to apply the discount.

- ends\_at







datetime














The expiration timestamp of the discount. Past this time the `Discount` can no longer be redeemed. After `ends_at` the `status` of the `Discount` will go from `active` to `disabled`.







Recurring discounts applied prior to their `ends_at` time will still apply.

- prerequisite\_subtotal\_min







integer














The minimum cart subtotal needed for the discount to be applicable.

- starts\_at







datetime














The date when the discount becomes `ACTIVE`.







When not specified on creation `starts_at` will default to `null` which translates into no restrictions.

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










The status of the discount.

- usage\_limits







object














Sets the limit on the number of times a discount can be used by all customers.










Show object attributes


- value







string





\\* Required














The discounted value to be applied.

- value\_type







string





\\* Required













Possible values:

fixed\_amount,

percentage,

shipping










The discount type.


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/discounts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/discounts' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "applies_to": {
        "purchase_item_type": "ALL"
    },
    "channel_settings": {
        "api": {
            "can_apply": true
        },
        "checkout_page": {
            "can_apply": true
        },
        "customer_portal": {
            "can_apply": true
        },
        "merchant_portal": {
            "can_apply": true
        }
    },
    "code": "Discount1",
    "status": "enabled",
    "usage_limits": {
        "first_time_customer_restriction": false,
        "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
}'
```

Response

201


```hljs json
{
  "discount": {
    "id": 59568555,
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "Discount1",
    "created_at": "2021-07-26T19:16:17+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": null
    },
    "external_discount_source": null,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-07-26T19:16:17+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
  }
}
```

# Retrieve a discount

Retrieve a single Recharge Discount

##### Responses

- 200




















successful response










Show response object



GET

/discounts/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/discounts/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "discount": {
    "id": 59568555,
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "Discount1",
    "created_at": "2021-07-26T19:16:17+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": null
    },
    "external_discount_source": null,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-07-26T19:16:17+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
  }
}
```

# Update a discount

You can modify an existing discount to match the specified parameters.

##### Body Parameters

- applies\_to







object














An object encompassing data that limits discount application on the basis of an associated record (such as customer, products, etc.)










Show object attributes


- channel\_settings







object














A list of channel objects containing information regarding discount behaviors for each.

\\* can\_apply: a boolean to indicate if the discount may be applied using the associated channel (defaults to true for all channels).










Show object attributes


- code







string














The code used to apply the discount…

- ends\_at







datetime














The expiration timestamp of the discount. Past this time the `Discount` can no longer be redeemed. After `ends_at` the `status` of the `Discount` will go from `active` to `disabled`.







Recurring discounts applied prior to their `ends_at` time will still apply.

- prerequisite\_subtotal\_min







integer














The minimum cart subtotal needed for the discount to be applicable.

- starts\_at







datetime














The date when the discount becomes active.

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










The status of the discount. Value can be:

\\* `enabled` discount is active to be applied

\\* `disabled` discount can’t be applied on new purchases. Discount will remain on existing charges to which it has already been applied.

\\* `fully_disabled` discount can no longer be applied. In addition, `Discount` is removed from every queued charge.







`disabled` and `fully_disabled` can both be reverted to `enabled`. However once a `Discount` has been updated to `fully_disabled` it will be removed from all `Charges` it had been applied to. This removal from `Charges` is irreversible.

- usage\_limits







object














Sets the limit on the number of times a discount can be used by all customers.










Show object attributes


- value







string














The discounted value to be applied.

- value\_type







string













Possible values:

fixed\_amount,

percentage,

shipping










The discount type.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/discounts/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/discounts/11127406' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "usage_limits": {},
  "starts_at": "2021-11-01T00:00:00+00:00"
}'
```

Response

200


```hljs json
{
  "discount": {
    "id": 59568555,
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "Discount1",
    "created_at": "2021-07-26T19:16:17+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": null
    },
    "external_discount_source": null,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-07-26T19:16:17+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
  }
}
```

# Delete a discount

Delete a discount

For safety reasons, to delete a discount you will need to set its status to `fully_disabled`.

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/discounts/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/discounts/12081717' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

204


```hljs json
{}
```

# List discounts

Return a list of discounts in your store.

## HTTP request examples

`GET /discounts`

`GET /discounts?created_at_max=2017-10-01`

`GET /discounts?created_at_max=2017-10-01`

`GET /discounts?created_at_min=2017-10-01`

`GET /discounts?discount_code=Discount`

`GET /discounts?discount_type=percentage`

`GET /discounts?updated_at_min=2017-10-01`

##### Query Parameters

- created\_at\_max







string














Get all discounts created before a specified date.

- created\_at\_min







string














Get all discounts created after a specified date.

- discount\_code







string














Search for a particular discount code.

- value\_type







string













Possible values:

percentage,

fixed\_amount,

shipping










Filter based on type of discount.

- ids







string














Filter discounts by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










Number of results to return.

- page







string





\*Deprecated













Default: 1










Page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










Returns all discounts with status `enabled`, `disabled` or `fully_disabled`.

- updated\_at\_max







string














Get all discounts updated before a specified date.

- updated\_at\_min







string














Get all discounts updated after a specified date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/discounts


cURLPythonPHPRuby

```hljs js
curl -X GET 'https://api.rechargeapps.com/discounts' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "discounts": [\
    {\
      "id": 59568555,\
      "applies_to": {\
        "ids": [],\
        "purchase_item_type": "ALL",\
        "resource": null\
      },\
      "channel_settings": {\
        "api": {\
          "can_apply": true\
        },\
        "checkout_page": {\
          "can_apply": true\
        },\
        "customer_portal": {\
          "can_apply": true\
        },\
        "merchant_portal": {\
          "can_apply": true\
        }\
      },\
      "code": "Discount1",\
      "created_at": "2021-07-26T19:16:17+00:00",\
      "ends_at": null,\
      "external_discount_id": {\
        "ecommerce": null\
      },\
      "external_discount_source": null,\
      "prerequisite_subtotal_min": null,\
      "starts_at": null,\
      "status": "enabled",\
      "updated_at": "2021-07-26T19:16:17+00:00",\
      "usage_limits": {\
        "first_time_customer_restriction": false,\
        "max_subsequent_redemptions": null,\
        "one_application_per_customer": false\
      },\
      "value": "100.00",\
      "value_type": "percentage"\
    }\
  ]
}
```

# Metafields

Metafields allow users to add additional information to other resources. They can be used for adding custom fields to objects, and are useful for storing specialized information.

Endpoints

POST

/metafields


GET

/metafields/{id}


PUT

/metafields/{id}


DELETE

/metafields/{id}


GET

/metafields


Expand

# The metafield object

Metafields feature allows to add additional information to other resources. They can be used for adding custom fields to objects, and are useful for storing specialized information.

You can extend the responses of some of these objects by appending the `include?=metafields` as part of your `GET` request.

cf. [Extending responses](https://developer.getrecharge.com/2021-11/bundle_selections#extending_responses) for more info.

##### Attributes

- id







integer














Unique numeric identifier for the metafield.

- created\_at







datetime














The date and time when the metafield was created.

- description







string














Description of the metafield.

- key







string














The name of the metafield.

- namespace







string














A category or container that differentiates your metadata from other metafields.

- owner\_id







string














Unique numeric identifier of the `owner_resource`.

- owner\_resource







string













Possible values:

address,

store,

customer,

subscription,

order,

charge










Objects which support `Metafields`

- updated\_at







datetime














The date and time when the metafield was last updated.

- value







string














The content of the metafield.

- value\_type







string













Possible values:

string,

integer,

json\_string










The type of the value parameter.


##### Error related attributes

##### More Attributes

The metafield object

```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Create a metafield

Creates a metafield for a specific object.

There is a limit of 50 metafields per `owner_id`.

You need to have `WRITE` rights to the resource you want to create a `Metafield` for.

Scopes:
WRITE\_{target\_resource}


##### Body Parameters

- description







string














Description of the metafield.

- key







string





\\* Required














The name of the metafield.

- namespace







string





\\* Required














A category or container that differentiates your metadata from other metafields.

- owner\_id







string





\\* Required














Unique numeric identifier of the owner resource.

- owner\_resource







string





\\* Required













Possible values:

address,

store,

customer,

subscription,

order,

charge










The owner of the resource.

- value







string





\\* Required














The content of the metafield.

- value\_type







string





\\* Required













Possible values:

string,

integer,

json\_string










The type of the value parameter.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/metafields


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/metafields' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "metafield": {
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_resource": "customer",
    "owner_id": 18301938,
    "value_type": "integer",
    "value": "3103103101"
  }
}'
```

Response

200


```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Retrieve a metafield

Retrieves a single metafield based on a specified id.

## HTTP request examples

`GET /metafields/<metafield_id>`

In addition to that, you can retrieve them by `subscription_id` by using:

`GET /metafields?owner_resource=subscription&owner_id=<subscription_id>`

Scopes:
read\_{target\_resource}


##### Responses

- 200




















successful response










Show response object



GET

/metafields/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/metafields/33' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

200


```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Update a metafield

Updates a metafield based on a specified `owner_resource`.

Scopes:
write\_{target\_resource}


##### Body Parameters

- description







string














Description of the metafield.

- owner\_id







string














Unique numeric identifier of the resource.

- owner\_resource







string













Possible values:

address,

store,

customer,

subscription,

order,

charge










The owner of the resource can be one of the following values: `address`, `store`, `customer`, `subscription`, `order`, `charge`. There may be more objects added in the future.

- value







string














The content of the metafield.

- value\_type







string













Possible values:

string,

integer,

json\_string










The type of the value parameter.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



PUT

/metafields/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/metafields/33' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "metafield": {
    "description": "phone_number_of_customer",
    "owner_id": 18293088,
    "owner_resource": "customer",
    "value": "0333103133",
    "value_type": "integer"
  }
}'
```

Response

201


```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Delete a metafield

Delete a metafield based on a specified id.

Scopes:
write\_{target\_resource}


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/metafields/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/metafields/6' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

204


```hljs json
{}
```

# List metafields

Retrieves a list of metafields.

## HTTP request examples

`GET /metafields?owner_resource=<owner_resource>`

`GET /metafields?owner_resource=subscription&owner_id=<subscription_id>`

`GET /metafields?owner_resource=customer&owner_id=<customer_id>`

`GET /metafields?owner_resource=store&owner_id=<store_id>`

**When getting metafields, you must specify owner\_resource in the URL. It can be `address`, `store`, `customer`, `subscription`, `order`, `charge`**

You can list metafields that are created for all subscription objects using:

`GET /metafields?owner_resource=subscription` \- `**owner_id**` in the response will be the ID of the subscription.

Scopes:
read\_{target\_resource}


##### Query Parameters

- limit







string













Default: 50





Max: 250










Amount of results.

(default:50) (maximum: 250).

- namespace







string














A category or container that differentiates your metadata from other metafields.

- owner\_id







string














Unique numeric identifier of the owner resource.

- owner\_resource







string













Possible values:

address,

store,

customer,

subscription,

order,

charge










The owner of the resource can be one of the following values: `address`, `store`, `customer`, `subscription`, `order`, `charge`. There may be more objects added in the future.

- page







string





\*Deprecated













Default: 1










Page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/metafields


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/metafields' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d owner_resource=address \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": "next_cursor",
  "previous_cursor": "previous_cursor",
  "metafields": [\
    {\
      "id": 33,\
      "created_at": "2018-11-07T14:00:10",\
      "description": "customer_phone_number",\
      "key": "phone_number",\
      "namespace": "personal_info",\
      "owner_id": 18301938,\
      "owner_resource": "customer",\
      "updated_at": "2018-11-07T14:00:10",\
      "value": "3103103101",\
      "value_type": "integer"\
    },\
    {\
      "id": 15,\
      "created_at": "2018-11-05T12:59:30",\
      "description": "desc lorem ipsum",\
      "key": "marjan",\
      "namespace": "nmsp2c",\
      "owner_id": 17868054,\
      "owner_resource": "customer",\
      "updated_at": "2018-11-05T15:48:42",\
      "value": "5",\
      "value_type": "integer"\
    },\
    {\
      "id": 9,\
      "created_at": "2018-11-05T12:47:27",\
      "description": "desc lorem ipsum",\
      "key": "marjan",\
      "namespace": "nmspc",\
      "owner_id": 17868054,\
      "owner_resource": "customer",\
      "updated_at": "2018-11-05T12:47:27",\
      "value": "5",\
      "value_type": "integer"\
    }\
  ]
}
```

# Notifications

The Customer Notifications resource is used to dispatch email notifications to customers within Recharge. The endpoint uses your configured Recharge email templates, and will dispatch an email to the address associated with the indicated `customer_id`. Some email templates require variable values, which are sent through the Customer Notifications resource via the template\_vars attribute. See below examples for all available template types.

Endpoints

POST

/customers/{id}/notifications


Expand

# Send email notification

Sends a notification email to the customer with the `customer_id` indicated in the route. To view the upcoming charge email template, visit the Notifications section in your Recharge Merchant Admin Portal.

Scopes:
write\_notifications


##### Body Parameters

- type







integer





\\* Required














Identifies the type of the notifications. Value can be email only.

- template\_type







string





\\* Required













Possible values:

upcoming\_charge,

get\_account\_access,

shopify\_update\_payment\_information










Identifies the type of the email notifications.

- template\_vars







object














An object containing the necessary template variables for this email template type.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/customers/{id}/notifications


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers/18819267/notifications' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "type": "email",
  "template_type": "upcoming_charge",
  "template_vars":{
    "address_id":1234567890,
    "charge_id":9876543210
  }
}'
```

Response

200


```hljs json
{}
```

# Onetimes

Onetimes represent non-recurring line items on a `QUEUED` `Charge`.

Endpoints

POST

/onetimes


GET

/onetimes/{id}


PUT

/onetimes/{id}


DELETE

/onetimes/{id}


GET

/onetimes


Expand

# The onetime object

##### Attributes

- id







integer














Unique numeric identifier for the `Onetime` purchase.

- address\_id







integer














Unique numeric identifier for the address the `Onetime` Purchase is associated with (cannot be used with `next_charge_scheduled_at`)

- created\_at







datetime














The time the `Onetime` item was first created.

- customer\_id







integer














Unique numeric identifier for the customer the `Onetime` purchase is tied to.

- external\_product\_id







string














An object containing the product id as it appears in external platforms.










Show object attributes


- external\_variant\_id







string














An object containing the variant id as it appears in external platforms.










Show object attributes


- is\_cancelled







boolean














Flag indicating if the the onetime is cancelled.

- next\_charge\_scheduled\_at







datetime














Date of the `Onetime` purchase execution.







Cannot be used with `add_to_next_charge`

- price







string














The price of the item before discounts, taxes, or shipping have been applied.

- product\_title







string














The name of the product in a shop’s catalog.

- properties







array














An array containing key value pairs for any supplementary data.










Show object attributes


- quantity







integer














The number of items in the `Onetime` purchase.

- sku







string














A unique identifier of the item in the fulfillment.

- sku\_override







boolean














Flag that is automatically updated to `true` when SKU is passed on `POST` or `PUT`.







When `sku_override` is `true`, the `sku` on the `Onetime` will be used to generate `Charges` and `Orders`.

When `sku_override` is `false`, Recharge will dynamically fetch the `sku` from the corresponding `external_platform_variant`.

- updated\_at







string














The time the `Onetime` purchase was last updated.

- variant\_title







string














The name of the variant in a shop’s catalog.


##### Error related attributes

##### More Attributes

The onetime object

```hljs json
{
  "onetime": {
    "id": 16909886,
    "address_id": 21317826,
    "customer_id": 18819267,
    "created_at": "2018-11-14T11:20:05+00:00",
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2018-12-17T00:00:00+00:00",
    "price": null,
    "product_title": "SuperKiwi ONETIME",
    "properties": [\
      {\
        "name": "grind",\
        "value": "drip"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2018-11-14T11:20:05+00:00",
    "variant_title": "Blue star"
  }
}
```

# Create a onetime

Create a new `Onetime`.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer





\\* Required














Unique numeric identifier for the address the one time purchase is associated with.

- add\_to\_next\_charge







boolean














Instructs to add the `Onetime` to the next charge scheduled under this `Address`.

- external\_product\_id







object














Unique numeric identifier of the product in external platform.










Show object attributes


- external\_variant\_id







object





\\* Required














Unique numeric identifier of the product variant in external platform.










Show object attributes


- next\_charge\_scheduled\_at







datetime





\\* Required














This will set the charge date of a new Onetime purchase.







Cannot be used with `add_to_next_charge`

- price







string





\\* Required














The price of the product.

- product\_title







string





\\* Required














The name of the product.

- properties







string














List of properties.

- quantity







integer





\\* Required














The quantity of the product.

- sku







string














A unique identifier of the item in the fulfillment.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/onetimes


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/onetimes' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "address_id": 45154492,
  "next_charge_scheduled_at": "2021-12-17",
  "price": 6,
  "product_title": "ABC Shirt",
  "properties": [\
    {\
      "name": "Color",\
      "value": "Blue"\
    },\
    {\
      "name": "Size",\
      "value": "Medium"\
    }\
  ],
  "quantity": 1,
  "external_variant_id": {
      "ecommerce": "3844892483"
  }
}'
```

Response

201


```hljs json
{
  "onetime": {
    "id": 156155818,
    "address_id": 45154492,
    "customer_id": 40565990,
    "created_at": "2021-05-24T19:14:25+00:00",
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",
    "price": "6.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Red"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2021-05-24T19:30:14+00:00",
    "variant_title": "Blue star"
  }
}
```

# Retrieve a onetime

Retrieve a Onetime.

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/onetimes/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/onetimes/16909886' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "onetime": {
    "id": 16909886,
    "address_id": 45154492,
    "created_at": "2021-05-24T19:14:25+00:00",
    "customer_id": 40565990,
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",
    "price": "6.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2021-05-24T19:30:14+00:00",
    "variant_title": "Blue star"
  }
}
```

# Update a onetime

Update an existing `Onetime` item.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer














Unique numeric identifier for the address the `Onetime` Purchase is associated with (cannot be used with `next_charge_scheduled_at`)

- next\_charge\_scheduled\_at







datetime














This will set the charge date of a new `Onetime` purchase.

- price







string














The price of the product.

- product\_title







string














The name of the product.

- properties







array














List of properties.










Show object attributes


- quantity







integer














The quantity of the product.

- external\_variant\_id







object














Unique numeric identifier of the product variant.










Show object attributes


- sku







string














A unique alphanumeric identifier of the item in the fulfillment.

- variant\_title







string














The name of the product variant.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/onetimes/{id}


cURLPythonPHPRuby

```hljs js
curl -x PUT 'https://api.rechargeapps.com/onetimes/16909886' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"quantity": 1}'
```

Response

200


```hljs json
{
  "onetime": {
    "id": 16909886,
    "address_id": 45154492,
    "created_at": "2021-05-24T19:14:25+00:00",
    "customer_id": 40565990,
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",
    "price": "6.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2021-05-24T19:30:14+00:00",
    "variant_title": "Blue star"
  }
}
```

# Delete a onetime

Delete a `Onetime`.

Scopes:
write\_subscriptions


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/onetimes/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/onetimes/16665185' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List onetimes

Returns a list of all `Onetime` products from store.

Scopes:
read\_subscriptions


##### Query Parameters

- address\_id







string














Return the onetimes linked to the given `address_id`.

- address\_ids







string














Return the onetimes linked to the given comma-separated list of `address_ids`.

- created\_at\_max







datetime














Return the onetimes created before the given date.

- created\_at\_min







datetime














Return the onetimes created after the given date.

- customer\_id







string














Return the onetimes linked to the given Recharge `customer_id`.

- include\_cancelled







boolean














If `true` the response will include the cancelled `Onetimes` as well as the others.

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- external\_variant\_id







string














Return the one time purchases linked to the given external platform product `variant_id`.

- updated\_at\_max







datetime














Return the onetimes updated before the given date.

- updated\_at\_min







datetime














Return the onetimes updated after the given date.

- ids







array














Comma-separated list of one time purchase ids to filter.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/onetimes


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/onetimes' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next": "next_cursor",
  "previous": "previous_cursor",
  "onetimes": [\
    {\
      "id": 16909886,\
      "address_id": 45154492,\
      "created_at": "2021-05-24T19:14:25+00:00",\
      "customer_id": 40565990,\
      "external_product_id": {\
        "ecommerce": "4950280863846"\
      },\
      "external_variant_id": {\
        "ecommerce": "32139793137766"\
      },\
      "is_cancelled": false,\
      "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",\
      "price": "6.00",\
      "product_title": "ABC Shirt",\
      "properties": [\
        {\
          "name": "Color",\
          "value": "Blue"\
        }\
      ],\
      "quantity": 1,\
      "sku": "TOM0001",\
      "sku_override": false,\
      "updated_at": "2021-05-24T19:30:14+00:00",\
      "variant_title": "Blue star"\
    }\
  ]
}
```

# Orders

An order is created after a `Charge` is successfully processed. The `Order` contains all the same json data as the `Charge`. In case of a prepaid order creation, the order will be queued for a particular date and submitted on that date to the external platform.

Endpoints

GET

/orders/{id}


POST

/orders/{id}/clone


POST

/orders/{id}/delay


PUT

/orders/{id}


DELETE

/orders/{id}


GET

/orders


Expand

# The order object

##### Attributes

- id







integer














The unique numeric identifier for the order.

- address\_id







integer














The id of the associated `Address` within Recharge.

- billing\_address







object














The billing address at the time the order was created. See `Addresses` for detailed address information.










Show object attributes


- charge







object














An object containing parameters of the `Charge`.










Show object attributes


- client\_details







object














Details of the access method used by the purchase.










Show object attributes


- created\_at







datetime














The date when the order was created.

- currency







string














The currency of the payment used to create the order.

- customer







object














Object that contains information about the `Customer`.










Show object attributes


- discounts







array














An array of `Discounts` associated with the `Order`.










Show object attributes


- external\_cart\_token







string














The cart token as it appears in an external system.

- external\_order\_id







object














An object containing external order ids.










Show object attributes


- external\_order\_number




















An object containing the external order numbers.










Show object attributes


- is\_prepaid







boolean














A boolean representing if this `Order` is generated from a prepaid purchase.

- line\_items







array














A list of `line_item` objects.










Show object attributes


- note







string














Notes associated with the `Order`.

- order\_attributes







array














An array of name value pairs of note attributes on the `Order`.










Show object attributes


- processed\_at







datetime














The date time that the associated charge was processed at.

- scheduled\_at







datetime














The date time of when the associated charge is/was scheduled to process.

- shipping\_address







object














The shipping address where the order will be shipped. See `Addresses` for detailed `Address` information.










Show object attributes


- shipping\_lines







array














An array of shipping lines associated with the order.










Show object attributes


- status







string













Possible values:

success,

error,

queued,

cancelled










The status of creating the `Order`.

- subtotal\_price







string














The subtotal price (sum of all line items \* their quantity) of the order less discounts.

- tags







string














A comma separated list of tags on the `Order`.

- tax\_lines







array














An array of tax lines that apply to the `Order`.










Show object attributes


- taxable







boolean














A boolean indicator of the taxability of the `Order`.

- total\_discounts







string














The total discounted dollar value of the `Order`.

- total\_duties







string














The total cost of duties for the order.

- total\_line\_items\_price







integer














The total price of all line items of the `Order`.

- total\_price







string














The total amount due of the `Order`.

- total\_refunds







string














The total dollar amount of refunds associated with the `Order`.

- total\_tax







string














The total tax due associated with the `Order`.

- total\_weight\_grams







integer














The total weight of the order in grams.

- type







string













Possible values:

checkout,

recurring










An indicator of the order’s type.

- updated\_at







datetime














The date time at which the order was most recently updated.


##### Error related attributes

##### More Attributes

The order object

```hljs json
{
  "order": {
    "id": 70071255,
    "address_id": 4029306,
    "billing_address": {
      "address1": "1933 Manning",
      "address2": "204",
      "city": "los angeles",
      "company": "bootstrap",
      "country_code": "US",
      "first_name": "mike",
      "last_name": "flynn",
      "phone": "3103103101",
      "province": "California",
      "zip": "90025"
    },
    "charge": {
      "id": 97376832,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2018-11-08T08:08:09+00:00",
    "currency": "usd",
    "customer": {
      "id": 12354,
      "email": "example@email.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 123456,\
        "code": "TESTCODE10",\
        "value": "10.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "123496878536413"
    },
    "external_order_number": {
      "ecommerce": "125"
    },
    "hash": "42039120ee0e6cfa5c97805",
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 365974856,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "456123789"\
        },\
        "external_variant_id": {\
          "ecommerce": "4569876413"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2_large.jpeg",\
          "medium": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2_medium.jpeg",\
          "original": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2.jpeg",\
          "small": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2_small.jpeg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "grind",\
            "value": "drip"\
          },\
          {\
            "name": "size",\
            "value": "medium"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 4,\
        "sku": "TOM0001",\
        "tax_due": "3.80",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "unit_price": "0.331",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "unit_price": "0.102",\
            "title": "LA County Tax"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt bundle",\
        "total_price": "43.80",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order #3   - Subscription Recurring Order",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": null,
    "scheduled_at": "2022-11-16T00:00:00+00:00",
    "shipping_address": {
      "address1": "1933 Manning",
      "address2": "204",
      "city": "los angeles",
      "company": "bootstrap",
      "country_code": "US",
      "first_name": "mike",
      "last_name": "flynn",
      "phone": "3103103101",
      "province": "California",
      "zip": "90025"
    },
    "shipping_lines": [\
      {\
        "code": "Standard Shipping",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.360",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "LA County Tax"\
          }\
        ],\
        "title": "Standard Shipping"\
      }\
    ],
    "status": "cancelled",
    "subtotal_price": "40.00",
    "tags": "Prepaid, Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_duties": "0.0",
    "total_line_items_price": "40.00",
    "total_price": "38.22",
    "total_refunds": "0.00",
    "total_tax": "3.32",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-20T13:25:52+00:00"
  }
}
```

# Retrieve an order

Retrieve one `Order` using the Recharge `order_id`.

Scopes:
read\_orders


##### Responses

- 200




















successful response










Show response object



GET

/orders/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/orders/70071255' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "order": {
    "id": 210987092,
    "address_id": 42171447,
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "",
      "city": "Portland",
      "company": "Fake Company Billing",
      "country_code": "US",
      "first_name": "Fake Billing First",
      "last_name": "Fake Billing Last",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "charge": {
      "id": 272382456,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2020-12-17T18:50:25+00:00",
    "currency": "usd",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "27117383938"
    },
    "external_order_number": {
      "ecommerce": "1938"
    },
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "1.30",\
        "title": "Shirt bundle",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": "2020-12-17T18:50:27+00:00",
    "scheduled_at": "2020-12-17T18:50:27+00:00",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_duties": "0.0",
    "total_line_items_price": "10.00",
    "total_price": "14.90",
    "total_refunds": "0.00",
    "total_tax": "10.00",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-17T18:50:27+00:00"
  }
}
```

# Clone an order

You may add additional `Orders` onto a success `Charge` if it has existing prepaid `Orders` by cloning an existing `Order`.

Scopes:
write\_orders


##### Body Parameters

- scheduled\_at







datetime





\\* Required














Date in future when this order will be sent.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/orders/{id}/clone


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/orders/70071255/clone' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"scheduled_at": "2022-11-16"}'
```

Response

201


```hljs json
{
  "order": {
    "id": 210987092,
    "address_id": 42171447,
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "",
      "city": "Portland",
      "company": "Fake Company Billing",
      "country_code": "US",
      "first_name": "Fake Billing First",
      "last_name": "Fake Billing Last",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "charge": {
      "id": 272382456,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2020-12-17T18:50:25+00:00",
    "currency": "usd",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "27117383938"
    },
    "external_order_number": {
      "ecommerce": "1938"
    },
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "1.30",\
        "title": "Shirt bundle",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": "2020-12-17T18:50:27+00:00",
    "scheduled_at": "2020-12-17T18:50:27+00:00",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_duties": "0.0",
    "total_line_items_price": "10.00",
    "total_price": "14.90",
    "total_refunds": "0.00",
    "total_tax": "10.00",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-17T18:50:27+00:00"
  }
}
```

# Delay an order

Delay a prepaid `Order` by one interval

The `id` must be for the next queued `Order` for a prepaid `Subscription`. The `Order` will be delayed by one interval, and all subsequent `Orders` and `Charges` will be shifted by the same amount.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object



POST

/orders/{id}/delay


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/orders/70071255/delay' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "order": {
    "id": 70071255,
    "address_id": 4029306,
    "created_at": "2022-02-04T23:19:52+00:00",
    "currency": "usd",
    "discounts": [],
    "error": null,
    "external_cart_token": null,
    "is_prepaid": true,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "1.30",\
        "title": "Shirt bundle",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": null,
    "order_attributes": [],
    "processed_at": null,
    "scheduled_at": "2023-02-07T05:00:00+00:00",
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "queued",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "0.00",
    "total_duties": "0.0",
    "total_line_items_price": "10.00",
    "total_price": "14.90",
    "total_refunds": "0.00",
    "total_tax": "10.00",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2023-01-05T22:11:46+00:00"
  }
}
```

# Update an order

Updating existing `Order` using the `order_id`.

Scopes:
write\_orders


##### Body Parameters

- billing\_address







object














Billing address details.










Show object attributes


- customer







object














The key values related with customer.










Show object attributes


- line\_items







array














Line item properties can be updated on Prepaid Queued Orders. To change Queued Charges you must change the parent subscription(s) or address.







**Important:** When updating `line_items`, you must provide the entire json block that was in `line_items` before, as the data provided overrides the entire block and only new parameters will remain.










Show object attributes


- external\_order\_id







object














An object containing external order ids.










Show object attributes


- scheduled\_at







datetime














The date when the order will be shipped.

- shipping\_address







object














Shipping address details.










Show object attributes


- status







string













Possible values:

success,

error,

queued,

cancelled










The status of the order


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/orders/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/orders/70071255' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
"billing_address": {
  "city": "Los Angeles",
  "first_name": "mike",
  "last_name": "flynn",
  "zip": "90025"
 }
}'
```

Response

200


```hljs json
{
  "order": {
    "id": 210987092,
    "address_id": 42171447,
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "",
      "city": "Portland",
      "company": "Fake Company Billing",
      "country_code": "US",
      "first_name": "Fake Billing First",
      "last_name": "Fake Billing Last",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "charge": {
      "id": 272382456,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2020-12-17T18:50:25+00:00",
    "currency": "usd",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "27117383938"
    },
    "external_order_number": {
      "ecommerce": "1938"
    },
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.725",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.225",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "0.95",\
        "title": "Shirt bundle",\
        "total_price": "10.95",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": "2020-12-17T18:50:27+00:00",
    "scheduled_at": "2020-12-17T18:50:27+00:00",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.355",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.110",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_line_items_price": "10.00",
    "total_price": "5.37",
    "total_refunds": "0.00",
    "total_tax": "0.47",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-17T18:50:27+00:00"
  }
}
```

# Delete an order

You can delete a scheduled order.

Scopes:
write\_orders


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/orders/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/orders/70071255' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List orders

Returns a list of orders.

## HTTP request examples

`GET /orders`

`GET /orders?customer_id=123`

`GET /orders?address_id=4587216`

`GET /orders?charge_id=45678542`

`GET /orders?created_at_min=2016-05-18&created_at_max=2016-06-18`

Scopes:
read\_orders


##### Query Parameters

- address\_id







string














Filter orders by address.







`GET /orders/?address_id=123` will return all orders for the given `address_id`.

- charge\_id







string














Filter orders by charge.







`GET /orders/?charge_id=123` will return all orders for the given `charge_id`.

- created\_at\_max







datetime














Show orders created before the given date.

- created\_at\_min







datetime














Show orders created after the given date.

- customer\_id







string














Filter orders by customer.







`GET /orders/?customer_id=123` will return all orders for the given `customer_id`

- external\_customer\_id







string














Filter orders by external\_customer\_id.

- external\_order\_id







string














Filter orders by external\_order\_id.

- ids







string














Filter orders by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show. Default is 1.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- scheduled\_at\_max







datetime














Show orders scheduled before the given date.

- scheduled\_at\_min







datetime














Show orders scheduled after the given date.

- has\_external\_order







string














Filter orders with/without external\_order\_id.

- status







string













Possible values:

success,

queued,

error,

refunded,

skipped










Filter orders by status.

- type







string













Possible values:

checkout,

recurring










Filter orders by type.







`GET /api/orders/?type=recurring` will return all orders for the given type.

- purchase\_item\_id







string














Filter orders by subscription or onetime.

- updated\_at\_max







datetime














Show orders updated before the given date.

- updated\_at\_min







datetime














Show orders updated after the given date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/orders


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/orders' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d 'limit=3' -G
```

Response

200


```hljs json
{
  "next": "next_cursor",
  "previous": "previous_cursor",
  "orders": [\
    {\
      "id": 210987092,\
      "address_id": 42171447,\
      "billing_address": {\
        "address1": "601 SW Washing St.",\
        "address2": "",\
        "city": "Portland",\
        "company": "Fake Company Billing",\
        "country_code": "US",\
        "first_name": "Fake Billing First",\
        "last_name": "Fake Billing Last",\
        "phone": "888-888-8888",\
        "province": "Oregon",\
        "zip": "97205"\
      },\
      "charge": {\
        "id": 272382456,\
        "external_transaction_id": {\
          "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"\
        }\
      },\
      "client_details": {\
        "browser_ip": "192.168.0.1",\
        "user_agent": "safari webkit"\
      },\
      "created_at": "2020-12-17T18:50:25+00:00",\
      "currency": "usd",\
      "customer": {\
        "id": 37657002,\
        "email": "test@test.com",\
        "external_customer_id": {\
          "ecommerce": "382028302"\
        },\
        "hash": "7e706455cbd13e40"\
      },\
      "discounts": [\
        {\
          "id": 12345,\
          "code": "TESTCODE10",\
          "value": 10,\
          "value_type": "fixed_amount"\
        }\
      ],\
      "error": null,\
      "external_cart_token": "aeic8101918fs0f8810",\
      "external_order_id": {\
        "ecommerce": "27117383938"\
      },\
      "external_order_number": {\
        "ecommerce": "1938"\
      },\
      "is_prepaid": false,\
      "line_items": [\
        {\
          "purchase_item_id": 63898947,\
          "external_inventory_policy": "decrement_obeying_policy",\
          "external_product_id": {\
            "ecommerce": "4381728735283"\
          },\
          "external_variant_id": {\
            "ecommerce": "999999999999"\
          },\
          "grams": 454,\
          "images": {\
            "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
            "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
            "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
            "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
          },\
          "original_price": "10.00",\
          "properties": [\
            {\
              "name": "Color",\
              "value": "Blue"\
            }\
          ],\
          "purchase_item_type": "subscription",\
          "quantity": 1,\
          "sku": "TOM0001",\
          "tax_lines": [\
            {\
              "price": "0.993",\
              "rate": "0.0725",\
              "title": "CA State Tax",\
              "unit_price": "0.331"\
            },\
            {\
              "price": "0.308",\
              "rate": "0.0225",\
              "title": "LA County Tax",\
              "unit_price": "0.102"\
            }\
          ],\
          "taxable": true,\
          "taxable_amount": "10.00",\
          "tax_due": "1.30",\
          "title": "Shirt bundle",\
          "total_price": "11.30",\
          "unit_price": "10.00",\
          "unit_price_includes_tax": false,\
          "variant_title": "Blue t-shirts"\
        }\
      ],\
      "note": "next order in sequence 3",\
      "order_attributes": [\
        {\
          "name": "subscription_cycle_count_min",\
          "value": "3"\
        }\
      ],\
      "processed_at": "2020-12-17T18:50:27+00:00",\
      "scheduled_at": "2020-12-17T18:50:27+00:00",\
      "shipping_address": {\
        "address1": "1030 Barnum Ave",\
        "address2": "Suite 101",\
        "city": "Stratford",\
        "company": "Fake Company",\
        "country_code": "US",\
        "first_name": "Fake First",\
        "last_name": "Fake Last",\
        "phone": "999-999-9999",\
        "province": "Connecticut",\
        "zip": "06614"\
      },\
      "shipping_lines": [\
        {\
          "code": "Standard",\
          "price": "4.90",\
          "taxable": true,\
          "tax_lines": [\
            {\
              "price": "0.355",\
              "rate": "0.0725",\
              "title": "CA State Tax"\
            },\
            {\
              "price": "0.110",\
              "rate": "0.0225",\
              "title": "Los Angeles County Tax"\
            }\
          ],\
          "title": "Standard"\
        }\
      ],\
      "status": "success",\
      "subtotal_price": "10.00",\
      "tags": "Subscription, Subscription Recurring Order",\
      "tax_lines": [\
        {\
          "price": "0.950",\
          "rate": "0.0725",\
          "title": "CA State Tax"\
        },\
        {\
          "price": "0.335",\
          "rate": "0.0225",\
          "title": "Los Angeles  County Tax"\
        }\
      ],\
      "taxable": true,\
      "total_discounts": "10.00",\
      "total_duties": "0.0",\
      "total_line_items_price": "10.00",\
      "total_price": "14.90",\
      "total_refunds": "0.00",\
      "total_tax": "10.00",\
      "total_weight_grams": 454,\
      "type": "recurring",\
      "updated_at": "2020-12-17T18:50:27+00:00"\
    }\
  ]
}
```

# Payment methods

The `Payment Method` object holds payment and billing information. A `Customer` may be associated with many `Payment Methods`, and an `Addresses` record must be associated with at least one `Payment_method`.

Important - If you see the following error when accessing Payment Methods endpoints: “You do not have sufficient permissions (scopes) for this object”, the token you are using has not been configured with correct access permissions. Update the token to have “Read access” or “Read and Write access” depending on your use case. ![](https://developer.getrecharge.com/images/paymentMethods.png)

Endpoints

POST

/payment\_methods


GET

/payment\_methods/{id}


PUT

/payment\_methods/{id}


DELETE

/payment\_methods/{id}


GET

/payment\_methods


Expand

# The payment method object

The Payment Method object holds payment and billing information. A `Customer` may be associated with many payment methods, and an `Addresses` record must be associated with at least one `Payment Method`.

##### Attributes

- id







integer














The unique payment method id for a customer.

- customer\_id







integer














The Recharge `customer_id`.

- created\_at







datetime














The date and time when the payment method was created.

- default







boolean














If this is the default `Payment_method` for the `Customer`.







`Customer` must have 1 and only 1 default payment `Payment_method`.

- payment\_details







object














Details about the specific payment method







Those details will vary based on the `payment_type`










Show object attributes


- payment\_type







string













Possible values:

CREDIT\_CARD,

PAYPAL,

APPLE\_PAY,

GOOGLE\_PAY,

SEPA\_DEBIT










The type of payment this is.







If passed, must also be accompanied by one of `stripe_customer_token`, `paypal_customer_token` or `authorizedotnet_customer_token` in `processor_payment_method_token`.

- processor\_customer\_token







string














The customer token at the processor.

- processor\_name







string













Possible values:

stripe,

braintree,

authorize,

shopify\_payments,

mollie










This will impact validation on billing\_details.







Currently, `shopify_payments` is in read-only mode and can only be managed by Shopify.

- processor\_payment\_method\_token







string














The payment token at the processor.

- status







string













Possible values:

unvalidated,

valid,

invalid,

empty










State of the `Payment Method`.

- status\_reason







string














The status reason for the payment method.







Often used when `invalid` to provide background details in invalidity.

- updated\_at







datetime














Last time the `Payment_method` was updated.


##### Error related attributes

##### More Attributes

- billing\_address







object














An object with the customer’s address information.










Show object attributes



The payment method object

```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country": "United States",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": 1234
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3ebcBaL6pCx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "retry_date": null,
    "status": null,
    "status_reason": null,
    "taxable": true,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Create a payment method

[BigCommerce](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Create a Payment Method in Recharge.

Scopes:
write\_payment\_methods


##### Body Parameters

- customer\_id







integer





\\* Required














The Recharge `customer_id`.

- default







boolean














If this is the default `Payment Method` for the customer, customer must have 1 and only 1 default `Payment Method`.

- payment\_type







string





\\* Required













Possible values:

CREDIT\_CARD,

PAYPAL,

APPLE\_PAY,

GOOGLE\_PAY,

SEPA\_DEBIT










The type of payment.

- processor\_customer\_token







string





\\* Required














The customer token at the processor.







On Stripe this begins with `cus_`.

- processor\_name







string





\\* Required













Possible values:

stripe,

braintree,

authorize,

shopify\_payments,

mollie










This will impact validation on billing\_details.







Currently, `shopify_payments` is in read-only mode and can only be managed by Shopify.

- processor\_payment\_method\_token







string














The payment token at the processor.


##### More Parameters

- billing\_address







object














An object with the customer’s address information.










Show object attributes


- retry\_charges







boolean














Whether charges associated with this payment method should be retried. If `true` then charges with previous payment-related errors will be set to retry during the next automated processing.


##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/payment\_methods


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/payment_methods' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "customer_id": 62824147,
  "default": true,
  "payment_type": "CREDIT_CARD",
  "processor_customer_token": "cus_JGYtLWi2HS8ymD",
  "processor_name": "stripe",
  "processor_payment_method_token": "pm_34jdshjs"
}'
```

Response

201


```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": "1234"
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3457BaL90Cx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "status": null,
    "status_reason": null,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Retrieve a payment method

Retrieve an existing `Payment Method` using the Recharge `Payment Method` `id`.

Scopes:
read\_payment\_methods


##### Responses

- 200




















successful response










Show response object



GET

/payment\_methods/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/payment_methods/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": "1234"
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3457BaL90Cx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "status": null,
    "status_reason": null,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Update a payment method

[BigCommerce](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Modify an existing `Payment Method`.

Scopes:
write\_payment\_methods


##### Body Parameters

- default







boolean














If this is the default `Payment Method` for the `Customer`.







`Customer` must have 1 and only 1 default payment `Payment_method`.

- processor\_name







string













Possible values:

stripe,

braintree,

authorize,

shopify\_payments,

mollie










This will impact validation on billing\_details.







Currently, `shopify_payments` is in read-only mode and can only be managed by Shopify.

- billing\_address







object














An object with the customer’s address information.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/payment\_methods/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/payment_methods/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"default": true}'
```

Response

200


```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": "1234"
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3457BaL90Cx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "status": null,
    "status_reason": null,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Delete a payment method

[BigCommerce](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Permanently delete a `Payment Method`.

Scopes:
write\_payment\_methods


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/payment\_methods/{id}


cURLPythonPHPRuby

```hljs js
curl --X DELETE 'https://api.rechargeapps.com/payment_methods/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List payment methods

Return a list of payment methods in your store.

## HTTP request examples

`GET /payment_methods`

Scopes:
read\_payment\_methods


##### Query Parameters

- customer\_id







string














Gets all `Payment methods` for this customer.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/payment\_methods


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/payment_methods' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "payment_methods": [\
    {\
      "id": 1234567,\
      "billing_address": {\
        "address1": "123 Washington Street",\
        "address2": "Suite 101",\
        "city": "Los Angeles",\
        "company_name": "Acme Corp",\
        "country_code": "US",\
        "name": "Jane Doe",\
        "phone": "1234567890",\
        "province": "California",\
        "zip": "90210"\
      },\
      "created_at": "2018-11-14T09:00:01",\
      "customer_id": 999123999,\
      "default": true,\
      "payment_details": [\
        {\
          "brand": "visa",\
          "exp_month": 12,\
          "exp_year": 2021,\
          "last4": 1234\
        }\
      ],\
      "payment_type": "CREDIT_CARD",\
      "processor_customer_token": "cus_AB3ebcBaL6pCx9",\
      "processor_name": "stripe",\
      "processor_payment_method_token": "pm_123123",\
      "updated_at": "2018-11-14T09:00:01"\
    }\
  ]
}
```

# Plans

The `Plans` resource is used to create and configure the transactional options for the `Product` (subscription, prepaid, and onetime purchase options) in Recharge. ![](https://developer.getrecharge.com/images/plan.png)

Endpoints

POST

/plans


PUT

/plans/{id}


DELETE

/plans/{id}


GET

/plans


POST

/products/{external\_product\_id}/plans-bulk


PUT

/products/{external\_product\_id}/plans-bulk


DELETE

/products/{external\_product\_id}/plans-bulk


Expand

# The plan object

The `Plan` object is used to create and configure the transactional options for the `Products` in Recharge.

Current transactional options are: subscription, prepaid and onetime.

**Important -** Updating/modifying plans in 2021-11 will impact /products in 2021-01. **These are not cross compatible.** Proceed with caution.

##### Attributes

- id







integer














Unique numeric identifier for the `Plan`.

- channel\_settings







object














An object containing the availability of the plan through various supported channels.










Show object attributes


- created\_at







datetime














The time the plan was created.

- deleted\_at







datetime














If deleted, the time the plan was deleted.

- discount\_amount







string














The discount amount applied to the product `price` when purchased through this `Plan`.







All `Plans` for a product must have the same discount amount.

- discount\_type







string













Possible values:

percentage










Used in combination with discount amount to determine the discount applied on a product price when purchased through this `Plan`.

- external\_plan\_group\_id







string














The id of the selling plan group as it appears in external platforms.

- external\_plan\_id







string














The id of the selling plan as it appears in external platforms.

- external\_plan\_name







string














The name of the selling plan as it appears in external platforms.

- external\_product\_id







object














An object containing the product id as it appears in external platforms.










Show object attributes


- external\_variant\_ids







array














An array of variant ids as they appear in external platforms.

- has\_variant\_restrictions







boolean













Default: false










Whether this plan applies to specific variants of the product

- sort\_order







integer














The number indicating the order which the plan will be in a list of related plans.

- subscription\_preferences







object














An object containing the various subscription preferences associated with this plan.










Show object attributes


- title







string














The title of the plan.







All `Plans` for a product must have the same `title`.

- type







string













Possible values:

subscription,

prepaid,

onetime










The type of the plan.







Products with a `prepaid` plan cannot have plans of other types.

- updated\_at







datetime














The time the plan was last updated.


##### Error related attributes

##### More Attributes

The plan object

```hljs json
{
  "plan": {
    "id": 88237,
    "channel_settings": {
      "api": {
        "display": true
      },
      "checkout_page": {
        "display": true
      },
      "customer_portal": {
        "display": true
      },
      "merchant_portal": {
        "display": true
      }
    },
    "created_at": "2021-07-27T19:07:34+00:00",
    "deleted_at": null,
    "discount_amount": "30.00",
    "discount_type": "percentage",
    "external_plan_group_id": "77695091010",
    "external_plan_id": "690103779650",
    "external_plan_name": "1 week subscription",
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "external_variant_ids": [],
    "has_variant_restrictions": false,
    "sort_order": 1,
    "subscription_preferences": {
      "apply_cutoff_date_to_checkout": false,
      "charge_interval_frequency": 30,
      "cutoff_day_of_month": null,
      "cutoff_day_of_week": null,
      "expire_after_specific_number_of_charges": null,
      "interval_unit": "day",
      "order_day_of_month": 1,
      "order_day_of_week": null,
      "order_interval_frequency": 30
    },
    "title": "Jarred Pickles",
    "type": "subscription",
    "updated_at": "2021-07-27T19:07:34+00:00"
  }
}
```

# Create a plan

Create a `Plan` for a `Product` in Recharge.

Multiple `Plans` may exist for any `Product`, see the `Plan` object for restrictions.

Scopes:
write\_products


##### Body Parameters

- channel\_settings







string














An object containing the availability of the plan through various supported channels.










Show object attributes


- discount\_amount







string














The discount amount applied to the product price when purchased through this plan. All plans for a product must have the same discount amount.







All `Plans` for a product must have the same discount amount.

- discount\_type







string













Possible values:

percentage










Used in combination with discount amount to determine the discount applied on a product price when purchased through this plan. (accepts: percentage)

- external\_product\_id







object





\\* Required














An object containing the product id as it appears in external platforms.










Show object attributes


- sort\_order







integer














The number indicating the order which the plan will be in a list of related plans.

- subscription\_preferences







object





\\* Required














An object containing the various subscription preferences associated with this plan.










Show object attributes


- title







string





\\* Required














The title of the plan.







All `Plans` for a product must have the same `title`.

- type







string





\\* Required













Possible values:

subscription,

prepaid,

onetime










The type of the plan. Products with a prepaid plan cannot have plans of other types.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/plans


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/plans' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "discount_amount": "10",
    "discount_type": "percentage",
    "external_product_id": {
        "ecommerce": "2103271587891"
    },
    "sort_order": 1,
    "subscription_preferences": {
        "charge_interval_frequency": 30,
        "expire_after_specific_number_of_charges": 6,
        "interval_unit": "day",
        "order_day_of_month": 1,
        "order_interval_frequency": 30
    }
    "title": "Concert T-Shirt",
    "type": "subscription",
}'
```

Response

200


```hljs json
{
  "plan": {
    "id": 88237,
    "channel_settings": {
      "api": {
        "display": true
      },
      "checkout_page": {
        "display": true
      },
      "customer_portal": {
        "display": true
      },
      "merchant_portal": {
        "display": true
      }
    },
    "created_at": "2021-07-27T19:07:34+00:00",
    "deleted_at": null,
    "discount_amount": "10",
    "discount_type": "percentage",
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "sort_order": 1,
    "subscription_preferences": {
      "charge_interval_frequency": 30,
      "cutoff_day_of_month": null,
      "cutoff_day_of_week": null,
      "expire_after_specific_number_of_charges": 6,
      "interval_unit": "day",
      "order_day_of_month": 1,
      "order_day_of_week": null,
      "order_interval_frequency": 30
    },
    "title": "Concert TShirt",
    "type": "subscription",
    "updated_at": "2021-07-27T19:07:34+00:00"
  }
}
```

# Update a plan

Update an existing Plan.

Scopes:
write\_products


##### Body Parameters

- channel\_settings







object














An object containing the availability of the plan through various supported channels.










Show object attributes


- discount\_amount







string














The discount amount applied to the product price when purchased through this plan. All plans for a product must have the same discount amount.







All `Plans` for a product must have the same discount amount.

- discount\_type







string













Possible values:

percentage










Used in combination with discount amount to determine the discount applied on a product price when purchased through this plan.

- external\_product\_id







object














An object containing the product id as it appears in external platforms.










Show object attributes


- sort\_order







string














The number indicating the order which the plan will be in a list of related plans.

- subscription\_preferences







object














An object containing the various subscription preferences associated with this plan.










Show object attributes


- title







string














The title of the plan.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/plans/{id}


cURLPythonPHPRuby

```hljs js
curl -x PUT 'https://api.rechargeapps.com/plans/16909886' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"discount_amount": "12.0","title": "Concert T-Shirt"}'
```

Response

200


```hljs json
{
  "plan": {
    "id": 88237,
    "channel_settings": {
      "api": {
        "display": true
      },
      "checkout_page": {
        "display": true
      },
      "customer_portal": {
        "display": true
      },
      "merchant_portal": {
        "display": true
      }
    },
    "created_at": "2021-07-27T19:07:34+00:00",
    "deleted_at": null,
    "discount_amount": "10",
    "discount_type": "percentage",
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "sort_order": 1,
    "subscription_preferences": {
      "charge_interval_frequency": 30,
      "cutoff_day_of_month": null,
      "cutoff_day_of_week": null,
      "expire_after_specific_number_of_charges": 6,
      "interval_unit": "day",
      "order_day_of_month": 1,
      "order_day_of_week": null,
      "order_interval_frequency": 30
    },
    "title": "Concert TShirt",
    "type": "subscription",
    "updated_at": "2021-07-27T19:07:34+00:00"
  }
}
```

# Delete a plan

Delete a plan.

Scopes:
write\_products


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/plans/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/plans/321654' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List plans

Returns a list of all plans from `Store`.

Scopes:
read\_products


##### Query Parameters

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- external\_product\_id







string














Return the `Plans` linked to the `Product` record in Recharge with the indicated `external_product_id`

- ids







string














Filter plans by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- updated\_at\_max







datetime














Return the plans updated before the given date.

- updated\_at\_min







datetime














Return the plans updated after the given date.

- type







string













Possible values:

subscription,

prepaid,

onetime










Return the plans that are of a specific type.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/plans


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/plans' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "plans": [\
    {\
      "id": 88237,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "deleted_at": null,\
      "discount_amount": null,\
      "discount_type": null,\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 1,\
      "subscription_preferences": {\
        "charge_interval_frequency": 30,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": null,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_day_of_week": null,\
        "order_interval_frequency": 30\
      },\
      "title": "Jarred Pickles",\
      "type": "subscription",\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    }\
  ]
}
```

# Bulk create plans

Bulk create new plans.

**There is a limit of 20 plans per request.**

Scopes:
write\_products


##### Body Parameters

- plans







array





\\* Required














An array of plans to be created.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/products/{external\_product\_id}/plans-bulk


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products/2103271587891/plans-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "plans": [\
        {\
            "discount_amount": "10",\
            "discount_type": "percentage",\
            "sort_order": 1,\
            "title": "Concert T-Shirt",\
            "type": "subscription",\
            "subscription_preferences": {\
                "charge_interval_frequency": 30,\
                "expire_after_specific_number_of_charges": 6,\
                "interval_unit": "day",\
                "order_day_of_month": 1,\
                "order_interval_frequency": 30\
            }\
        },\
        {\
            "discount_amount": "10",\
            "discount_type": "percentage",\
            "sort_order": 2,\
            "title": "Concert T-Shirt",\
            "type": "subscription",\
            "subscription_preferences": {\
                "charge_interval_frequency": 60,\
                "expire_after_specific_number_of_charges": 6,\
                "interval_unit": "day",\
                "order_day_of_month": 1,\
                "order_interval_frequency": 60\
            }\
        }\
    ]
 }'
```

Response

200


```hljs json
{
  "plans": [\
    {\
      "id": 88237,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 1,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 30,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 30\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    },\
    {\
      "id": 88238,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 2,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 60,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 60\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    }\
  ]
}
```

# Bulk update plans

Bulk update existing plans.

**There is a limit of 20 plans per request.**

Scopes:
write\_products


##### Body Parameters

- plans







array





\\* Required














An array of plans to be updated. Must provide ID for each plan.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/products/{external\_product\_id}/plans-bulk


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/products/2103271587891/plans-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "plans": [\
        {\
            "id": 88237,\
            "title": "Updated T-Shirt"\
        },\
        {\
            "id": 88238,\
            "title": "Updated T-Shirt"\
        }\
    ]
 }'
```

Response

200


```hljs json
{
  "plans": [\
    {\
      "id": 88237,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 1,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 30,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 30\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    },\
    {\
      "id": 88238,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 2,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 60,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 60\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    }\
  ]
}
```

# Bulk delete plans

Bulk delete existing plans.

**There is a limit of 20 plans per request.**

Scopes:
write\_products


##### Body Parameters

- plans







array





\\* Required














An array of plans to be deleted. Must provide ID for each plan.










Show object attributes



##### More Parameters

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/products/{external\_product\_id}/plans-bulk


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/products/2103271587891/plans-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "plans": [\
        {\
            "id": 88237\
        },\
        {\
            "id": 88238\
        }\
    ]
 }'
```

Response

204


```hljs json
{}
```

# Products

[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Representation of the Products from your catalog in Recharge. ![](https://developer.getrecharge.com/images/product.png)

Endpoints

POST

/products


GET

/products/{external\_product\_id}


PUT

/products/{external\_product\_id}


DELETE

/products/{external\_product\_id}


GET

/products


Expand

# The product object

##### Attributes

- external\_product\_id







string














Unique numeric identifier of the product record in Recharge. The primary id of the record.

- brand







string














The brand name of the product.

- external\_created\_at







datetime














The date and time at which the product was created in an external product catalog.

- external\_updated\_at







datetime














The date and time at which the product was updated in an external product catalog.

- images







array














An array of urls for various sizes of image files.










Show object attributes


- options




















An array of options for the product record, such as size, color, etc.










Show object attributes


- published\_at







datetime














The datetime at which the product became available for purchase. To make the product available, this should be set in the past.

- requires\_shipping







boolean














Indicator of shipping requirement.







Dictates the default for the variants. Can be overriden at the variant level.

- title







string














The title of the product.

- variants







array














An array of variants of the product.







If your PIM does not use variants, create a single variant product.










Show object attributes


- vendor







string














The vendor of the product.


##### Error related attributes

##### More Attributes

The product object

```hljs json
{
  "brand": "Recharge",
  "description": "A cotton shirt with the Recharge logo",
  "external_created_at": "2021-01-01T00:00:00+00:00",
  "external_product_id": "5",
  "external_updated_at": "2021-01-01T00:00:00+00:00",
  "images": [\
    {\
      "small": "https:...",\
      "medium": "https:...",\
      "large": "https:...",\
      "original": "https:...",\
      "sort_order": 2\
    }\
  ],
  "options": [\
    {\
      "name": "Size",\
      "position": 0,\
      "values": [\
        {\
          "label": "small",\
          "position": 0\
        },\
        {\
          "label": "medium",\
          "position": 1\
        },\
        {\
          "label": "large",\
          "position": 2\
        }\
      ]\
    }\
  ],
  "published_at": "2021-01-01:00:00+00:00",
  "requires_shipping": true,
  "title": "Recharge Logo Shirt",
  "variants": [\
    {\
      "external_variant_id": " 9",\
      "dimensions": {\
        "weight": 1234.5\
      },\
      "image": {\
        "small": "https:....jpeg",\
        "medium": "https:....jpeg",\
        "large": "https:....jpeg",\
        "original": "https:....jpeg"\
      },\
      "option_values": [\
        {\
          "label": "small"\
        }\
      ],\
      "requires_shipping": true,\
      "sku": "CLO123",\
      "title": "Recharge Logo Shirt - Small",\
      "taxable": true,\
      "tax_code": "CLOTHING",\
      "prices": {\
        "compare_at_price": "14.22",\
        "unit_price": "12.22"\
      }\
    }\
  ],
  "vendor": "Recharge Apparel Store"
}
```

# Create a product

[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Create a new product in your Recharge Product Catalog. After adding the record, subscription preferences may be added using the Products page of Recharge Admin Portal or you can use the `Plans` resource currently in `Alpha`.

Scopes:
write\_products


##### Body Parameters

- external\_product\_id







object





\\* Required














Unique numeric identifier of the product record in Recharge. The primary id of the record.










Show object attributes


- brand







string














The brand name of the product.

- external\_created\_at







datetime














The date and time at which the product was created in an external product catalog.

- external\_updated\_at







datetime














The date and time at which the product was updated in an external product catalog.

- images







array














An array of urls for various sizes of image files.







`small` is the default picture shown on the checkout. If `small` is not present we render `original`. Please note for better rendering we advise you populate `small`.










Show object attributes


- options











\\* Required














An array of options for the product record, such as size, color, etc.










Show object attributes


- published\_at







datetime














The date and time at which the product became available for purchase. To make the product available, this should be set in the past.

- requires\_shipping







string














Indicator of shipping requirement. If `true` the product associated to the variant needs to be shipped.







This is usually false for digital goods.

- title







string





\\* Required














The title of the product.

- variants







array





\\* Required














An array of variants of the product.







If your PIM does not use variants, create a single variant product.










Show object attributes


- vendor







string





\\* Required














The vendor of the product.


##### More Parameters

##### Responses

- 202




















successful response










Show response object



POST

/products


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products' \
 -H 'X-Recharge-Version: 2021-11'
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "external_product_id": "10",
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "images": [\
        {\
            "small": "https:...",\
            "medium": "https:...",\
            "large": "https:...",\
            "original": "https:...",\
            "sort_order": 2\
        }\
    ],
    "options": [\
        {\
            "name": "Size",\
            "position": 0,\
            "values": [\
                {"label": "small", "position": 0},\
                {"label": "medium", "position": 1},\
                {"label": "large", "position": 2}\
            ]\
        }\
    ],
    "published_at": "2021-01-01:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
        {\
            "external_variant_id": "9",\
            "dimensions": {\
                "weight": 1234.5\
            },\
            "image": {\
              "small": "https:...",\
              "medium": "https:...",\
              "large": "https:...",\
              "original": "https:..."\
            },\
            "option_values": [\
                {\
                    "label": "small"\
                }\
            ],\
            "sku": "CLO123",\
            "title": "Recharge Logo Shirt - Small",\
            "taxable": true,\
            "tax_code": "CLOTHING",\
            "prices": {\
                "compare_at_price": "14.22",\
                "unit_price": "12.22"\
            }\
        }\
    ],
    "vendor": "Recharge Apparel Store"
}'
```

Response

202


```hljs json
{
  "product": {
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "external_created_at": "2021-01-01T00:00:00+00:00",
    "external_product_id": "10",
    "external_updated_at": "2021-01-01T00:00:00+00:00",
    "images": [\
      {\
        "large": "https:...",\
        "medium": "https:...",\
        "original": "https:...",\
        "small": "https:...",\
        "sort_order": 2\
      }\
    ],
    "options": [\
      {\
        "name": "Size",\
        "position": 0,\
        "values": [\
          {\
            "label": "small",\
            "position": 0\
          },\
          {\
            "label": "medium",\
            "position": 1\
          },\
          {\
            "label": "large",\
            "position": 2\
          }\
        ]\
      }\
    ],
    "published_at": "2021-01-01T00:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
      {\
        "dimensions": {\
          "weight": 1234.5,\
          "weight_unit": "lb"\
        },\
        "external_variant_id": "9",\
        "image": {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:..."\
        },\
        "option_values": [\
          {\
            "label": "small"\
          }\
        ],\
        "prices": {\
          "compare_at_price": "14.22",\
          "unit_price": "12.22"\
        },\
        "sku": "CLO123",\
        "tax_code": "CLOTHING",\
        "taxable": true,\
        "title": "Recharge Logo Shirt - Small",\
        "requires_shipping": true\
      }\
    ],
    "vendor": "Recharge Apparel Store"
  }
}
```

# Retrieve a product

[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Retrieves a `Product` from store’s product catalog using the `external_product_id` as lookup id.

Scopes:
read\_products


##### Responses

- 200




















successful response










Show response object



GET

/products/{external\_product\_id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products/10' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "product": {
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "external_created_at": "2021-01-01T00:00:00+00:00",
    "external_product_id": "10",
    "external_updated_at": "2021-01-01T00:00:00+00:00",
    "images": [\
      {\
        "large": "https:...",\
        "medium": "https:...",\
        "original": "https:...",\
        "small": "https:...",\
        "sort_order": 2\
      }\
    ],
    "options": [\
      {\
        "name": "Size",\
        "position": 0,\
        "values": [\
          {\
            "label": "small",\
            "position": 0\
          },\
          {\
            "label": "medium",\
            "position": 1\
          },\
          {\
            "label": "large",\
            "position": 2\
          }\
        ]\
      }\
    ],
    "published_at": "2021-01-01T00:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
      {\
        "dimensions": {\
          "weight": 1234.5,\
          "weight_unit": "lb"\
        },\
        "external_variant_id": "9",\
        "image": {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:..."\
        },\
        "option_values": [\
          {\
            "label": "small"\
          }\
        ],\
        "prices": {\
          "compare_at_price": "14.22",\
          "unit_price": "12.22"\
        },\
        "sku": "CLO123",\
        "tax_code": "CLOTHING",\
        "taxable": true,\
        "title": "Recharge Logo Shirt - Small",\
        "requires_shipping": true\
      }\
    ],
    "vendor": "Recharge Apparel Store"
  }
}
```

# Update a product

[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Update an existing product.

Scopes:
write\_products


##### Body Parameters

- brand







string














The brand name of the product.

- external\_created\_at







datetime














The date and time at which the product was created in an external product catalog.

- external\_updated\_at







datetime














The date and time at which the product was updated in an external product catalog.

- images







array














An array of urls for various sizes of image files.










Show object attributes


- options




















An array of options for the product record, such as size, color, etc.










Show object attributes


- published\_at







datetime














The datetime at which the product became available for purchase. To make the product available, this should be set in the past.

- requires\_shipping







boolean














Indicator of shipping requirement. If `true` the product associated to the variant needs to be shipped.







This is usually `false` for digital goods.

- title







string














The title of the product.

- variants







array














An array of variants of the product.







If your PIM does not use variants, create a single variant product.










Show object attributes


- vendor







string














The vendor of the product.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/products/{external\_product\_id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/products/1327844' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "brand": "Recharge",
    "variants": [\
        {\
            "external_variant_id": "101",\
            "dimensions": {\
                "weight": 1234.5\
            },\
            "image": {\
              "small": "https:...",\
              "medium": "https:...",\
              "large": "https:...",\
              "original": "https:..."\
            },\
            "option_values": [{\
              "label": "small"\
            }],\
            "sku": "CLO123",\
            "title": "Small Recharge Logo Shirt",\
            "taxable": true,\
            "tax_code": "CLOTHING",\
            "prices": {\
                "compare_at_price": "14.22",\
                "unit_price": "12.22"\
            }\
        },\
        {\
            "external_variant_id": "102",\
            "dimensions": {\
                "weight": 1234.5\
            },\
            "image": {\
              "small": "https:...",\
              "medium": "https:...",\
              "large": "https:...",\
              "original": "https:..."\
            },\
            "option_values": [{\
              "label": "medium"\
            }],\
            "sku": "CLO124",\
            "title": "Medium Recharge Logo Shirt",\
            "taxable": true,\
            "tax_code": "CLOTHING",\
            "prices": {\
                "compare_at_price": "14.22",\
                "unit_price": "12.22"\
            }\
        }\
    ]
}'
```

Response

200


```hljs json
{
  "product": {
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "external_created_at": "2021-01-01T00:00:00+00:00",
    "external_product_id": "10",
    "external_updated_at": "2021-01-01T00:00:00+00:00",
    "images": [\
      {\
        "large": "https:...",\
        "medium": "https:...",\
        "original": "https:...",\
        "small": "https:...",\
        "sort_order": 2\
      }\
    ],
    "options": [\
      {\
        "name": "Size",\
        "position": 0,\
        "values": [\
          {\
            "label": "small",\
            "position": 0\
          },\
          {\
            "label": "medium",\
            "position": 1\
          },\
          {\
            "label": "large",\
            "position": 2\
          }\
        ]\
      }\
    ],
    "published_at": "2021-01-01T00:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
      {\
        "dimensions": {\
          "weight": 1234.5,\
          "weight_unit": "lb"\
        },\
        "external_variant_id": "9",\
        "image": {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:..."\
        },\
        "option_values": [\
          {\
            "label": "small"\
          }\
        ],\
        "prices": {\
          "compare_at_price": "14.22",\
          "unit_price": "12.22"\
        },\
        "sku": "CLO123",\
        "tax_code": "CLOTHING",\
        "taxable": true,\
        "title": "Recharge Logo Shirt - Small",\
        "requires_shipping": true\
      }\
    ],
    "vendor": "Recharge Apparel Store"
  }
}
```

# Delete a product

[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

Delete product from `Store`.

Scopes:
write\_products


##### Responses

- 204




















successful response










Show response object



DELETE

/products/{external\_product\_id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/products/509780' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List products

[Custom](https://developer.getrecharge.com/2021-11/bundle_selections#tags_legend)

List products from store’s product catalog.

Scopes:
read\_products


##### Query Parameters

- external\_product\_ids







string














Filter products by external product ids.







`GET /products/?external_product_ids=123,223` will return all products with the associated `external_product_ids`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/products


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "products": [\
    {\
      "brand": "Recharge",\
      "description": "A cotton shirt with the Recharge logo",\
      "external_created_at": null,\
      "external_product_id": "10",\
      "external_updated_at": "2021-07-21T17:25:46+00:00",\
      "images": [\
        {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:...",\
          "sort_order": 2\
        }\
      ],\
      "options": [\
        {\
          "name": "Size",\
          "position": 0,\
          "values": [\
            {\
              "label": "small",\
              "position": 0\
            },\
            {\
              "label": "medium",\
              "position": 1\
            },\
            {\
              "label": "large",\
              "position": 2\
            }\
          ]\
        }\
      ],\
      "published_at": "2021-01-01T00:00:00+00:00",\
      "requires_shipping": true,\
      "title": "Recharge Logo Shirt",\
      "variants": [\
        {\
          "dimensions": {\
            "weight": 1234.5,\
            "weight_unit": "lb"\
          },\
          "external_variant_id": "101",\
          "image": {\
            "large": "https:...",\
            "medium": "https:...",\
            "original": "https:...",\
            "small": "https:..."\
          },\
          "option_values": [\
            {\
              "label": "small"\
            }\
          ],\
          "prices": {\
            "compare_at_price": "14.22",\
            "unit_price": "12.22"\
          },\
          "sku": "CLO123",\
          "tax_code": "CLOTHING",\
          "taxable": true,\
          "title": "Small Recharge Logo Shirt",\
          "requires_shipping": true\
        },\
        {\
          "dimensions": {\
            "weight": 1234.5,\
            "weight_unit": "lb"\
          },\
          "external_variant_id": "102",\
          "image": {\
            "large": "https:...",\
            "medium": "https:...",\
            "original": "https:...",\
            "small": "https:..."\
          },\
          "option_values": [\
            {\
              "label": "medium"\
            }\
          ],\
          "prices": {\
            "compare_at_price": "14.22",\
            "unit_price": "12.22"\
          },\
          "sku": "CLO124",\
          "tax_code": "CLOTHING",\
          "taxable": true,\
          "title": "Medium Recharge Logo Shirt",\
          "requires_shipping": true\
        }\
      ],\
      "vendor": "Recharge Apparel Store"\
    }\
  ]
}
```

# Retention Strategies

Retention Strategies are customer retention workflows that are used to win back customers who are in the process of canceling their subscription. The workflow is determined by the cancellation reason selected by the customer.

Endpoints

POST

/retention\_strategies


GET

/retention\_strategies/{id}


PUT

/retention\_strategies/{id}


DELETE

/retention\_strategies/{id}


GET

/retention\_strategies


Expand

# The retention strategy object

The `RetentionStrategy` object holds a cancellation reason and an optional customer retention workflow. Possible retention workflows include delaying a shipment, skipping a shipment, swapping a product, and offering a discount.

##### Attributes

- id







integer














Unique numeric identifier for the `RetentionStrategy`.

- cancellation\_flow\_type







string













Possible values:

subscription,

membership










The type of `PurchaseItem` that the retention strategy applies to. The default value is “subscription”.

- created\_at







datetime














The date and time the `RetentionStrategy` was created.

- discount\_code







string














Discount code to offer customer when used with an `incentive_type` of `discount`.

- incentive\_type







string













Possible values:

delay\_subscription,

discount,

skip\_charge,

swap\_product










Type of incentive to offer customer.

- prevention\_text







string














A short phrase or question to ask for more details or to provide an alternative to canceling.

- reason







string














The reason for canceling.

- updated\_at







datetime














The date and time the `RetentionStrategy` was last updated.


##### Error related attributes

##### More Attributes

The retention strategy object

```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "created_at": "2021-07-31T20:45:00+00:00",
    "discount_code": null,
    "incentive_type": "swap_product",
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "updated_at": "2021-07-31T20:45:00+00:00"
  }
}
```

# Create a retention strategy

Create a retention strategy

Scopes:
write\_retention\_strategies


##### Body Parameters

- cancellation\_flow\_type







string













Possible values:

subscription,

membership










The type of `PurchaseItem` that the retention strategy applies to. The default value is “subscription”.

- incentive\_type







string













Possible values:

delay\_subscription,

discount,

skip\_charge,

swap\_product










Type of incentive to offer customer.

- discount\_code







string














Discount code to offer customer when used with an `incentive_type` of `discount`.







This field is required when `incentive_type` is set to `discount`.

- prevention\_text







string





\\* Required














A short phrase or question to ask for more details or to provide an alternative to canceling.

- reason







string





\\* Required














The reason for canceling.


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/retention\_strategies


cURLPythonPHPRuby

```hljs js
curl -X POST -i 'https://api.rechargeapps.com/retention_strategies' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -d '{
  "incentive_type": "swap_product",
  "prevention_text": "Would you like to swap the product out for another item?",
  "reason": "I want a different product or variety"
}'
```

Response

201


```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "incentive_type": "swap_product",
    "discount_code": null,
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "created_at": "2021-07-31T20:45:00+00:00",
    "updated_at": "2021-10-30T07:14:21+00:00"
  }
}
```

# Retrieve a retention strategy

Retrieve a retention strategy using the Recharge `retention_strategy_id`.

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/retention\_strategies/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/retention_strategies/12345' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "incentive_type": "swap_product",
    "discount_code": null,
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "created_at": "2021-07-31T20:45:00+00:00",
    "updated_at": "2021-07-31T20:45:00+00:00"
  }
}
```

# Update a retention strategy

Update an existing retention strategy.

Scopes:
write\_retention\_strategies


##### Body Parameters

- cancellation\_flow\_type







string













Possible values:

subscription,

membership










The type of `PurchaseItem` that the retention strategy applies to. The default value is “subscription”.

- incentive\_type







string













Possible values:

delay\_subscription,

discount,

skip\_charge,

swap\_product










Type of incentive to offer customer.

- discount\_code







string














Discount code to offer customer when used with an `incentive_type` of `discount`.







This field is required when `incentive_type` is set to `discount`.

- prevention\_text







string














A short phrase or question to ask for more details or to provide an alternative to canceling.

- reason







string














The reason for canceling.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/retention\_strategies/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/retention_strategies/12345' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"reason": "I want a different product or variety"}'
```

Response

200


```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "incentive_type": "swap_product",
    "discount_code": null,
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "created_at": "2021-07-31T20:45:00+00:00",
    "updated_at": "2021-07-31T20:45:00+00:00"
  }
}
```

# Delete a retention strategy

Delete a retention strategy.

Scopes:
write\_retention\_strategies


##### Responses

- 204




















successful response










Show response object



DELETE

/retention\_strategies/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/retention_strategies/12345' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List retention strategies

Retrieve all retention strategies

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/retention\_strategies


cURLPythonPHPRuby

```hljs js
curl -X GET -i 'https://api.rechargeapps.com/retention_strategies' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json"
```

Response

200


```hljs json
{
  "retention_strategies": [\
    {\
      "id": 12347,\
      "cancellation_flow_type": "subscription",\
      "incentive_type": null,\
      "discount_code": null,\
      "prevention_text": "Would you care to provide any additional details?",\
      "reason": "This was created by accident",\
      "created_at": "2021-11-09T16:00:00+00:00",\
      "updated_at": "2021-11-09T16:00:00+00:00"\
    },\
    {\
      "id": 12346,\
      "cancellation_flow_type": "subscription",\
      "incentive_type": "skip_charge",\
      "discount_code": null,\
      "prevention_text": "If you have more than you need, we can skip your upcoming order.",\
      "reason": "I already have more than I need",\
      "created_at": "2021-10-30T07:14:21+00:00",\
      "updated_at": "2021-10-30T07:14:21+00:00"\
    },\
    {\
      "id": 12345,\
      "cancellation_flow_type": "subscription",\
      "incentive_type": "swap_product",\
      "discount_code": null,\
      "prevention_text": "Would you like to swap the product out for another item?",\
      "reason": "I want a different product or variety",\
      "created_at": "2021-07-31T20:45:00+00:00",\
      "updated_at": "2021-07-31T20:45:00+00:00"\
    }\
  ]
}
```

# Store

The store endpoint includes ReCharge settings and other store specific information.

Endpoints

GET

/store


Expand

# The store object

The store endpoint includes Recharge settings and other store specific information.

##### Attributes

- id







integer














Unique number identifier of the store.

- checkout\_logo\_url







string














Checkout logo url.

- checkout\_platform







string














Checkout platform.

- created\_at







datetime














Date and time when the store is created.

- currency







string














Currency of the store.







Related guides: [Supported currencies](https://support.rechargepayments.com/hc/en-us/articles/360037897534-Supported-currencies)

- customer\_portal\_base\_url







string














Customer Portal Base URL.

- default\_api\_version







integer














Default API version.

- email







string














E-mail address of the store owner.

- enabled\_presentment\_currencies







array














Enabled currencies the store sells in.

- enabled\_presentment\_currencies\_symbols







array














Currency symbol used for enabled currencies the store sells in.










Show object attributes


- disabled\_currencies\_historical







array














A ledger of currencies that the store no longer sells in. If a currency is present in both the enabled\_presentment\_currencies and disabled\_currencies\_historical ledger it is because it was disabled at one point in time but is now enabled.

- external\_platform







string














External platform connected to Recharge.







Will be one of `shopify`, `big_commerce`, `headless`, or `magento`

- identifier







string














Unique identifier of the store on the external platform.

- merchant\_portal\_base\_url







string














Merchant portal base URL.

- name







string














Name of the store.

- phone







string














Phone number of the store owner.

- timezone







object














Timezone of the store.










Show object attributes


- updated\_at







datetime














The date and time when the address was last updated.

- weight\_unit







string














Weight unit for the store.


##### Error related attributes

##### More Attributes

The store object

```hljs json
{
  "store": {
    "id": 89559201,
    "checkout_logo_url": null,
    "checkout_platform": "recharge",
    "created_at": "2020-07-15T00:00:00+00:00",
    "currency": "USD",
    "customer_portal_base_url": null,
    "default_api_version": "2021-01",
    "email": "email@email.com",
    "external_platform": "shopify",
    "identifier": "store-id",
    "merchant_portal_base_url": null,
    "name": "store-name",
    "phone": "5555555555",
    "enabled_presentment_currencies": [\
      "USD"\
    ],
    "enabled_presentment_currencies_symbols": [\
      {\
        "currency": "USD",\
        "location": "before",\
        "suffix": "",\
        "symbol": "$"\
      }\
    ],
    "disabled_currencies_historical": [],
    "timezone": {
      "iana_name": "America/New_York",
      "name": "(GMT-05:00) Eastern Time (US & Canada)"
    },
    "updated_at": "2020-07-15T00:00:00+00:00",
    "weight_unit": "g"
  }
}
```

# Retrieve a store

Retrieve store details.

Scopes:
read\_store


##### Responses

- 200




















successful response










Show response object



GET

/store


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/store' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "store": {
    "id": 4797,
    "checkout_logo_url": null,
    "checkout_platform": "recharge",
    "created_at": "2020-04-22T00:20:52+00:00",
    "currency": "USD",
    "customer_portal_base_url": null,
    "default_api_version": "2021-01",
    "email": "email@email.com",
    "enabled_presentment_currencies": [\
      "USD"\
    ],
    "enabled_presentment_currencies_symbols": [\
      {\
        "currency": "USD",\
        "location": "before",\
        "suffix": "",\
        "symbol": "$"\
      }\
    ],
    "disabled_currencies_historical": [],
    "external_platform": "custom",
    "identifier": "store-id",
    "merchant_portal_base_url": null,
    "name": "store-name",
    "province": "Connecticut",
    "phone": "5555555555",
    "timezone": {
      "iana_name": "America/New_York",
      "name": "(GMT-05:00) Eastern Time (US & Canada)"
    },
    "updated_at": "2020-04-25T00:20:52+00:00",
    "weight_unit": "g"
  }
}
```

# Subscriptions

Subscriptions are individual items a customer receives on a recurring basis.

A `Subscription` is a `Product` added to an `Address`. ![](https://developer.getrecharge.com/images/subscription.png)

Endpoints

POST

/subscriptions


GET

/subscriptions/{id}


PUT

/subscriptions/{id}


DELETE

/subscriptions/{id}


GET

/subscriptions


POST

/subscriptions/{id}/set\_next\_charge\_date


POST

/subscriptions/{id}/change\_address


POST

/subscriptions/{id}/cancel


POST

/subscriptions/{id}/activate


POST

/subscriptions/skip\_gift


Expand

# The subscription object

Subscriptions are individual items a customer benefit from on a recurring basis.

These fields are deprecated, however they will not be removed from this API version.

`product_title` is deprecated. Use `title` instead.

`shipping_date` is deprecated. Use `scheduled_at` instead.

`shopify_id` is deprecated. Use `shopify_order_id` instead.

`address_is_active` is deprecated. Please ignore, not an applicable field.

##### Attributes

- id







integer














Unique numeric identifier for the subscription.

- address\_id







integer














Unique numeric identifier for the address the subscription is associated with.

- customer\_id







integer














Unique numeric identifier for the customer the subscription is tied to.

- analytics\_data







object














An object used to contain analytics data such as utm parameters.










Show object attributes


- cancellation\_reason







string














Reason provided for cancellation.

- cancellation\_reason\_comments







string














Additional comment for cancellation. Maximum length is 1024 characters.

- cancelled\_at







datetime














The time the subscription was cancelled.

- charge\_interval\_frequency







string













Max: 1000










The number of units (specified in `order_interval_unit`) between each `Charge`. For example, `order_interval_unit=month` and `charge_interval_frequency=3`, indicate charge every 3 months.







`Charges` must use the same unit types as orders.

- created\_at







datetime














The time the subscription was created.

- expire\_after\_specific\_number\_of\_charges







integer














Set the number of charges until subscription expires.

- external\_product\_id







object














An object containing the product id as it appears in external platforms.










Show object attributes


- external\_variant\_id







object














An object containing the variant id as it appears in external platforms.










Show object attributes


- has\_queued\_charges







boolean














Retrieves `true` if there is queued charge. Otherwise, retrieves `false`.

- is\_prepaid







boolean














Value is set to `true` if it is a prepaid item.

- is\_skippable







boolean














Value is set to `true` if it is not a prepaid item

- is\_swappable







boolean














Value is set to `true` if it is not a prepaid item and if in Customer portal settings swap is allowed for customers.

- max\_retries\_reached







boolean














Retrieves `true` if charge has an error max retries reached. Otherwise, retrieves `false`.

- next\_charge\_scheduled\_at







datetime














Date of the next charge for the subscription.

- order\_day\_of\_month







integer














The set day of the month order is created. Default is that there isn’t a strict day of the month when the order is created.







This is only applicable to subscriptions with `order_interval_unit:“month”`.

- order\_day\_of\_week







integer














The set day of the week order is created. Default is that there isn’t a strict day of the week order is created.







This is only applicable to subscriptions with `order_interval_unit = “week”`.

Value of 0 equals to Monday, 1 to Tuesday etc.

- order\_interval\_frequency







integer













Max: 1000










The number of units (specified in `order_interval_unit`) between each order. For example, order\_interval\_unit=month and order\_interval\_frequency=3, indicate order every 3 months. Max value: 1000

- order\_interval\_unit







string













Possible values:

day,

week,

month










The frequency unit used to determine when a subscription’s order is created.

- presentment\_currency







string














The presentment currency of the subscription.

- price







string














The price of the item before discounts, taxes, or shipping have been applied.

- product\_title







string














The name of the product in a store’s catalog.

- properties







array














A list of line item objects, each one containing information about the subscription. Custom key-value pairs can be installed here, they will appear on the connected queued charge and after it is processed on the order itself.










Show object attributes


- quantity







integer














The number of items in the subscription.

- sku







string














A unique identifier of the item in the fulfillment. In cases where SKU is blank, it will be dynamically pulled whenever it is used.

- sku\_override







boolean














Flag that is automatically updated to `true` when SKU is passed on create or update. When `sku_override` is `true`, the SKU on the subscription will be used to generate charges and orders. When `sku_override` is `false`, Recharge will dynamically fetch the SKU from the corresponding external platform variant.

- status







string













Possible values:

active,

cancelled,

expired










The status of the subscription.







`EXPIRED` \- This status occurs when the maximum number of charges for a product has been reached.

- updated\_at







datetime














The date time at which the purchase\_item record was last updated.

- variant\_title







string














The name of the variant in a shop’s catalog.


##### Error related attributes

##### More Attributes

The subscription object

```hljs json
{
  "subscription": {
    "id": 89559201,
    "address_id": 48563471,
    "customer_id": 43845860,
    "analytics_data": {
      "utm_params": []
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": "30",
    "created_at": "2021-02-25T21:27:19+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "external_variant_id": {
      "ecommerce": "18261278883891"
    },
    "has_queued_charges": true,
    "is_prepaid": true,
    "is_skippable": false,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2020-07-15",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 15,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": 5,
    "product_title": "Powder Milk 50.00% Off Auto renew",
    "properties": [\
      {\
        "name": "Colour",\
        "value": "White"\
      },\
      {\
        "name": "Package Material",\
        "value": "Paper"\
      }\
    ],
    "quantity": 3,
    "sku": null,
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-07-10T10:30:51+00:00",
    "variant_title": "1 / Powder"
  }
}
```

# Create a subscription

When creating a subscription via API, `order_interval_frequency` and `charge_interval_frequency` values do not necessarily need to match the values set in the respective `Plans`. The product, however, does need to have at least one `Plan` in order to be added to a subscription.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer





\\* Required














Unique numeric identifier of the customer’s address.

- charge\_interval\_frequency







integer





\\* Required














The number of units, specified in `order_interval_unit`, between each charge.

- expire\_after\_specific\_number\_of\_charges







integer














The number of charges until the subscription expires.

- next\_charge\_scheduled\_at







datetime





\\* Required














This will set the first charge date of a new subscription.

- order\_day\_of\_month







integer














This is populated when order\_interval\_unit has value “month”. Default value is 0.

- order\_day\_of\_week







integer














This is populated when order\_interval\_unit has value “week”.

- order\_interval\_frequency







integer





\\* Required














The number of units, specified in order\_interval\_unit, between each order.

- order\_interval\_unit







string





\\* Required













Possible values:

day,

week,

month










The frequency unit used to determine when a subscription order is created.

- plan\_id







integer














A Recharge Plan id that provides interval information. Automatically fills the following properties from the plan if they were not provided directly: charge\_interval\_frequency, expire\_after\_specific\_number\_of\_charges, order\_day\_of\_month, order\_day\_of\_week, order\_interval\_frequency, order\_interval\_unit.

- price







string














The price of the product.

- product\_title







string














The name of the product.

- properties







array














A list of key/value pairs representing properties of the subscription.










Show object attributes


- quantity







integer





\\* Required














The quantity of the product.

- external\_product\_id







object














Unique numeric identifier of the product id.










Show object attributes


- external\_variant\_id







object





\\* Required














Unique numeric identifier of the product variant id.










Show object attributes


- status







string













Possible values:

active,

cancelled,

expired










Default is set to `active`.


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/subscriptions


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "address_id": 48563471,
  "charge_interval_frequency": "30",
  "next_charge_scheduled_at": "2021-12-17",
  "order_interval_frequency": "30",
  "order_interval_unit": "day",
  "properties": [\
    {\
      "name": "Colour",\
      "value": "Yellow"\
    },\
    {\
      "name": "Bottle Material",\
      "value": "Glass"\
    }\
  ],
  "external_variant_id": {
    "ecommerce": "32165284380775"
  },
  "quantity": 3
}'
```

Response

201


```hljs json
{
  "subscription": {
    "id": 63898947,
    "address_id": 48563471,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 30,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32165284380775"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-12-17",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 30,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Retrieve a subscription

Retrieve a subscription using the Recharge `subscription_id`.

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/subscriptions/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 63898947,
    "address_id": 48563471,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 30,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32165284380775"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-12-17",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 30,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Update a subscription

Update an existing subscription.

Updating parameters like `frequency`, `charge_interval_frequency`, `order_interval_frequency`, `order_interval_unit` will cause our algorithm to automatically recalculate the next charge date ( `next_charge_scheduled_at`). If you want to change the next charge date ( `next_charge_scheduled_at`) we recommend you to update these parameters first.

When updating subscription `status` attribute from `cancelled` to `active`, following attributes will be set to null: `cancelled_at`, `cancellation_reason` and `cancellation_reason_comments`

When updating `order_interval_unit` OR `order_interval_frequency` OR `charge_interval_frequency` all three parameters are required.

Scopes:
write\_subscriptions


##### Query Parameters

- commit







boolean














Controls whether the `QUEUED` charges linked to the subscription should be regenerated upon subscription update. By default the flag is set to `false` which will delay charge regeneration 5 seconds. This enables running multiple calls to perform changes and receive responses much faster since the API won’t wait for a charge regeneration to complete. Setting this parameter to `true` will cause charge regeneration to complete before returning a response.

- force\_update







boolean














If set to `True`, updates will also be applied to `CANCELLED` subscriptions. If `null` or `False`, only `ACTIVE` subscriptions will be updated.


##### More Parameters

##### Body Parameters

- charge\_interval\_frequency







integer













Max: 1000










The number of units (specified in order\_interval\_unit) between each charge. Required when updating order\_interval\_unit.



WARNING: This update will remove skipped and manually changed charges.

- expire\_after\_specific\_number\_of\_charges







integer














The number of charges until subscription expires.

- external\_variant\_id







object














Unique number identifier of the product variant in your external platform.










Show object attributes


- order\_day\_of\_month







string














The day of the month the order is created on.



WARNING: this update will remove skips and manually changed charges.

- order\_day\_of\_week







string














The day of the week the order is created on.



WARNING: this update will remove skips and manually changed charges.

- order\_interval\_frequency







string














The number of units (specified in order\_interval\_unit) between each order. Required when updating order\_interval\_unit.



WARNING: This update will remove skipped and manually changed charges.

- order\_interval\_unit







string













Possible values:

day,

week,

month










The frequency unit used to determine when a subscription order is created.



WARNING: This update will remove skipped and manually changed charges.

- plan\_id







integer














A Recharge Plan id that provides interval information. Automatically fills the following properties from the plan if they were not provided directly: charge\_interval\_frequency, expire\_after\_specific\_number\_of\_charges, order\_day\_of\_month, order\_day\_of\_week, order\_interval\_frequency, order\_interval\_unit.

- price







string














The price of the item before discounts, taxes, or shipping has been applied.

- product\_title







string














The name of the product.

- properties







array














A list of key/value pairs representing properties of the subscription.










Show object attributes


- quantity







string














The number of items in the subscription.

- sku







string














A unique identifier of the item in the fulfillment.

- sku\_override







boolean














Flag is automatically updated to `true` when SKU is passed on create or update. When `sku_override` is `true`, the SKU on the subscription will be used to generate charges and orders.

When `sku_override` is `false`, Recharge will dynamically fetch the sku from the corresponding external platform variant.

- use\_external\_variant\_defaults







boolean














Flag instructing to pull the `price` from the product variant passed.







You need to pass the variant\_id under `external_variant_id.ecommerce` and set this attribute to `true` in the request for the flag to work.

- variant\_title







string














The name of the product variant.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/subscriptions/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/subscriptions/27363808' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "quantity": 4
}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 63898947,
    "address_id": 48563471,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 30,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32165284380775"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-12-17",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 30,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Delete a subscription

We now have a feature for deleting a subscription.

Scopes:
write\_subscriptions


##### Body Parameters

- send\_email







boolean














When your store setting indicates that cancellation emails should be sent, this value determines if the email should be sent for the specified subscription cancellation.







If set to `true`, cancellation emails will be sent for the specified subscription cancellations. If set to `false`, cancellation emails will not be sent.


##### More Parameters

##### Responses

- 204




















successful response










Show response object



DELETE

/subscriptions/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/subscriptions/27363808' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List subscriptions

Returns a list of all your subscriptions.

## HTTP request examples

`GET /subscriptions`

`GET /subscriptions?created_at_min=2018-10-10&created_at_max=2019-10-16`

`GET /subscriptions?customer_id=<customer_id>`

Scopes:
read\_subscriptions


##### Query Parameters

- address\_id







string














Return the subscriptions linked to the given `address_id`.







Not compatible with `address_ids`.

- address\_ids







string














Return the subscriptions linked to the given `address_ids`.







Accepts a comma separated list of address\_ids as value.

Not compatible with `address_id`

- created\_at\_max







string














Return the subscriptions created before the given date.

- created\_at\_min







string














Return the subscriptions created after the given date.

- cursor







string














Return either the next or previous page of subscriptions using `next_cursor` or `previous_cursor` attributes in the response.

- customer\_id







string














Return the subscriptions linked to the given Recharge customer id.

- external\_variant\_id







string














Return the subscriptions linked to the given external\_variant\_id

- ids







string














Comma-separated list of `subscription_ids` to filter

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- status







string













Possible values:

active,

cancelled,

expired










Return the subscriptions with specified status.

- updated\_at\_max







string














Return the subscriptions updated before the given date.

- updated\_at\_min







string














Return the subscriptions updated after the given date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/subscriptions


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": "next_cursor",
  "previous_cursor": "previous_cursor",
  "subscriptions": [\
    {\
      "id": 63898947,\
      "address_id": 42171447,\
      "customer_id": 37657002,\
      "analytics_data": {\
        "utm_params": {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      },\
      "cancellation_reason": null,\
      "cancellation_reason_comments": null,\
      "cancelled_at": null,\
      "charge_interval_frequency": 1,\
      "created_at": "2020-02-19T17:40:09+00:00",\
      "expire_after_specific_number_of_charges": 5,\
      "external_product_id": {\
        "ecommerce": "4381728735283"\
      },\
      "external_variant_id": {\
        "ecommerce": "32165284380775"\
      },\
      "has_queued_charges": false,\
      "is_prepaid": false,\
      "is_skippable": true,\
      "is_swappable": false,\
      "max_retries_reached": false,\
      "next_charge_scheduled_at": "2021-12-17",\
      "order_day_of_month": null,\
      "order_day_of_week": null,\
      "order_interval_frequency": 1,\
      "order_interval_unit": "month",\
      "presentment_currency": "USD",\
      "price": "10.00",\
      "product_title": "ABC Shirt",\
      "properties": [\
        {\
          "name": "Color",\
          "value": "Blue"\
        },\
        {\
          "name": "Size",\
          "value": "Large"\
        }\
      ],\
      "quantity": 1,\
      "sku": "TOM0001",\
      "sku_override": false,\
      "status": "active",\
      "updated_at": "2020-02-19T17:40:10+00:00",\
      "variant_title": "Blue star"\
    }\
  ]
}
```

# Change a subscription next charge date

Update an existing subscription’s next charge date.

If there are two active subscriptions with the same `address_id`, and you update their `next_charge_date` parameters to match, their charges will get merged into a new charge with a new `id`

Scopes:
write\_subscriptions


##### Body Parameters

- date







string





\\* Required














The next charge date desired.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/set\_next\_charge\_date


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/set_next_charge_date' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"date": "2021-08-05"}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Change a subscription address

New

Update an existing subscription’s address.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer





\\* Required














Unique id of the address that need to be associated with subscription.

- next\_charge\_scheduled\_at







string














The next charge date desired.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/change\_address


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/change_address' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -d '{"address_id": 23397943}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Cancel a subscription

Cancel an active subscription.

An involuntary subscription cancelled due to max retries reached will trigger the charge/max\_retries\_reached webhook.

Scopes:
write\_subscriptions


##### Body Parameters

- cancellation\_reason







string





\\* Required














Reason for subscription cancellation.

- cancellation\_reason\_comments







string














Cancellation reason comment. Maximum length is 1024 characters.

- send\_email







boolean














If set to `false`, subscription cancelled email will not be sent to customer and store owner. Note: even if set to True, there are some conditions where an email will not be sent. They are: inactive subscription\_cancellation email template, customer or subscription was created on the same day, subscription is for a membership, email already sent for this subscription in the last 24 hours, customer has other active subscriptions or onetimes


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/cancel


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/cancel' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"cancellation_reason": "other reason"}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Activate a subscription

Activate a cancelled subscription.

When activating subscription, following attributes will be set to null: `cancelled_at`, `cancellation_reason` and `cancellation_reason_comments`.

Scopes:
write\_subscriptions


##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/activate


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/activate' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Gift a skipped subscription

Gift a skipped `Subscription` to a recipient.

Scopes:
write\_subscriptions


##### Body Parameters

- purchase\_item\_ids







array





\\* Required














A list containing the `Subscription` IDs to be skipped.

- recipient\_address







object





\\* Required














An object that contains information associated with the giftee’s Address










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 422




















invalid data passed to the endpoint










Show response object



POST

/subscriptions/skip\_gift


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/skip_gift' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"recipient_address": {
  "address1": "1776 Washington Street",
  "address2": "",
  "city": "Los Angeles",
  "company": "Recharge",
  "country_code": "US",
  "first_name": "John",
  "last_name": "Doe",
 "phone": "5551234567",
 "province": "California",
  "zip": "90404", "email": "fake@example.com"
 },
"purchase_item_ids": [27363808, 27363809]}'
```

Response

200

422


```hljs json
{
  "onetimes": [\
    {\
      "id": 16909886,\
      "address_id": 45154492,\
      "created_at": "2021-05-24T19:14:25+00:00",\
      "customer_id": 40565990,\
      "external_product_id": {\
        "ecommerce": "4950280863846"\
      },\
      "external_variant_id": {\
        "ecommerce": "32139793137766"\
      },\
      "is_cancelled": false,\
      "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",\
      "price": "6.00",\
      "product_title": "ABC Shirt",\
      "properties": [\
        {\
          "name": "Color",\
          "value": "Blue"\
        }\
      ],\
      "quantity": 1,\
      "sku": "TOM0001",\
      "sku_override": false,\
      "updated_at": "2021-05-24T19:30:14+00:00",\
      "variant_title": "Blue star"\
    }\
  ]
}
```

# Webhook endpoints

Webhooks are a mechanism for reacting to specific events that are triggered in the Recharge system.

For example, a checkout completion, a customer activation or subscription cancellation. Webhooks will deliver you the data of the specific event in real-time. This data can be used to custom code logic behind automated subscription management, dashboards creation, discounts applying…

When a webhook is triggered, the payload will be identical to the payload you would receive from another API endpoint.

For example, a webhook on subscription/created will be identical to the payload for retrieving a subscription by ID from the Recharge API.

There are a lot of things that can be done via Webhooks: It can be used to collect all kinds of data from our API and then create a custom Dashboard to show how much and when your customers are buying in real time, or use all this data to do Analytics of some kind in order to create a better customer experience. Webhooks can be used as a “Trigger” on your backend to update subscription products.

If you have some kind of a Subscription where you want to change the Product that the customer gets every month, you can do it by waiting for an order/created webhook on your backend, and when it fires you can make an API call to change the Product of that subscription or the next shipping date, etc.

## Retries / Idempotency

Due to webhook retries, it’s possible that your application receives the same webhook more than once. Ensure idempotency of the webhook call by detecting such duplicates within your application.

## Respond to a webhook

Your webhook acknowledges that it received data by sending a `200` OK response. Any response outside of the `200` range will let Recharge know that you didn’t receive your webhook. Recharge has implemented a 5 second time-out period. We wait 5 seconds, if our system doesn’t get a response in that period we consider that request as failed. Our system will try 20 times to send the same webhook over the next 2 days, if the request fails every time our system will delete this webhook. At this moment our system is logging those deleted webhooks.

Endpoints

POST

/webhooks


GET

/webhooks/{id}


PUT

/webhooks/{id}


DELETE

/webhooks/{id}


GET

/webhooks


POST

/webhooks/{id}/test


Expand

# The Webhook object

Please note that the store domain header has changed to X-Recharge-External-Platform-Domain

Related guides:
[Extending webhook responses](https://developer.rechargepayments.com/2021-11/extending_responses)

These topics are deprecated, however they will not be removed from this API version: `checkout/completed`.

##### Attributes

- id







integer














Unique numeric identifier for the webhook.

- address







string














The URI where the webhook should send the `POST` request when the event occurs.

- included\_objects







array













Possible values:

addresses,

collections,

customer,

metafields










List of objects set to enrich the webhook payload. cf. [extending responses](https://developer.rechargepayments.com/2021-11/extending_responses)

- topic







string














The event that will trigger the webhook.

- version







string














The version of the API used to populate the body of the webhook. If not set, this will default to the store’s default API version.


##### Error related attributes

##### More Attributes

The Webhook object

```hljs json
{
  "webhook": {
    "id": 19451,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-11"
  }
}
```

# Available webhooks

The list of all available webhooks.

Related guides: [Webhook payload examples](https://docs.rechargepayments.com/docs/webhook-payload-examples)

| Object | Topics | Scope Required |
| --- | --- | --- |
| `Address` | `address/created` `address/updated` | read\_customers |
| `Async_batch` | `async_batch/processed` | read\_batches |
| `BundleSelection` | `bundle_selection/created` `bundle_selection/updated` `bundle_selection/deleted` | read\_subscriptions |
| `Customer` | `customer/activated` `customer/created` `customer/deactivated` `customer/payment_method_updated` `customer/updated` `customer/deleted` | read\_customers |
| `Charge` | `charge/created` `charge/failed` `charge/max_retries_reached` `charge/paid` `charge/refunded` `charge/uncaptured` `charge/upcoming` `charge/updated` `charge/deleted` | read\_orders |
| `Checkout` | `checkout/created` `checkout/completed` `checkout/processed` `checkout/updated`<br> Note: Deprecated and not available for the Shopify integration with Shopify hosted Checkout (aka SCI) | read\_orders |
| `Onetime` | `onetime/created` `onetime/deleted` `onetime/updated` | read\_subscriptions |
| `Order` | `order/cancelled` `order/created` `order/deleted` `order/processed` `order/payment_captured` `order/upcoming` `order/updated` `order/success` | read\_orders |
| `Plan` | `plan/created` `plan/deleted` `plan/updated` | read\_products |
| `Subscription` | `subscription/activated` `subscription/cancelled` `subscription/created` `subscription/deleted` `subscription/skipped` `subscription/updated` `subscription/unskipped` `subscription/swapped` `subscription/paused` | read\_subscriptions |
| `Store` | `store/updated` | read\_store |
| `Recharge` | `recharge/uninstalled` | store\_info |

# Create a webhook

Create a webhook. Currently, only the API can be used to create a webhook.

To register a webhook endpoint for a specific object, you will need to have read permissions for that object on your Recharge API token. For example, if you want to register a webhook for subscription/created, you will need the `read_subscriptions` permissions.

Each API token can register a maximum of 10 webhooks of the same topic.

Related guides: [Webhook payload examples](https://docs.rechargepayments.com/docs/webhook-payload-examples)

Related guides:
[Extending webhook responses](https://developer.rechargepayments.com/2021-11/extending_responses)

##### Body Parameters

- address







integer





\\* Required














The URI where the webhook should send the `POST` request when the event occurs.

- included\_objects







array













Possible values:

addresses,

collections,

customer,

metafields










List of objects set to enrich the webhook payload. cf. [extending responses](https://developer.rechargepayments.com/2021-11/extending_responses)

- topic







integer





\\* Required














The event that will trigger the webhook.

- version







string














The version of the API used to populate the body of the webhook. If not set, this will default to the store’s default API version.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/webhooks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X POST 'https://api.rechargeapps.com/webhooks' \
 --data '{"address": "https://request.in/foo", "topic": "subscription/created"}'
```

Response

200


```hljs json
{
  "webhook": {
    "id": 6,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-01"
  }
}
```

# Retrieve a webhook

Retrieve a webhook using the Recharge webhook id.

##### Responses

- 200




















successful response










Show response object



GET

/webhooks/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X GET https://api.rechargeapps.com/webhooks/19451
```

Response

200


```hljs json
{
  "webhook": {
    "id": 6,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-01"
  }
}
```

# Update a webhook

Modifies an existing `Webhook` to match the specified parameters.

Related guides:
[Extending webhook responses](https://developer.rechargepayments.com/2021-11/extending_responses)

##### Body Parameters

- address







string














The URI where the webhook should send the POST request when the event occurs.

- included\_objects







array













Possible values:

addresses,

collections,

customer,

metafields










List of objects set to enrich the webhook payload. cf. [extending responses](https://developer.rechargepayments.com/2021-11/extending_responses)

- topic







string














The event that will trigger the webhook.

- version







string














The version of the API used to populate the body of the webhook.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/webhooks/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X PUT 'https://api.rechargeapps.com/webhooks/958' \
 --data '{"address": "https://request.in/foo"}'
```

Response

200


```hljs json
{
  "webhook": {
    "id": 6,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-01"
  }
}
```

# Delete a webhook

Delete a `Webhook`

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/webhooks/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X DELETE 'https://api.rechargeapps.com/webhooks/958'
```

Response

204


```hljs json
{}
```

# List webhooks

Returns all the webhooks of the given store that are owned by the current requesting client (note that a a private token shows all of the store’s webhooks, an integration token only shows that integration’s webhooks).

##### Responses

- 200




















successful response










Show response object



GET

/webhooks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X GET 'https://api.rechargeapps.com/webhooks'
```

Response

200


```hljs json
{
  "webhooks": [\
    {\
      "id": 19451,\
      "address": "https://request.in/foo",\
      "topic": "subscription/created",\
      "version": "2021-11"\
    },\
    {\
      "id": 19453,\
      "address": "https://request.in/foo",\
      "topic": "subscription/cancelled",\
      "version": "2021-11"\
    }\
  ]
}
```

# Test webhooks

In order to test webhook connectivity, you can trigger the dispatch of a test webhook with our webhook test endpoint. Sending a POST request to the webhook endpoint containing a webhook id will dispatch an empty webhook body to the specified webhook’s destination url.

##### Responses

- 200




















successful response










Show response object



POST

/webhooks/{id}/test


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 --data '{}'
 -X POST https://api.rechargeapps.com/webhooks/<webhook_id>/test
```

Response

200


```hljs json
{}
```

# Webhooks explained

Here you will find what specific action triggers a given webhook.

## Address webhooks

To use these webhooks your API Token must have read permissions for `Customers` enabled ( `read_customer` ).

| Topic | Explanation |
| --- | --- |
| `address/created` | This will trigger when you create an address via API, or when you go through the checkout with a particular address for the first time with the same customer. |
| `address/updated` | This will trigger when you update an address via API, or when you update the address via UI. It will also trigger whenever a subscription has been activated or cancelled. |

## Bundle webhooks

To use these webhooks your API Token must have read permissions for `Subscriptions` enabled ( `read_subscriptions` ).

| Topic | Explanation |
| --- | --- |
| `bundle_selection/created` | This will trigger when a new selection is created for a Bundle subscription. |
| `bundle_selection/updated` | This will trigger when a Bundle Selection is succesfully updated. |
| `bundle_selection/deleted` | This will trigger when a Bundle Selection is deleted. |

## Charge webhooks

To use these webhooks your API Token must have read permissions for `Orders` enabled ( `read_orders` ).

| Topic | Explanation |
| --- | --- |
| `charge/created` | This will trigger when a charge is created. |
| `charge/failed` | This will trigger every time we try to process a charge and it fails due to various reasons (insufficient funds, invalid CC info, expired CC, etc.) on both API and UI. |
| `charge/max_retries_reached` | This will trigger after we attempt to process a charge 8 times, and it failed every time due to various CC issues. This can be triggered on both UI (manually retry a charge 8 times and fail) and API. |
| `charge/paid` | This will trigger when a charge is successfully processed, both manually via UI and automatic recurring charge. This will not trigger on the checkout itself. |
| `charge/refunded` | This will trigger when a charge is successfully refunded, either partially or in full. It will fire if a charge has been refunded both manually via UI and through an API request. |
| `charge/upcoming` | This will trigger X days before the upcoming charge is scheduled. The default is 3 days but your store specific setting can be verified on the Notification Settings page in the description of the Upcoming charge customer notification. |
| `charge/updated` | This will trigger when applying a discount, a change to charge that recalculates shipping rates as well as if next\_charge\_date is updated on charge endpoint charges/<charge\_id>/change\_next\_charge\_date. |
| `charge/deleted` | This will trigger when a subscription is cancelled and upcoming charges are deleted. |

## Checkout webhooks

To use these webhooks your API Token must have read permissions for `Orders` enabled ( `read-orders` ).

| Topic | Explanation |
| --- | --- |
| `checkout/created` | This will trigger when a checkout is successfully created. |
| `checkout/completed` | Will be deprecated. |
| `checkout/processed` | This will trigger when a checkout is successfully processed. |
| `checkout/updated` | This will trigger when a checkout is successfully updated. |

## Customer webhooks

To use these webhooks your API Token must have read permissions for `Customers` enabled ( `read_customers` ).

| Topic | Explanation |
| --- | --- |
| `customer/activated` | This will trigger when you activate\* a customer <br> \\* activating means that you have added a subscription to a customer who didn’t have an active subscription previously. |
| `customer/created` | This will trigger when you create a customer via API or go through the checkout with a particular email address for a first time customer. |
| `customer/deactivated` | This will trigger when the last subscription a customer had expires, so he no longer has ANY active subscriptions (which means there are no QUEUED charges/orders for this customer). |
| `customer/payment_method_updated` | This will trigger only\* when you update the payment\_token from the UI <br> \\* We are working on triggering this when you do the update from the API as well. |
| `customer/updated` | This will trigger when you update a customer via both API and UI. |
| `customer/deleted` | This will trigger when you delete a customer via both API and UI. |

## Onetime webhooks

To use these webhooks your API Token must have read permissions for `Subscriptions` enabled ( `read_subscriptions` ).

| Topic | Explanation |
| --- | --- |
| `onetime/created` | This will trigger when you create a one time product via API. |
| `onetime/deleted` | This will trigger when you delete a one time product via API. |
| `onetime/updated` | This will trigger when you update a one time product via API. |

## Order webhooks

To use these webhooks your API Token must have read permissions for `Orders` enabled ( `read_orders` ).

| Topic | Explanation |
| --- | --- |
| `order/created` | This will trigger when an order is created (when a charge is successfully processed) <br> \\* In case of prepaid Orders the order/created webhooks will be fired for each prepaid order that is created. This occurs on the date the order is scheduled at. |
| `order/deleted` | This will trigger when an order is deleted. |
| `order/processed` | This will trigger when the order is processed (when an order goes from status `queued` to status `success`). This will not trigger on checkout. |
| `order/upcoming` | This will trigger X days before a QUEUED (prepaid) order is scheduled to be processed. The default is 3 days. |
| `order/updated` | This will trigger when an order is updated. |

## Plan webhooks

To use these webhooks your API Token must have read permissions for `Products` enabled ( `read_products` ).

| Topic | Explanation |
| --- | --- |
| `plan/created` | This will trigger when a plan is created by one of the following methods: via API, via Merchant portal or when using the `2021-01` `Products` endpoint. |
| `plan/deleted` | This will trigger when a plan is deleted by one of the following methods: via API, via Merchant portal or when using the `2021-01` `Products` endpoint. |
| `plan/updated` | This will trigger when a plan is updated by one of the following methods: via API, via Merchant portal or when using the `2021-01` `Products` endpoint… |

## Subscription webhooks

To use these webhooks your API Token must have read permissions for `Subscriptions` enabled ( `read_subscriptions` ).

| Topic | Explanation |
| --- | --- |
| `subscription/activated` | This will trigger when you activate a subscription via API or UI. |
| `subscription/cancelled` | This will trigger when you cancel a subscription via API or UI. An involuntary subscription cancelled due to max retries reached will only trigger the charge/max\_retries\_reached webhook and not the subscription/cancelled webhook. |
| `subscription/created` | This will trigger when you create a subscription via API or when you go through the checkout on UI. |
| `subscription/deleted` | This will trigger when you delete a subscription via API or UI. |
| `subscription/skipped` | This will trigger when you skip a subscription within a charge, meaning that you only skip a particular subscription (the subscription\_id you send in the body) in that charge if there are multiple subscriptions related to that charge. |
| `subscription/unskipped` | This will trigger when you unskip a subscription within a charge, meaning you only unskip a particular subscription (the subscription\_id you send in the body) in that charge if there are multiple subscriptions related to that charge. |
| `subscription/updated` | This will trigger when you update a subscription via API (PUT method) or when you update the subscription via UI. This will also trigger when you update next charge date on Customer Portal, or when you change it using subscription endpoint `subscriptions/ <subscription_id>set_next_charge_date`. |
| `subscription/swapped` | This will trigger when you swap a subscription product for a given address to a different product or product variation API or UI. |
| `subscription/paused` | This will trigger when a customer pauses a subscription from within the customer portal. |

## Other webhooks

To use these webhooks your API Token must have read permissions for `Store` enabled ( `read_store` ).

| Topic | Explanation |
| --- | --- |
| `app/uninstalled` | This will trigger when you uninstall OAuth app on your store. |
| `recharge/uninstalled` | This will trigger when Recharge is uninstalled. |
| `store/updated` | This will trigger when and update has been made to the store. |

# Webhook validation

Webhooks created through the API can be verified by calculating a digital signature. Each Webhook request includes an X-Recharge-Hmac-Sha256 header which is generated using the API Client Secret, along with the data sent in the request.

API Client Secret is not the same as your API token and it can be found at:

Recharge Dashboard—>Integrations—>API Tokens—>Click on your token

Edit API Token page will appear and there you will find API Client Secret

The request\_body must be in JSON string format. Validation will fail even if one space is lost in process of JSON string generation.

Then use code similar to the example by adapting it to the programming language that you are using for your project.

Related guides: [Example code for validating webhooks](https://docs.rechargepayments.com/docs/webhooks-overview#validating-webhooks)

Example Request:

cURLPythonPHPRuby

```hljs bash

```

# Async batch Endpoints

The Async batches API can be used for processing large volumes of operations asynchronously, in order to reduce aggregate processing time and network traffic when interacting with many unique objects. For example, a user can leverage async\_batches to create 1000 discounts with only 3 API requests.

**As shown in the diagram below, the necessary steps to create and process a batch are:**

1\. Create an async\_batch with the desired batch\_type

2\. Add tasks (individual operations) to your batch. You can add up to 1,000 tasks with each request, up to 10,000 tasks per batch.

3\. Submit the batch for processing. Until a batch is submitted for processing, no tasks are attempted.

4\. You may retrieve the batch to view progress details while it processes, or register for the `async_batch/processed` webhook to receive immediate notification of batch completion.

5\. Page through the tasks in the batch to view results of each completed or failed task.

Related guides: [Examples of Async batches](https://docs.rechargepayments.com/docs/async-batches)![](https://developer.getrecharge.com/images/async_batch.png)

Endpoints

POST

/async\_batches


GET

/async\_batches/{id}


GET

/async\_batches


POST

/async\_batches/{batch\_id}/process


Expand

# The async batch object

`Async batch` contains all the setups information and status update of a batch of operation to be performed collectively.

Batches will only leverage resources from the same version they are created in. e.g. a batch created with `2021-11` will only process tasks from the `2021-11` version.

##### Attributes

- id







string














Unique identifier of the batch, used for adding tasks to a batch and to initiate batch processing

- batch\_type







string













Possible values:

discount\_create,

discount\_update,

discount\_delete,

bulk\_plans\_create,

bulk\_plans\_update,

bulk\_plans\_delete,

onetime\_create,

onetime\_delete










Indicates the object type and operation required for all tasks in a batch

- closed\_at







string














Indicates the date and time that processing was completed for a batch

- created\_at







string














Indicates the date and time a batch was created

- fail\_task\_count







string














Indicates the number of failed tasks in a batch, during or after processing

- status







string














Indicates the status of the batch. Available statuses are not\_started, processing, completed, failed

- submitted\_at







string














Indicates the date and time that a batch was triggered to process

- success\_task\_count







string














Indicates the number of successful tasks in a batch, during or after processing.

- total\_task\_count







string














Indicates the total number of tasks in a batch

- updated\_at







string














Indicates the date and time at which a batch was last updated

- version







string














Indicates the API version of the batch.







read-only field


##### Error related attributes

##### More Attributes

The async batch object

```hljs json
{
  "async_batch": {
    "id": 19,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-02-17T08:52:10+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "not_started",
    "submitted_at": null,
    "success_task_count": 0,
    "total_task_count": 0,
    "updated_at": "2022-02-17T08:52:10+00:00",
    "version": "2021-11"
  }
}
```

# Create a batch

In order to create, retrieve, or process batches, the API token requires the write\_batches permission. Additional permissions are required, dependent upon the indicated batch\_type. For example, for a batch type of discount\_create, the API token requires the write\_discounts permission.

Create a new batch, and indicate the desired outcome of the batch using batch\_type.

CAUTION

Async batches and their tasks will only be retained in Recharge for one month after batch creation.

Available batch types

The async\_batches API supports many functions, each identified as a batch\_type. Typically, the task body for a batch\_type will be representative of a single request to our standard endpoints, however, some variations may be present.

Related guides: [Examples of Async Batches](https://docs.rechargepayments.com/docs/async-batches)

Batches will only leverage resources from the same version they are created in. e.g. a batch created with `2021-11` will only process tasks from the `2021-11` version.

Scopes:
write\_batches


##### Body Parameters

- batch\_type







string













Possible values:

discount\_create,

discount\_update,

discount\_delete,

bulk\_plans\_create,

bulk\_plans\_update,

bulk\_plans\_delete,

onetime\_create,

onetime\_delete










Desired batch type


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/async\_batches


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -X POST 'https://api.rechargeapps.com/async_batches' \
 --data '{ "batch_type": "desired_batch_type"}'
```

Response

201


```hljs json
{
  "async_batch": {
    "id": 19,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-10-12T20:16:09+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "not_started",
    "submitted_at": null,
    "success_task_count": 0,
    "total_task_count": 0,
    "updated_at": "2022-10-12T20:16:09+00:00",
    "version": "2021-11"
  }
}
```

# Retrieve a batch

Retrieve a batch using the Recharge batch id. A batch can be retrieved during processing to evaluate batch progress.

## HTTP request examples

`GET /async_batches/<batch_id>`

##### Responses

- 200




















successful response










Show response object



GET

/async\_batches/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -X GET 'https://api.rechargeapps.com/async_batches/16'
```

Response

200


```hljs json
{
  "async_batch": {
    "id": 19,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-10-12T20:16:09+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "not_started",
    "submitted_at": null,
    "success_task_count": 0,
    "total_task_count": 0,
    "updated_at": "2022-10-12T20:16:09+00:00",
    "version": "2021-11"
  }
}
```

# List batches

Returns a list of all your async\_batches.

##### Responses

- 200




















successful response










Show response object



GET

/async\_batches


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -X GET 'https://api.rechargeapps.com/async_batches'
```

Response

200


```hljs json
{
  "async_batches": [\
    {\
      "id": 20,\
      "batch_type": "discount_delete",\
      "closed_at": null,\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "deleted_at": null,\
      "fail_task_count": 0,\
      "status": "not_started",\
      "submitted_at": null,\
      "success_task_count": 0,\
      "total_task_count": 40,\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "version": "2021-11"\
    },\
    {\
      "id": 19,\
      "batch_type": "discount_update",\
      "closed_at": null,\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "deleted_at": null,\
      "fail_task_count": 0,\
      "status": "not_started",\
      "submitted_at": null,\
      "success_task_count": 0,\
      "total_task_count": 0,\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "version": "2021-11"\
    },\
    {\
      "id": 16,\
      "batch_type": "discount_create",\
      "closed_at": "2022-10-12T20:16:09+00:00",\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "deleted_at": null,\
      "fail_task_count": 0,\
      "status": "completed",\
      "submitted_at": "2022-10-12T20:16:09+00:00",\
      "success_task_count": 2000,\
      "total_task_count": 2000,\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "version": "2021-11"\
    }\
  ]
}
```

# Process a batch

Until a batch is submitted for processing, no tasks are attempted. Once you have ensured the tasks in a batch are ready for processing, you can submit for processing using this endpoint and the associated batch id.

Webhooks - Batches process quickly, and may result in Recharge dispatching many webhooks at a high rate. Ensure any systems subscribed to resulting webhooks are capable of handling such load.

##### Responses

- 201




















successful response










Show response object



POST

/async\_batches/{batch\_id}/process


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/async_batches/21/process' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

201


```hljs json
{
  "async_batch": {
    "id": 21,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-06-05T10:53:36+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "processing",
    "submitted_at": "2022-06-05T10:54:54+00:00",
    "success_task_count": 0,
    "total_task_count": 10,
    "updated_at": "2022-06-05T10:54:54+00:00",
    "version": "2021-11"
  }
}
```

# Async batch Tasks

Most commonly, the response from listing tasks on an async\_batch id will be identical to the body of a singular request to standard Recharge API endpoints. However, in some instances there are variations from the standard list task response body. See below for examples corresponding to each batch\_type.

Related guides: [Examples of async batches](https://docs.rechargepayments.com/docs/async-batches)

Endpoints

POST

/async\_batches/{batch\_id}/tasks


GET

/async\_batches/{batch\_id}/tasks


Expand

# The async batch Tasks object

##### Attributes

- batch\_id







integer














Indicates the batch that the task is contained by

- body







object














This object contains the body of a standard API request. For example, when creating discounts with a discount\_create batch, this parameter contains a standard body for POST /discounts

- completed\_at







datetime














Indicates the date and time a task was completed

- created\_at







datetime














Indicates the date and time that a task was created and added to the batch

- deleted\_at







datetime














Indicates the date and time that a task was deleted from the batch

- id







integer














Unique identifier for the task within a batch

- queued\_at







datetime














Indicates the date and time a task was queued for processing within batch processing

- result







string














Contains the individual response body for the task

- started\_at







datetime














Indicates the date and time a task was processed

- status







string













Possible values:

pending,

processing,

failed,

success










Indicates the status of the task within a batch.

- updated\_at







datetime














Indicates the date and time a task was most recently updated


##### Error related attributes

##### More Attributes

The async batch Tasks object

```hljs json

```

# Create a batch task

A batch contains operations of similar type (indicated by batch\_type), called tasks. A task is typically representative of a single API request, with a body parameter containing the standard request body for the associated batch\_type. A single request to add tasks may contain up to 1,000 tasks, and a batch may contain up to 10,000 tasks.

##HTTP examples

`POST /async_batches/<batch_id>/tasks`

Batches will only leverage resources from the same version they are created in. e.g. a batch created with `2021-11` will only process tasks from the `2021-11` version.

##### Body Parameters

- batch\_id







integer














Indicates the batch that the task is contained by

- body







object














This object contains the body of a standard API request. For example, when creating discounts with a discount\_create batch, this parameter contains a standard body for POST /discounts

- completed\_at







datetime














Indicates the date and time a task was completed

- created\_at







datetime














Indicates the date and time that a task was created and added to the batch

- deleted\_at







datetime














Indicates the date and time that a task was deleted from the batch

- id







integer














Unique identifier for the task within a batch

- queued\_at







datetime














Indicates the date and time a task was queued for processing within batch processing

- result







string














Contains the individual response body for the task

- started\_at







datetime














Indicates the date and time a task was processed

- status







string













Possible values:

pending,

processing,

failed,

success










Indicates the status of the task within a batch.

- updated\_at







datetime














Indicates the date and time a task was most recently updated


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/async\_batches/{batch\_id}/tasks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-X POST https://api.rechargeapps.com/async_batches/21/tasks \
--data '{
  "tasks": [\
    {\
      "body": {\
        "code": "indexing",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "maroon",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "web services",\
        "value": 100,\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled"\
      }\
    },\
    {\
      "body": {\
        "code": "PCI",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "Cheese",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "overriding",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "bandwidth-monitored",\
        "value": 100,\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled"\
      }\
    },\
    {\
      "body": {\
        "code": "Falkland Islands (Malvinas)",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "Computer",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "digital",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    }\
  ]
}'
```

Response

200


```hljs json
{
  "count": 10
}
```

# List batch tasks

Returns a list of all tasks in the indicated batch, using batch id. For batches with many tasks, pagination is supported when listing tasks. Use this function to evaluate the task-level results of a batch during, or after processing. Task results will be contained in the `results` object of each task.

##### Query Parameters

- ids







string














Filter tasks by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/async\_batches/{batch\_id}/tasks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-X GET https://api.rechargeapps.com/async_batches/16/tasks
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "async_batch_tasks": [\
    {\
      "id": 1490831511,\
      "batch_id": 765278,\
      "body": {\
        "code": "Computer",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831510,\
      "batch_id": 765278,\
      "body": {\
        "code": "Falkland Islands (Malvinas)",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831509,\
      "batch_id": 765278,\
      "body": {\
        "code": "bandwidth-monitored",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831508,\
      "batch_id": 765278,\
      "body": {\
        "code": "overriding",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831507,\
      "batch_id": 765278,\
      "body": {\
        "code": "Cheese",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831506,\
      "batch_id": 765278,\
      "body": {\
        "code": "PCI",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831505,\
      "batch_id": 765278,\
      "body": {\
        "code": "web services",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831504,\
      "batch_id": 765278,\
      "body": {\
        "code": "maroon",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831503,\
      "batch_id": 765278,\
      "body": {\
        "code": "indexing",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    }\
  ]
}
```

# Token information

This resource allows a caller to inspect basic information regarding the `token` in use. It will only return a single object related to the calling `token` ( ie - a call with `api_token.id=1` will only return information regarding `api_token.id=1`.

Endpoints

GET

/token\_information


Expand

# The token information object

Details of the client which generated the token.

If the API token was generated by an OAuth app, the object will contain associated client information.

If the API token was generated by the merchant, the object will reflect the `name` prefaced by ‘\[Private App\]’ and `contact_email` of the token.

##### Attributes

- client







object














If the API Token was generated by an Oauth app, an object containing associated client information.










Show object attributes


- contact\_email







string














The email associated with the API Token record.







For tokens created via OAuth App the contact can be `null`

- name







string














The name of the API Token as created by merchant.

- scopes







array














A list of scopes on the API Token.


##### Error related attributes

##### More Attributes

The token information object

```hljs json
{
  "client": {
    "name": "PARTNER",
    "contact_email": "ed@partner.com"
  },
  "contact_email": "jbluhm@example.com",
  "name": "token name",
  "scopes": [\
    "read_shop",\
    "write_payments"\
  ]
}
```

# Retrieve token information

Retrieve token details.

##### Responses

- 200




















successful response










Show response object



GET

/token\_information


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/token_information' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "token_information": {
    "client": {
      "name": "PARTNER",
      "contact_email": "ed@partner.com"
    },
    "contact_email": "jbluhm@example.com",
    "name": "token name",
    "scopes": [\
      "read_store",\
      "write_payment_methods"\
    ]
  }
}
```

# Accounts

This resource allows a caller to inspect basic information regarding the staff accounts in the store. ![](https://developer.getrecharge.com/images/accounts.png)

Endpoints

GET

/accounts/{id}


GET

/accounts


Expand

# The account object

An `Account` record represents a staff account details for the `Store`. One `Store` can have many staff’s account.

##### Attributes

- id







integer














Unique numeric identifier for the `Account`.

- user\_id







integer














The unique numeric identifier of the user associated to the `Account`.







There can only be one `Account` per user per `Store`.

- created\_at







datetime














The date and time when the `Account` was created.

- invited\_at







datetime














The date and time the user was last invited to open their `Account`







`null` for the store creator.

If an invite to open an `Account` is re-issued for a user, `invited_at` will hold the timestamp of the most recent invite sent.

- is\_owner







boolean














Flags whether this user is the store owner.







A `Store` can have multiple owners.


##### Error related attributes

##### More Attributes

The account object

```hljs json
{
  "account": {
    "id": 3315125,
    "user_id": 2057785,
    "created_at": "2021-07-20T09:10:19+00:00",
    "invited_at": "2021-07-18T09:10:19+00:00",
    "is_owner": false
  }
}
```

# Retrieve an account

Retrieves an account for the store.

Scopes:
read\_accounts


##### Responses

- 200




















successful response










Show response object



GET

/accounts/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/accounts/331512' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "account": {
    "id": 3315125,
    "user_id": 2057785,
    "created_at": "2021-07-20T09:10:19+00:00",
    "invited_at": "2021-07-18T09:10:19+00:00",
    "is_owner": false
  }
}
```

# List accounts

Returns all accounts associated to the store.

Scopes:
read\_accounts


##### Responses

- 200




















successful response










Show response object



GET

/accounts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/accounts' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "accounts": [\
    {\
      "id": 3315125,\
      "user_id": 2057785,\
      "created_at": "2021-07-20T09:10:19+00:00",\
      "invited_at": "2021-07-18T09:10:19+00:00",\
      "is_owner": false\
    },\
    {\
      "id": 3316125,\
      "user_id": 2056785,\
      "created_at": "2021-05-20T09:10:19+00:00",\
      "invited_at": null,\
      "is_owner": true\
    }\
  ]
}
```

# Events

This resource allows a caller to inspect recent events in the store.

Endpoints

GET

/events


Expand

# The event object

Pro plan

An `Event` record represents an action that took place at a point in time.

##### Attributes

- id







integer














Unique numeric identifier for the `Event`.

- object\_id







integer














The unique numeric identifier of the object associated with the `Event`.

- customer\_id







integer














The unique numeric identifier of the customer associated with the `Event`.







This value can be `null` for events not directly associated with a customer.

- created\_at







datetime














The date and time when the `Event` was created.

- object\_type







string














The resource type of the object associated with the `Event`, e.g. ‘customer’ or ‘subscription’

- verb







string














The action describing the `Event`, e.g. ‘created’ or ‘updated’

- description







string














The short description that summarizes the `Event`.

- updated\_attributes







object














A list of objects describing attributes that were changed during the `Event`.










Show object attributes


- source







object














An object containing details about the origin of the `Event`.










Show object attributes


- custom\_attributes







object














A list of objects passed explicitly to a Recharge API call that created the `Event`.







This field will only be populated on events created using the Recharge API.










Show object attributes



##### Error related attributes

##### More Attributes

The event object

```hljs json
{
  "event": {
    "id": 7160141294,
    "object_id": 362310818,
    "customer_id": 36885098,
    "created_at": "2023-05-31T14:16:07",
    "object_type": "subscription",
    "verb": "updated",
    "description": "Updated subscription #362310818",
    "updated_attributes": [\
      {\
        "attribute": "price",\
        "previous_value": "12.00",\
        "value": "15.00"\
      },\
      {\
        "attribute": "quantity",\
        "previous_value": "3",\
        "value": "5"\
      }\
    ],
    "source": {
      "account_id": null,
      "api_token_id": 987654321,
      "api_token_name": "Subscription API token",
      "account_email": null,
      "origin": "api",
      "user_type": null
    },
    "custom_attributes": [\
      {\
        "key": "ab_testing_flag",\
        "value": "a"\
      }\
    ]
  }
}
```

# List events

Returns all events associated with the store. The Events API is limited to events that occurred in the last 7 days

Granting the `read_events` scope to a token will expose some details about other Recharge API resources via the Events API.

Scopes:
read\_events


##### Query Parameters

- created\_at\_min







string














Show events that occurred after a certain date

- created\_at\_max







string














Show events that occurred before a certain date

- object\_type







string














Show events that occurred for a certain `object_type`, such as `customers`, `addresses`, `charges`, etc.

- object\_id







integer














Show events with a specific `object_id`. This filter should be used with the `object_type` filter.

- verbs







string














Show events with a specific `verb` or comma-separated list of `verbs`

- customer\_id







integer














Show events related to a specific `customer` using the customer’s primary identifier

- origin







string














Show events with a specific source.origin, such as `api`, `customer_portal`, `merchant_portal`, or `recharge_process`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/events


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/events' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "events": [\
    {\
      "id": 7160141294,\
      "object_id": 362310818,\
      "customer_id": 36885098,\
      "created_at": "2023-05-31T14:16:07",\
      "object_type": "subscription",\
      "verb": "updated",\
      "description": "Updated subscription #362310818",\
      "updated_attributes": [\
        {\
          "attribute": "price",\
          "previous_value": "12.00",\
          "value": "15.00"\
        },\
        {\
          "attribute": "quantity",\
          "previous_value": "3",\
          "value": "5"\
        }\
      ],\
      "source": {\
        "account_id": null,\
        "api_token_id": 987654321,\
        "api_token_name": "Subscription API token",\
        "account_email": null,\
        "origin": "api",\
        "user_type": null\
      },\
      "custom_attributes": [\
        {\
          "key": "ab_testing_flag",\
          "value": "a"\
        }\
      ]\
    }\
  ]
}
```

## Recharge Payment Methods API
v.2021-01v.2021-11

# API Reference

The Recharge API is primarily a REST API with some RPC endpoints to support common operations. It has predictable, resource-oriented URLs, accepts JSON-encoded request bodies, returns JSON-encoded responses, and uses standard HTTP response codes, authentication, and methods.

Related guides: [Generate API tokens](https://docs.rechargepayments.com/docs/recharge-api-key), [Using the API](https://docs.rechargepayments.com/docs/using-the-api)

## API and Platforms compatibility

Recharge offers hosted solutions and integrates with various ecommerce platforms to process recurring transactions with the setup of your choice. In order to be compatible with those platforms some of our API resources and endpoints may be limited in use to a subset of platforms. When that is the case we will flag with the help of tags the checkout/platform association for which that feature is compatible.

**When there is no restriction of compatibility no tags will appear.**

Below is a legend of the tags you may come across:

| Tag | Checkout solution | Ecommerce platform |
| --- | --- | --- |
| BigCommerce | Recharge hosted | BigCommerce |
| Custom | Recharge hosted or API-first | Custom |
| RCS | Recharge hosted | Shopify |
| SCI | Shopify hosted | Shopify |

You may also come across other tags specifying regional restrictions (e.g. USA Only) or new releases (e.g. Alpha, Beta).

![Intro image](https://developer.getrecharge.com/images/intro_v2.png)

Base URL

```hljs
https://api.rechargeapps.com
```

# Authentication

Recharge uses API keys to authenticate requests.

Each request to the API should contain an API token in the following header:

`X-Recharge-Access-Token:store_api_token`

Replace `store_api_token` with your API key.

All requests must be made over HTTPS.

## API Token Scopes

Scopes can be set up from the API token edit page in Recharge to control the level of access of an API token.

The API currently supports the scopes below:

| Write | Read |
| --- | --- |
|  | `read_accounts` |
| `write_batches` | `read_batches` |
| `write_customers` | `read_customers` |
| `write_discounts` | `read_discounts` |
|  | `read_events` |
| `write_notifications` |  |
| `write_orders` | `read_orders` |
| `write_payment_methods` | `read_payment_methods` |
| `write_products` | `read_products` |
| `write_subscriptions` | `read_subscriptions` |
|  | `read_store` |
|  | `read_credit_accounts` |
|  | `read_credit_adjustments` |

GET /

cURLPythonPHPRuby

```hljs bash
curl -i -H 'X-Recharge-Access-Token: your_api_token'
-X GET
```

# Versioning

All requests will use your account API settings, unless you send a `X-Recharge-Version` header to specify the version.

You can use the same token to make calls to all versions. When no version is specified it will default to the default version on your store.

| Existing API Versions | Release notes |
| --- | --- |
| `2021-11` | 2021-11 [release notes](https://changelog.rechargepayments.com/recharge-api-v2021-11-is-now-available-4syNNK) |
| `2021-01` |  |

# Responses

Recharge uses conventional `HTTP` response codes to indicate the success or failure of an API request. In general, codes in the `2xx` range indicate success, codes in the `4xx` range indicate an error that failed given the information provided ( e.g. a required parameter was omitted, a charge failed, etc ), and codes in the `5xx` range indicate an error with Recharge’s servers.

```hljs
200 - OK: Everything worked as expected.
201 - OK: The request was successful, created a new resource, and resource created is in the body.
202 - OK: The request has been accepted and is in processing.
204 - OK: The server has successfully fulfilled the request and there is no content to send in the response body.
400 - Bad Request: The request was unacceptable, often due to a missing required parameter.
401 - Unauthorized: No valid API key was provided.
402 - Request Failed: The parameters were valid but the request failed.
403 - The request was authenticated but not authorized for the requested resource (permission scope error).
403 - Uninstalled Store.
404 - Not Found: The requested resource doesn’t exist.
405 - Method Not Allowed: The method is not allowed for this URI.
406 - The request was unacceptable, or requesting a data source which is not allowed although permissions permit the request.
409 - Conflict: You will get this error when you try to send two requests to edit an address or any of its child objects at the same time, in order to avoid out of date information being returned.
415 - The request body was not a JSON object.
422 - The request was understood but cannot be processed due to invalid or missing supplemental information.
426 - The request was made using an invalid API version.
429 - The request has been rate limited.
500 - Internal server error.
501 - The resource requested has not been implemented in the current version but may be implemented in the future.
503 - A 3rd party service on which the request depends has timed out.
```

# Extending responses

Our API endpoints and webhooks allow developers to extend responses with additional data in order to optimize calls, allowing for simpler and more efficient implementations.

The API supports including additional objects when using a `GET` request to retrieve a list or a `GET` request to retrieve a record by a specific id. This is achieved by using an `include` query parameter in the request URL. The `include` value contains the object or objects you want to include in the response of your request. On routes where multiple includes are available, you are able to pass multiple values separated by a comma ( `include=customer,metafields`). The below table defines available `include` values for commonly used resources of the API.

Webhooks support `included_objects` on the topics listed below. Webhook `included_objects` accepts an array of supported values ( `"included_objects": [ "customer", "metafields"]`). Specifying `included_objects` will return an enriched payload, containing the original resource and the associated included objects.

When including `charge_activities` in API calls or webhooks, note that only the last 90 days of activities will be included in the response.

| Resource | Endpoints | Webhook topics | Supported `include` values | Supported `included_objects` values |
| --- | --- | --- | --- | --- |
| `Addresses` | `GET /addresses`<br>`GET /addresses/{id}` | `address/created`<br>`address/updated` | `charge_activities`<br>`customer`<br>`discount`<br>`payment_methods`<br>`subscriptions` | `customer`<br>`payment_methods` |
| `Charges` | `GET /charges`<br>`GET /charges/{id}` | `charge/created`<br>`charge/failed`<br>`charge/max_retries_reached`<br>`charge/paid`<br>`charge/refunded`<br>`charge/uncaptured`<br>`charge/upcoming`<br>`charge/updated`<br>`charge/deleted` | `charge_activities` (beta)<br>`customer`<br>`metafields`<br>`payment_methods` | `customer`<br>`metafields`<br>`payment_methods` |
| `Customers` | `GET /customers`<br>`GET /customers/{id}` | `customer/activated`<br>`customer/created`<br>`customer/deactivated`<br>`customer/payment_method_updated`<br>`customer/updated`<br>`customer/deleted` | `addresses`<br>`metafields`<br>`payment_methods`<br>`subscriptions` | `addresses`<br>`metafields`<br>`payment_methods` |
| `Orders` | `GET /orders`<br>`GET /orders/{id}` | `order/cancelled`<br>`order/created`<br>`order/deleted`<br>`order/processed`<br>`order/payment_captured`<br>`order/upcoming`<br>`order/updated`<br>`order/success` | `customer`<br>`metafields` | `customer`<br>`metafields` |
| `Payment Methods` | `GET /payment_methods`<br>`GET /payment_methods/{id}` |  | `addresses` | `addresses` |
| `Subscriptions` | `GET /subscriptions`<br>`GET /subscriptions/{id}` | `subscription/activated`<br>`subscription/cancelled`<br>`subscription/created`<br>`subscription/deleted`<br>`subscription/skipped`<br>`subscription/updated`<br>`subscription/unskipped`<br>`subscription/paused` | `address`<br>`charge_activities`<br>`customer`<br>`metafields`<br>`bundle_product`<br>`bundle_selections` | `customer`<br>`metafields` |

# Cursor Pagination

By default, calls for a list of objects will return 50 results. Using the `limit` parameter, that can be increased to 250 results per response.

When there are more results than the current `limit` a cursor may be used to request additional results.

The `next_cursor` and `previous_cursor` attributes are are included in all list responses.

To request the next set of results, find the `next_cursor` in the list response and include it in the url with the cursor parameter e.g. `GET https://api.rechargeapps.com/subscriptions?limit=250&cursor=<next_cursor>`

To request the previous set of results, find the `previous_cursor` in the list response and include it in the url with the cursor parameter e.g. `GET https://api.rechargeapps.com/subscriptions?limit=250&cursor=<previous_cursor>`

## Retrieving total number of records

Starting with the `2021-11` version of the API, you will not be able to retrieve a count of total records for a given `GET` request. If you are building a UI page that allows end users to paginate through result sets (such as paginating through a list of orders or subscriptions), we recommend that your pagination implementation allow users to go to the next and previous page of results (as opposed to allowing users to jump to specific page in the results). This aligns well with the `previous_cursor` and the `next_cursor` fields included in all list responses.

Example Request

cURLPythonPHPRuby

```hljs bash
URL="https://api.rechargeapps.com/charges?limit=5"

response=$(curl -s -w "%{http_code}"\
    -H 'X-Recharge-Access-Token: your_api_token' \
    -H 'X-Recharge-Version: 2021-11' \    -X GET $URL)

content=$(sed '$ d' <<< "$response") # get all but the last line which contains the status code

# Display results
echo $content | jq "."

# parse next url
echo "Next URL"
next_cursor=$(jq ".next_cursor" <<< "${content}")

# Notice next_cursor value is passed as page_info query param
echo "$URL&page_info=$next_cursor"
```

# Sorting

The API supports sorting of results when using a `GET` request to retrieve a list. Sorting is achieved using a `sort_by` query parameter in the request URL. The `sort_by` value contains the parameter and sort direction for your results (ascending or descending), and available sort\_by values vary between resources. The below table defines available `sort_by` options for commonly used resources.

| Resource | Supported `sort_by_values` |
| --- | --- |
| **`Address`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` |
| **`Async Batch`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` |
| **`Charge`** | **Default: `id-asc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` `scheduled_at-asc` `scheduled_at-desc` |
| **`Customer`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Discount`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Metafield`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` |
| **`Onetime`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Order`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` `processed_at-asc` `processed_at-desc` `scheduled_at-asc` `scheduled_at-desc` |
| **`Plan`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` |
| **`Subscription`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Webhook`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` |

# Addresses

An Addresses record represents a shipping address. Each customer can have multiple addresses. Subscriptions are a child object of an address. ![](https://developer.getrecharge.com/images/address.png)

Endpoints

POST

/addresses


GET

/addresses/{id}


PUT

/addresses/{id}


DELETE

/addresses/{id}


GET

/addresses


POST

/addresses/merge


POST

/addresses/{id}/charges/skip


Expand

# The address object

An Addresses record represents a shipping address. Each customer can have multiple addresses. Subscriptions are a child object of an address.

##### Attributes

- id







integer














Unique numeric identifier for the `Address`.

- payment\_method\_id







integer














Unique numeric identifier for the `Payment Method` associated to the `Address`.

- address1







string














The street associated with the `Address`.

- address2







string














Any additional information associated with the `Address`.

- city







string














The city associated with the address.

- company







string














The company associated with the address.

- country\_code







string














2-letter country code.

- customer\_id







integer














Unique numeric identifier for the customer associated with the address.

- discounts







array














A list of discounts applied on the address. These discounts will apply to future recurring charges associated with this address.










Show object attributes


- first\_name







string














The customer’s first name associated with the address.

- last\_name







string














The customer’s last name associated with the address.

- order\_attributes







array












[BigCommerce](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

















Replaces cart\_attributes. Extra information that is added to the order.










Show object attributes


- order\_note







string














Notes to be added to all orders associated with the address.

- phone







string














The phone number associated with the address.

- presentment\_currency







string












[SCI](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

















The currency on the subscription contract in Shopify.







Only set if the currency is different from the store-level currency. Else, will default to store-level currency.

- province







string














The state or province associated with the address.

- shipping\_lines\_conserved







array














Shipping rates that have previously been overridden via `shipping_lines_override` but are currently inactive.










Show object attributes


- shipping\_lines\_override







array














Used when shipping rates need to be overridden.







If this parameter has value `null`, rates will be fetched when `Charge` is created or regenerated










Show object attributes


- zip







string














The zip or postal code associated with the address.

- created\_at







datetime














The date and time when the address was created.

- updated\_at







datetime














The date and time when the address was last updated.


##### Error related attributes

##### More Attributes

The address object

```hljs json
{
  "address": {
    "id": 21317826,
    "payment_method_id": 17874235,
    "address1": "1776 Washington Street",
    "address2": "",
    "city": "Los Angeles",
    "company": "Recharge",
    "country_code": "US",
    "created_at": "2018-11-14T09:00:01+00:00",
    "customer_id": 18819267,
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "first_name": "John",
    "last_name": "Doe",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note.",
    "phone": "5551234567",
    "presentment_currency": "USD",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [\
      {\
        "code": "Standard Shipping",\
        "price": "0.00",\
        "title": "Standard Shipping"\
      }\
    ],
    "updated_at": "2018-11-14T09:00:01+00:00",
    "zip": "90404"
  }
}
```

# Create an address

Create a new address for a customer.

Scopes:
write\_customers


##### Body Parameters

- customer\_id







integer





\\* Required














Unique numeric identifier for the customer associated with the address.

- address1







string





\\* Required














The street associated with the `Address`. Minimum length is 1 character.

- address2







string














Any additional information associated with the shipping address.

- city







string





\\* Required














The city associated with the shipping address.

- company







string














The company associated with the shipping address.

- country\_code







string





\\* Required














2-letter country code.







Check if the store supports shipping to this country. This is set by the merchant in their Shipping Settings page.

- discounts







array














List of discounts applied on the `Address`.










Show object attributes


- first\_name







string





\\* Required














The customer’s first name associated with the address. Minimum length is 1 character.

- last\_name







string





\\* Required














The customer’s last name associated with the address. Minimum length is 1 character.

- order\_attributes







array












[BigCommerce](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

















Extra information that is added to the order.










Show object attributes


- order\_note







string














Notes to be added to all orders associated with the address.

- payment\_method\_id







integer














Payment method id for the `Payment_method` to be associated to this address.

- phone







string





\\* Required














The phone number associated with the address. Must be included in the request schema but can be an empty string.

- presentment\_currency







string














The currency that charges on this address will be processed in. If no presentment\_currency is passed, it will be set to your default store currency.

- province







string





\\* Required














The state or province associated with the address. Check if country requires a province `COUNTRIES_REQUIRING_PROVINCE`.

- shipping\_lines\_override







array














Used when shipping rates need to be overridden. If this parameter has value `null`, rates will be fetched when a related `Charge` is created or regenerated










Show object attributes


- zip







string





\\* Required














The zip or postal code associated with the address.







Check if the `country` requires a `zip` code `COUNTRIES_NOT_REQUIRING_ZIP`. If not included in the list then a zip code with the minimum length of 1 character is required. If the country is `United States` validate against regex `UNITED_STATES_ZIP_REGEX`. If country is `United Kingdom` then validate against regex `UNITED_KINGDOM_ZIP_REGEX`.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/addresses


cURLPythonPHPRuby

```hljs js
curl https://api.rechargeapps.com/addresses \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "customer_id": 22152215,
  "address1": "1776 Washington Street",
  "address2": "",
  "city": "Los Angeles",
  "company": "Recharge",
  "country_code": "US",
  "first_name": "John",
  "last_name": "Doe",
  "order_attributes": [\
    {\
      "name": "custom name",\
      "value": "custom value"\
    }\
  ],
  "phone": "5551234567",
 "presentment_currency": "USD",
  "province": "California",
  "zip": "90404"
}'
```

Response

201


```hljs json
{
  "address": {
    "id": 42171447,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Retrieve an address

Retrieves address for customer based on specified address id.

Scopes:
read\_customers


##### Responses

- 200




















successful response










Show response object



GET

/addresses/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/addresses/21317826' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "address": {
    "id": 42171447,
    "payment_method_id": 17874235,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Update an address

Updates an existing address to match the specified parameters.

## Example: remove discounts from an address

To remove all discounts from an address, set the `discounts` parameter to an empty array: `{"discounts": []}`

Note: When updating the `country` property you will have to update the `zip` property as well, otherwise you will receive an error.

Scopes:
write\_customers


##### Body Parameters

- address1







string














The street associated with the `Address`. Minimum length is 1 character.

- address2







string














Any additional information associated with the shipping address.

- city







string














The city associated with the shipping address. Minimum length is 1 character.

- company







string














The company associated with the shipping address.

- country\_code







string














2-letter country code.







Check if the `store` supports shipping to this country. This is set by the merchant in their Shipping Settings page.

- discounts







array














A list of discounts applied on the address. These discounts will apply to future recurring charges associated with this address.










Show object attributes


- first\_name







string














The customer’s first name associated with the address. Minimum length is 1 character.

- last\_name







string














The customer’s last name associated with the address. Minimum length is 1 character.

- order\_attributes







array












[BigCommerce](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

















Extra information that is added to the order.










Show object attributes


- order\_note







string














Notes to be added to all orders associated with the address.

- payment\_method\_id







integer














Payment method id for the `Payment_method` to be associated to this address.

- phone







string














The phone number associated with the address. Must be included in the request schema but can be an empty string.

- province







string














The state or province associated with the address. Check if country requires a province `COUNTRIES_REQUIRING_PROVINCE`.

- shipping\_lines\_override







array












[BigCommerce](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)











[SCI](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

















Used when shipping rates need to be overridden. If this parameter has value `null`, rates will be fetched when a related `Charge` is created or regenerated.










Show object attributes


- zip







string














The zip or postal code associated with the address. Check if the country requires a zip code `COUNTRIES_NOT_REQUIRING_ZIP`. If not included in the list then a zip code with the minimum length of 1 character is required. If the country is `United States` then validate against regex `UNITED_STATES_ZIP_REGEX`. If country is `United Kingdom` then validate against regex `UNITED_KINGDOM_ZIP_REGEX`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/addresses/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/addresses/38700614' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"address1": "1776 Washington Street"}'
```

Response

200


```hljs json
{
  "address": {
    "id": 42171447,
    "payment_method_id": 17874235,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Delete an address

It is possible to delete certain addresses from the store using API.

Only `Addresses` with no active `Subscriptions` can be deleted.

Scopes:
write\_customers


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/addresses/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/addresses/38700614'\
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List addresses

Returns all addresses from the store, or addresses for the user given in the parameter.

## HTTP examples

`GET /addresses`

`GET /addresses?customer_id=<customer_id>`

`GET /addresses?discount_id=<discount_id>`

`GET /addresses?discount_code=<discount_code>`

You can combine `created_at_min` and `created_at_max` to return all addresses created in the given timespan. This also applies to `updated_at_min` and `updated_at_max` parameters.

Scopes:
read\_customers


##### Query Parameters

- created\_at\_max







datetime














Returns addresses created before the given time.

- created\_at\_min







datetime














Returns addresses created after the given time.

- customer\_id







integer














Unique identifier of the customer.

- discount\_code







string














Returns addresses that have the provided discount\_code.

- discount\_id







string














Returns addresses that have the provided discount\_id.

- ids







string














Filter addresses by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










The amount of results. Default is 50 while the maximum is 250.

- page







string





\*Deprecated













Default: 1










The page to show. Default is 1.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- updated\_at\_max







string














Returns addresses updated before the given date.

- updated\_at\_min







string














Returns addresses updated after the given time.

- is\_active







boolean














Returns active addresses.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/addresses


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/addresses' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "addresses": [\
    {\
      "id": 42171447,\
      "payment_method_id": 17874235,\
      "address1": "1030 Barnum Ave",\
      "address2": "Suite 101",\
      "city": "Stratford",\
      "company": "Fake Company",\
      "country_code": "US",\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "customer_id": 37657002,\
      "discounts": [\
        {\
          "id": 123456\
        }\
      ],\
      "first_name": "Fake First",\
      "last_name": "Fake Last",\
      "order_attributes": [\
        {\
          "name": "custom name",\
          "value": "custom value"\
        }\
      ],\
      "order_note": "My recurring order note",\
      "phone": "999-999-9999",\
      "presentment_currency": "USD",\
      "province": "Connecticut",\
      "shipping_lines_conserved": [],\
      "shipping_lines_override": [\
        {\
          "code": "Standard Shipping",\
          "price": "0.00",\
          "title": "Standard Shipping"\
        }\
      ],\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "zip": "06614"\
    }\
  ]
}
```

# Merge addresses

Merges up to 10 source addresses into 1 target address.

If one of the `Addresses` being merged has a different presentment currency, the entire merge will fail and throw an error.

Scopes:
write\_customers


##### Body Parameters

- delete\_source\_addresses







boolean














Indicates whether source addresses should be deleted.

- next\_charge\_date







string














Specifies the next charge date of the associated subscriptions on the target address.

- target\_address







object





\\* Required














The address all of the subscriptions should be moved to.










Show object attributes


- source\_addresses







array





\\* Required














The list of addresses that the subscriptions should move from.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/addresses/merge


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/addresses/merge' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"target_address": {"id": 42171447}, "source_addresses": [{"id": 42171446}, {"id": 42171445}]}'
```

Response

200


```hljs json
{
  "address": {
    "id": 42171447,
    "payment_method_id": 17874235,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Skip future charge

Skip a `Charge` in the future for one or multiple `Subscriptions` associated with the `Address`.

If the `Charge` does not exist on the date, it will be created with a `SKIPPED` status.

Scopes:
write\_orders


##### Body Parameters

- date







datetime





\\* Required














The date in the future of the `Charge` to be skipped.







This date must be within the delivery schedules of the `Customer`.

- subscription\_ids







array





\\* Required














A list containing the `Subscription` IDs to be skipped.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 404




















the `Address` with `id` does not exist










Show response object


- 422




















invalid data passed to the endpoint










Show response object



POST

/addresses/{id}/charges/skip


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/addresses/91977136/charges/skip' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"date": "2022-09-15", "purchase_item_ids": [27363808, 27363809]}'
```

Response

200

404

422


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": null,
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "skipped",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Bundle Selections

Pro plan

[SCI](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

A bundle selection represents the contents within a Bundle linked to an individual Subscription. It can represent the selection for upcoming orders or past orders. A `BundleSelection` is associated with a corresponding `Subscription` and a `BundleVariant` (the `BundleVariant` is used to validate contents in the selection). When a new order for the associated `Subscription` occurs, it will extract the current contents of the `BundleSelection` for the Bundle item in the order.

Endpoints

GET

/bundle\_selections


GET

/bundle\_selections/{id}


POST

/bundle\_selections


PUT

/bundle\_selections/{id}


DELETE

/bundle\_selections/{id}


Expand

# The bundle selection object

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

A bundle selection represents the contents within a Bundle linked to an individual Subscription. It can represent the selection for upcoming orders or past orders. A `BundleSelection` is associated with a corresponding `Subscription` and a `BundleVariant` (the `BundleVariant` is used to validate contents in the selection).

##### Attributes

- id







integer














The unique numeric identifier for the `BundleSelection`.

- bundle\_variant\_id







integer














The ID of the `BundleVariant` associated with the `BundleSelection`.

- purchase\_item\_id







integer














The ID of the `PurchaseItem` associated with the `BundleSelection`.

- created\_at







datetime














The date and time when the contents were selected.

- external\_product\_id







string














The product id as it appears in the external e-commerce platform. The `external_product_id` of the `Product` record in Recharge, linking the `BundleSelection` to a `Product` associated with a Bundle.

- external\_variant\_id







string














The variant id as it appears in the external e-commerce platform. The `external_variant_id` of the `Product` record in Recharge, linking the `BundleSelection` to a `Product` associated with a Bundle.

- items







array














A list of `item` objects, each containing information about a distinct product selected as part of the Bundle.










Show object attributes


- updated\_at







datetime














The date and time at which the `BundleSelection` was most recently updated.


##### Error related attributes

##### More Attributes

The bundle selection object

```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# List bundle selections

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Returns a list of `BundleSelections`.

## HTTP request examples

`GET /bundle_selections?purchase_item_ids=:purchase_item_id_1,:purchase_item_id_2`

`GET /bundle_selections?bundle_variant_ids=:bundle_variant_id_1,:bundle_variant_id_2`

`GET /bundle_selections?limit=1`

`GET /bundle_selections?limit=1&page=2`

`GET /bundle_selections?sort_by=updated_at-desc`

Returned `BundleSelections` are sorted descending by ID value by default.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
read\_subscriptions


##### Query Parameters

- purchase\_item\_ids







string














Filter `BundleSelections` by `Subscription` or `Onetime` ID.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- bundle\_variant\_ids







string














Filter `BundleSelections` by `BundleVariants`.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- item\_external\_variant\_ids







string














Filter `BundleSelections` by contents. If the Variant ID exists as a content of the `BundleSelection` it will appear as a result.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- item\_external\_product\_ids







string














Filter `BundleSelections` by contents. If the Product ID exists as a content of the `BundleSelection` it will appear as a result.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- limit







string













Default: 50





Max: 250










The amount of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- sort\_by







string














Sort listed `BundleSelections` in a specific order.

Available sort options: `id-asc`, `id-desc`, `updated_at-asc`, `updated_at-desc`.

- active\_purchase\_items







boolean














Bundle selections are not directly linked to Subscriptions. By default, the endpoint returns Bundle Selections, even those associated with cancelled subscriptions, unless the Bundle Selection has been deleted.

_To exclude cancelled subscriptions from your results, include `active_purchase_items=true` in your query._


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/bundle\_selections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/bundle_selections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "bundle_selections": [\
    {\
      "id": 100714428,\
      "bundle_variant": 382417,\
      "purchase_item_id": 199820883,\
      "created_at": "2022-08-26T18:31:28+00:00",\
      "external_product_id": "7121697210548",\
      "external_variant_id": "41450875650228",\
      "items": [\
        {\
          "id": 541,\
          "collection_id": "287569608884",\
          "collection_source": "shopify",\
          "created_at": "2022-08-26T18:31:28+00:00",\
          "external_product_id": "7121693671604",\
          "external_variant_id": "41450853105844",\
          "quantity": 3,\
          "updated_at": "2022-08-26T18:52:41+00:00"\
        }\
      ],\
      "updated_at": "2022-08-26T18:31:28+00:00"\
    }\
  ]
}
```

# Retrieve a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Retrieve a `BundleSelection` using the `bundle_selection_id`.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object


- 404




















the `BundleSelection` with `bundle_selection_id` does not exist










Show response object



GET

/bundle\_selections/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/bundle_selections/100714428' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200

404


```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# Create a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Create a `BundleSelection`.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_subscriptions


##### Body Parameters

- purchase\_item\_id







integer





\\* Required














The ID of the `PurchaseItem` associated with the `BundleSelection`.

- plan\_id







integer














A Recharge Plan ID. If provided in a dynamically-priced Bundle, the unit price of each product variant will be inferred from the plan associated with the ID; otherwise, it will be inferred from the plan with the greatest discount for each product in the selection. This is not used in fixed-priced Bundles.

- items







array





\\* Required














A list of `item` objects, each containing information about a distinct product selected as part of the Bundle.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 422




















missing required field or invalid items passed










Show response object



POST

/bundle\_selections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/bundle_selections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "purchase_item_id": 199820883,
  "items": [\
    {\
      "collection_id": "287569608884",\
      "collection_source": "shopify",\
      "external_product_id": "7121693671604",\
      "external_variant_id": "41450853105844",\
      "quantity": 3\
    }\
  ]
}'
```

Response

200

422


```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# Update a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Modify an existing `BundleSelection` to match the specified parameters.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_subscriptions


##### Body Parameters

- purchase\_item\_id







integer














The ID of the `PurchaseItem` associated with the `BundleSelection`.

- plan\_id







integer














A Recharge Plan ID. If provided in a dynamically-priced Bundle, the unit price of each product variant will be inferred from the plan associated with the ID; otherwise, it will be inferred from the plan with the greatest discount for each product in the selection. This is not used in fixed-priced Bundles.

- items







array














A list of `item` objects, each containing information about a distinct product selected as part of the Bundle.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 404




















the `BundleSelection` with `bundle_selection_id` does not exist










Show response object


- 422




















invalid items passed










Show response object



PUT

/bundle\_selections/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/bundle_selections/100714428' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "purchase_item_id": 199820883,
  "items": [\
    {\
      "collection_id": "287569608884",\
      "collection_source": "shopify",\
      "external_product_id": "7121693671604",\
      "external_variant_id": "41450853105844",\
      "quantity": 3\
    }\
  ]
}'
```

Response

200

404

422


```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# Delete a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Delete a `BundleSelection`

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_subscriptions


##### Responses

- 204




















the `BundleSelection` has been removed and there is no content to send back in the response body.










Show response object


- 404




















the `BundleSelection` with `id` does not exist










Show response object



DELETE

/bundle\_selections/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/bundle_selections/100714428' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204

404


```hljs json
{}
```

# Charges

A charge is the representation of a financial transaction linked to the purchase of an item (past or future). It can be a transaction that was processed already or the representation of an upcoming transaction. A `Charge` is linked to its corresponding `Orders` (one `Order` for pay as you go subscriptions and several for pre-paid). `Orders` are created once the corresponding `Charge` is successful. After successful payment, the first `Order` will be immediately submitted to the external platform if applicable (e.g. Shopify, BigCommerce). ![](https://developer.getrecharge.com/images/charge.png)

Endpoints

GET

/charges/{id}


GET

/charges


POST

/charges/{id}/apply\_discount


POST

/charges/{id}/remove\_discount


POST

/charges/{id}/skip


POST

/charges/{id}/unskip


POST

/charges/{id}/refund


POST

/charges/{id}/process


POST

/charges/{id}/capture\_payment


Expand

# The charge object

A `Charge` is the representation of the financial transaction linked to a purchase (past or future). It can be a transaction that was processed already or the representation of an upcoming transaction. A charge is linked to its corresponding `Orders` (one for pay as you go subscriptions and several for pre-paid).

A `Charge` can have many parent subscriptions. All subscriptions on a given `Address` with the same `next_charge_date` date will be merged into one `Charge` and that charge will contain one `line_item` per `Subscription`.

##### Attributes

- id







integer














The unique numeric identifier for the `Charge`.

- address\_id







integer














The ID of the shipping `Address` tied to the `Charge`.

- analytics\_data







object














An object containing analytics data associated with the `Charge`.










Show object attributes


- billing\_address







object














All the billing information related to the charge.










Show object attributes


- client\_details







object














Details of the access method used by the purchaser.










Show object attributes


- created\_at







datetime














The date and time when the transaction was created.

- currency







string














The code of the currency for this `Charge`, such as `USD`.







Related guides: [Supported currencies](https://support.rechargepayments.com/hc/en-us/articles/360037897534-Supported-currencies)

- customer







object














An object containing `Customer` information associated with this `Charge`.










Show object attributes


- discounts







array














An array of `Discounts` associated with the `Charge`.










Show object attributes


- external\_order\_id







object














An object containing the associated external order ID.










Show object attributes


- external\_transaction\_id







object














An object containing the associated external transaction ID.










Show object attributes


- line\_items







array














A list of `line_item` objects, each containing information about a distinct purchase item.










Show object attributes


- note







string














Notes associated with the `Charge`.

- order\_attributes







array














An array of name-value pairs of order attributes on the `Charge`.










Show object attributes


- orders\_count







integer














The number of `Orders` generated from this `Charge` (>1 for prepaid `Subscriptions`).

- payment\_processor







string














The payment processor used for this `Charge`.

- processed\_at







datetime














The date and time when the transaction was processed.

- scheduled\_at







date














The date time of when the `Charge` is/was scheduled to process.

- shipping\_address







object














The shipping `Address` of the `Charge`.










Show object attributes


- shipping\_lines







array














An array of shipping lines associated with the `Charge`.










Show object attributes


- status







string













Possible values:

success,

error,

queued,

skipped,

refunded,

partially\_refunded,

pending\_manual\_payment,

pending










The status of the `Charge`.

- subtotal\_price







string














The combined price of all `line_items` without taxes and shipping.

- tags







string














A comma-separated list of tags on the `Charge`.

- tax\_lines







array














An array of tax lines that apply to the `Charge`.










Show object attributes


- taxable







boolean














A boolean indicator of the taxability of the `Charge`.

- taxes\_included







boolean














Whether taxes are included in the order subtotal.

- total\_discounts







string














The sum of the `Discounts` applied to the `Charge`.

- total\_line\_items\_price







string














The total price of all line items of the `Charge`.

- total\_price







string














The sum of all the prices of all the items in the `Charge`, taxes and discounts included (must be positive).

- total\_refunds







string














The sum of all refunds that were applied to the `Charge`.

- total\_tax







string














The total tax due associated with the `Charge`.

- total\_weight\_grams







integer














The total weight of the `Charge`’s line items in grams.

- type







string













Possible values:

checkout,

recurring










An indicator of the `Charge`’s type, either checkout or recurring.

- updated\_at







datetime














The date time at which the `Charge` was most recently updated.


##### Error related attributes

- error







string














Error reason as sentence text (typically returned direct from the payment processor). e.g. `"error": "Customer needs to update credit card"`

- error\_type







string














Structured reason why the charge failed such as `CUSTOMER_NEEDS_TO_UPDATE_CARD`.

- charge\_attempts







integer














Shows how many times an attempt to charge was placed.

- external\_variant\_id\_not\_found







boolean














Indicates if Recharge was able to find the `external_variant_id` from the `Charge`.

- retry\_date







date














The date when the next attempt will be placed.


##### More Attributes

- has\_uncommited\_changes







boolean














Specifies whether the `Charge` is scheduled for a regeneration (if the `Subscription` related to the charge was updated in the last 5 seconds using `commit=false`).


The charge object

```hljs json
{
  "charge": {
    "id": 100714428,
    "address_id": 21317826,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "differentiate-content",\
          "utm_data_source": "cookie",\
          "utm_medium": "email",\
          "utm_source": "newsletter",\
          "utm_term": "test-term",\
          "utm_time_stamp": "2019-12-16T23:57:28.752Z"\
        }\
      ]
    },
    "billing_address": {
      "address1": "3030 Nebraska Avenue",
      "address2": null,
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Mike",
      "last_name": "Flynn",
      "phone": "3103843698",
      "province": "California",
      "zip": "90404"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2018-11-14T09:45:44+00:00",
    "currency": "USD",
    "customer": {
      "id": 12345,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "10DOLLAROFF",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_XXXXXXXXXXXXXXX"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "99999999999"\
        },\
        "grams": 4536,\
        "images": {\
          "large": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee_large.png",\
          "medium": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee__medium.png",\
          "original": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee_.png",\
          "small": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee__small.png"\
        },\
        "original_price": "12.00",\
        "properties": [\
          {\
            "name": "grind",\
            "value": "drip"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "MILK-1",\
        "tax_due": "1.14",\
        "tax_lines": [\
          {\
            "price": "0.870",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.270",\
            "rate": 0.0225,\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "12.00",\
        "title": "Sumatra Coffee",\
        "total_price": "13.14",\
        "unit_price": "12.00",\
        "variant_title": "Milk - a / b"\
      }\
    ],
    "note": "next order #1",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "processor_name": "stripe",
    "scheduled_at": "2018-12-12",
    "shipping_address": {
      "address1": "3030 Nebraska Avenue",
      "address2": "",
      "city": "Los Angeles",
      "company": "Recharge",
      "country": "United States",
      "first_name": "Mike",
      "last_name": "Flynn",
      "phone": "3103843698",
      "province": "California",
      "zip": "90404"
    },
    "shipping_lines": [\
      {\
        "code": "Standard Shipping",\
        "price": "0.00",\
        "title": "Standard Shipping"\
      }\
    ],
    "status": "queued",
    "subtotal_price": "12.00",
    "tags": "Subscription",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles County Tax"\
      }\
    ],
    "taxes_included": true,
    "total_discounts": "0.00",
    "total_line_items_price": "12.00",
    "total_price": "13.14",
    "total_refunds": null,
    "total_tax": "1.14",
    "total_weight_grams": 4536,
    "type": "recurring",
    "updated_at": "2018-11-14T09:45:44+00:00"
  }
}
```

# Retrieve a charge

Retrieve a `Charge` using the `charge_id`.

Starting March 19th, 2025, processed charges (those where status equals success, refunded, or partially-refunded) that have a value for processed\_at greater than 90 days in the past will no longer appear in responses. As a result, you may receive an error.

Charge data processed over 90 days ago will remain available through the [Exports tool](https://support.getrecharge.com/hc/en-us/articles/360049725373-Available-exports-in-the-Export-Builder#h_9ade00c9-7cdb-474d-9d91-1e976689eca9) in the Recharge merchant portal and within the [Merchant portal UI](https://support.getrecharge.com/hc/en-us/articles/360008829113-Viewing-order-information-in-the-merchant-portal).

Example of unaffected API calls:

\[RETRIEVE A CHARGE\] `/charges/{id}` (if it’s a charge that does not have a processed\_at date or the processed\_at date is within the last 90 days)

Example of API calls that will result in an error:

\[RETRIEVE A CHARGE\] `/charges/{id}` (if it’s a charge with a processed\_at date older than 90 days)

Scopes:
read\_orders


##### Responses

- 200




















successful response










Show response object



GET

/charges/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": "2021-01-01",
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "taxes_included": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# List charges

Returns a list of `Charges`.

## HTTP request examples

`GET /charges?address_id=:address_id`

`GET /charges?created_at_min=2016-05-18&created_at_max=2016-06-18`

`GET /charges?customer_id=:customer_id`

`GET /charges?discount_code=10PERCENTOFF`

`GET /charges?discount_id=:discount_id`

`GET /charges?external_order_id=:external_order_id`

`GET /charges?ids=1123551,262667345,12341535`

`GET /charges?purchase_item_id=:purchase_item_id`

`GET /charges?scheduled_at=2016-06-18`

`GET /charges?scheduled_at_min=2016-05-18&scheduled_at_max=2016-06-18`

`GET /charges?sort_by=id-desc`

`GET /charges?status=queued`

`GET /charges?status=queued,refunded,partially_refunded`

`GET /charges?updated_at_min=2016-05-18&updated_at_max=2016-06-18`

`GET /charges?processed_at_min=2022-01-18&processed_at_max=2022-02-18`

Starting March 19th, 2025, processed charges (those where status equals success, refunded, or partially- refunded) that have a value for processed\_at greater than 90 days in the past will no longer appear in responses. As a result, you may receive a partial data set or an empty list.

Charge data processed over 90 days ago will remain available through the [Exports tool](https://support.getrecharge.com/hc/en-us/articles/360049725373-Available-exports-in-the-Export-Builder#h_9ade00c9-7cdb-474d-9d91-1e976689eca9) in the Recharge merchant portal and within the [Merchant portal UI](https://support.getrecharge.com/hc/en-us/articles/360008829113-Viewing-order-information-in-the-merchant-portal).

Examples of unaffected API calls:

\[LIST CHARGES\] `/charges?status=queued`

\[LIST CHARGES\] `/charges?status=error`

Examples of API calls that may return partial results:

\[LIST CHARGES\] `/charges?processed_at_min=2024-01-01` (this would only return results that have a processed\_at date in the last 90 days)

\[LIST CHARGES\] `/charges?status=success,queued` (this would return all queued charges but only return success charges that have a processed\_at date in the last 90 days)

Example of API calls that will result in an empty list:

\[LIST CHARGES\] `/charges?processed_at_max=2024-01-01` (any date over 90 days old)

Reminder: returned charges are sorted ascending by id value by default.

Scopes:
read\_orders


##### Query Parameters

- address\_id







string














Filter `Charges` by `Address`.

- created\_at\_max







string














Show `Charges` created before the given date.

- created\_at\_min







string














Show `Charges` created after the given date.

- customer\_id







string














Filter `Charges` by `Customer`.

- discount\_code







string














List `Charges` that contain the given `discount_code`.

- discount\_id







string














List `Charges` that contain the given `discount_id`.

- external\_order\_id







string














Filter `Charges` by the associated order ID in the external e-commerce platform.

- ids







string














Filter `Charges` by ID.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- limit







string













Default: 50





Max: 250










The amount of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- purchase\_item\_id







string














Filter `Charges` by a `Subscription` or `Onetime` ID.

- purchase\_item\_ids







string














Filter `Charges` by a comma-separated list of `Subscription` or `Onetime` IDs.

- scheduled\_at







string














Filter `Charges` by specific scheduled charge date.

- scheduled\_at\_max







string














Show `Charges` scheduled to be processed before the given date.

- scheduled\_at\_min







string














Show `Charges` scheduled to be processed after the given date.

- sort\_by







string














Sort listed `Charges` in a specific order.

Available sort options: `id-asc`, `id-desc`, `updated_at-asc`, `updated_at-desc`, `scheduled_at-asc`, `scheduled_at-desc`.

- status







string














Filter charges by status.

Available status: `success`, `queued`, `error`, `refunded`, `partially_refunded`, `skipped`, `pending_manual_payment`, `pending`.

- updated\_at\_max







string














Show charges updated before the given date.

- updated\_at\_min







string














Show charges updated after the given date.

- processed\_at\_min







string














Show charges processed after, and including, the given date.

- processed\_at\_max







string














Show charges processed before, and including, the given date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/charges


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next": "next_cursor",
  "previous": "previous_cursor",
  "charges": [\
    {\
      "id": 377749210,\
      "address_id": 42171447,\
      "analytics_data": {\
        "utm_params": [\
          {\
            "utm_source": "facebook",\
            "utm_medium": "cpc"\
          }\
        ]\
      },\
      "billing_address": {\
        "address1": "601 SW Washing St.",\
        "address2": "Suite 101",\
        "city": "Portland",\
        "company": "Acme Corp",\
        "country_code": "US",\
        "first_name": "Jane",\
        "last_name": "Doe",\
        "phone": "888-888-8888",\
        "province": "Oregon",\
        "zip": "97205"\
      },\
      "client_details": {\
        "browser_ip": "192.168.0.1",\
        "user_agent": "safari webkit"\
      },\
      "created_at": "2021-11-09T19:22:13+00:00",\
      "currency": "USD",\
      "customer": {\
        "id": 37657002,\
        "email": "test@test.com",\
        "external_customer_id": {\
          "ecommerce": "2879413682227"\
        },\
        "hash": "7e706455cbd13e40"\
      },\
      "discounts": [\
        {\
          "id": 12345,\
          "code": "TESTCODE10",\
          "value": 10,\
          "value_type": "fixed_amount"\
        }\
      ],\
      "error": null,\
      "error_type": null,\
      "external_order_id": {\
        "ecommerce": "2541635698739"\
      },\
      "external_transaction_id": {\
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"\
      },\
      "has_uncommitted_changes": false,\
      "line_items": [\
        {\
          "purchase_item_id": 63898947,\
          "external_product_id": {\
            "ecommerce": "4381728735283"\
          },\
          "external_variant_id": {\
            "ecommerce": "999999999999"\
          },\
          "grams": 454,\
          "handle": "shirt-package",\
          "images": {\
            "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
            "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
            "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
            "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
          },\
          "original_price": "10.00",\
          "properties": [\
            {\
              "name": "Color",\
              "value": "Blue"\
            }\
          ],\
          "purchase_item_type": "subscription",\
          "quantity": 1,\
          "sku": "TOM0001",\
          "tax_due": "1.30",\
          "tax_lines": [\
            {\
              "price": "0.9931",\
              "rate": "0.0725",\
              "title": "CA State Tax",\
              "unit_price": "0.3310"\
            },\
            {\
              "price": "0.3082",\
              "rate": "0.0225",\
              "title": "LA County Tax",\
              "unit_price": "0.1027"\
            }\
          ],\
          "taxable": true,\
          "taxable_amount": "10.00",\
          "title": "Shirt package",\
          "total_price": "11.30",\
          "unit_price": "10.00",\
          "unit_price_includes_tax": false,\
          "variant_title": "Blue T-shirt"\
        }\
      ],\
      "note": "next order in sequence 3",\
      "order_attributes": [\
        {\
          "name": "Checkout-Method",\
          "value": "delivery"\
        }\
      ],\
      "orders_count": 1,\
      "payment_processor": "stripe",\
      "processed_at": "2021-11-09T23:59:31+00:00",\
      "retry_date": "2021-01-01",\
      "scheduled_at": "2021-12-09",\
      "shipping_address": {\
        "address1": "1030 Barnum Ave",\
        "address2": "Suite 101",\
        "city": "Stratford",\
        "company": "Fake Company",\
        "country_code": "US",\
        "first_name": "Fake First",\
        "last_name": "Fake Last",\
        "phone": "999-999-9999",\
        "province": "Connecticut",\
        "zip": "06614"\
      },\
      "shipping_lines": [\
        {\
          "code": "Standard",\
          "price": "4.90",\
          "source": "shopify",\
          "taxable": true,\
          "tax_lines": [\
            {\
              "price": "0.355",\
              "rate": 0.0725,\
              "title": "CA State Tax"\
            },\
            {\
              "price": "0.110",\
              "rate": 0.0225,\
              "title": "Los Angeles  County Tax"\
            }\
          ],\
          "title": "Standard"\
        }\
      ],\
      "status": "success",\
      "subtotal_price": "10.00",\
      "tags": "Subscription, Subscription Recurring Order",\
      "tax_lines": [\
        {\
          "price": "0.950",\
          "rate": 0.0725,\
          "title": "CA State Tax"\
        },\
        {\
          "price": "0.335",\
          "rate": 0.0225,\
          "title": "Los Angeles  County Tax"\
        }\
      ],\
      "taxable": true,\
      "taxes_included": true,\
      "total_discounts": "10.0",\
      "total_line_items_price": "10.00",\
      "total_price": "11.29",\
      "total_refunds": "0.00",\
      "total_tax": "1.29",\
      "total_weight_grams": 454,\
      "type": "recurring",\
      "updated_at": "2021-11-09T23:59:32+00:00"\
    }\
  ]
}
```

# Apply a discount

Endpoint for adding `Discount` to an existing queued `Charge`.

You cannot add a `Discount` to an existing queued `Charge` if the `Charge` or the associated `Address` already has one.

You can provide either `discount_id` or `discount_code`. If both parameters are passed, the value for `discount_id` will take precedence.

If a `Charge` has a `Discount` and it gets updated, or a regeneration occurs, the `Discount` will be lost. Regeneration is a process that refreshes the `Charge` JSON with new data in the case of the `Subscription` or `Address` being updated.

Scopes:
write\_orders


##### Body Parameters

- discount\_code







string














Code of the `Discount` you want to apply to a `Charge`.

- discount\_id







integer














ID of the `Discount` you want to apply to a `Charge`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/apply\_discount


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/105805051/apply_discount' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"discount_code": "test"}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": "2021-01-01",
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Remove a discount

Remove a `Discount` from a `Charge` without destroying the `Discount`.

## HTTP request examples

`POST /charges/<charge_id>/remove_discount/`

In most cases the `Discount` should be removed from the `Address`. When the `Discount` is removed from the `Address`, the `Discount` is also removed from any future `Charges`.

If the `Discount` is on the parent `Address`, you cannot remove it using `charge_id`. When removing your `Discount`, it is preferable to pass the `address_id` so that the `Discount` stays removed if the `Charge` is regenerated. Only pass `charge_id` in edge cases in which there are two or more `Charges` on a parent `Address` and you only want to remove the `Discount` from one `Charge`. If you pass both parameters, it will remove the `Discount` from the `Address`.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/remove\_discount


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/459904607/remove_discount' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": "2021-01-01",
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Skip a charge

Skip a `Charge`.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/skip


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210/skip' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"purchase_item_ids": [27363808, 27363809]}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": null,
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "skipped",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Unskip a charge

Unskip a `Charge`.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object


- 422




















Unprocessable










Show response object



POST

/charges/{id}/unskip


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210/unskip' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"purchase_item_ids": [27363808]}'
```

Response

200

422


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": null,
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "queued",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Refund a charge

[BigCommerce](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Refund a `Charge`.

After the `POST` request, that particular `Charge` will have `status` parameter updated to `refunded` or `partially_refunded` depending on the value of the `amount` parameter. If `retry` is `true`, `error` and `error_type` are required, the `Charge` will have `status` parameter updated to `error`. This means a new transaction would occur if the charge dunning process succeeds again. This functionality is used when the order submission attempt on the remote platform failed after the transaction succeeded.

Scopes:
write\_orders

write\_payment\_methods


##### Body Parameters

- amount







string





\\* Required














Amount of money that will be refunded. It can be fully or partially refunded.

- full\_refund







boolean














If this parameter has value `true`, the `Charge` will be totally refunded.

- retry







boolean














If this parameter has value `true` and `full_refund` has value `true`, the `Charge` will be retried. The `status` on the `Charge` will be returned as “error”.

- error







string














If the `retry` parameter has value `true`, this value is required. Valid values are “insufficient\_inventory”.

- error\_type







string














If the `retry` parameter has value `true`, this value is required.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/refund


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210/refund' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"amount": 11.00}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "refunded",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "11.29",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Process a charge

Pro only

The charge processing route can be used to process `Charges` that are in a `queued` or `error` status.

Related guides:
[Charges FAQ](https://docs.rechargepayments.com/docs/charges#charges-faq)

The `/charges/{id}/process` endpoint is available to Recharge Pro merchants on a request basis. If you’re interested in leveraging the Recharge `Charge` processing API, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_payments


##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/process


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/100714428/process' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Capture a charge

If you are leveraging the authorize/capture workflow with Recharge, the `charge/{id}/capture_payment` endpoint is how to capture the funds of a previously authorized `Charge`.

## Capture Window

You can only capture payment on `Charges` that have been authorized within the last 7 days. This is a limitation of payment providers/financial institutions and Recharge cannot configure or override this limit. Any `Charges` that are attempted to be captured beyond that 7 day window may result in an error indicating the `Charge` cannot be captured.

As a result, Recharge provides a `charge/uncaptured` `Webhook`. If subscribed, this `Webhook` will notify you of any `Charges` that are not captured 6 days after authorization. Please refer to the [webhooks section](https://developer.getrecharge.com/2021-01/webhooks_endpoints) for more information.

The `/charges/{id}/capture_payment` endpoint is available to Recharge Pro merchants in the Recharge Closed Beta group. If you’re interested in leveraging the Recharge `capture_payment` endpoint, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_customers

write\_orders

write\_payment\_methods

write\_subscriptions


##### Responses

- 200




















Charge captured successfully










Show response object


- 400




















Bad Request










Show response object


- 404




















Not Found










Show response object


- 422




















Unprocessable










Show response object



POST

/charges/{id}/capture\_payment


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/100714428/capture_payment' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200

400

404

422


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Checkouts

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

`Checkouts` allow you to create, update, and process a `Checkout` programmatically. Shipping cost and sales tax determination are automatic functions of the Recharge Checkout resource.

Related guides: [Recharge checkout integrations](https://docs.rechargepayments.com/docs/checkout), [How to use the Checkout resource](https://docs.rechargepayments.com/docs/checkouts#how-to-use-checkout-api)

**Important -** The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Endpoints

POST

/checkouts


GET

/checkouts/{token}


POST

/checkouts


PUT

/checkouts/{token}


GET

/checkouts/{token}/shipping\_rates


POST

/checkouts/{token}/charge


Expand

# The checkout object

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

`Checkouts` resource allows you to create, update, and process a checkout programmatically. Shipping cost and sales tax determination are automatic functions of the Recharge Checkout resource.

The `Checkout` endpoints are only available for BigCommerce and Custom. `Checkouts` on Shopify must go through Shopify.

##### Attributes

- charge\_id







integer














ID for the `Charge` resulting from processing the `Checkout`.

- analytics\_data







object














Urchin Tracking Module (UTM) parameters are used for online marketing campaigns.










Show object attributes


- applied\_discounts







array














`Discount` details, populated once the `Discount` has been applied successfully to the `Checkout`.










Show object attributes


- applied\_shipping\_rate







object














Shipping rates details, populated once the rates have been selected and applied successfully to the `Checkout`.










Show object attributes


- available\_shipping\_rates







array














Shipping rates available for the shipping address provided in the `Checkout`.







`Checkout` object must contain the `shipping_address` before the `available_shipping_rates` are populated.










Show object attributes


- billing\_address







object














Billing `Address` for the `Checkout`.










Show object attributes


- completed\_at







datetime














Timestamp for when the `Checkout` was processed.

- created\_at







datetime














Timestamp for when the `Checkout` was created.

- currency







string














Currency of the `Checkout`.

- email







string














Email address for the `Customer`.

- external\_checkout\_id







string














External checkout reference, if one exists.

- external\_checkout\_source







string














External checkout platform, if one exists.

- external\_customer\_id







object














External customer reference, if one exists.










Show object attributes


- external\_transaction\_id







object














The ID of the associated transaction in a payment processor system (like Stripe).










Show object attributes


- line\_items







array














A list of items included in the `Checkout`







`quantity` and `external_variant_id` are required parameters in `line_items`.










Show object attributes


- note







string














Custom note.

- notification\_preferences







object














Notification preferences for the `Customer`.










Show object attributes


- order\_attributes







array














List of name-value pairs for custom attributes.










Show object attributes


- payment\_processor







string














Name of the payment processor.

- requires\_shipping







boolean














Whether or not the `Checkout` contains items that require shipping.

- shipping\_address







object














Shipping `Address` for the `Checkout`.










Show object attributes


- shipping\_lines







object














Details of shipping rate, cost…










Show object attributes


- subtotal\_price







string














Value of the `Checkout` minus shipping and tax.

- tax\_lines







array














Array of `tax_line` objects.










Show object attributes


- taxable







boolean














Whether the `Checkout` contains items that are taxable.

- taxes\_included







boolean














Whether the tax is included in the price of the items.

- token







string














Unique token for the `Checkout`.

- total\_price







string














Full price of the `Checkout` including shipping and tax.

- total\_tax







string














Tax charged on the `Checkout`.

- updated\_at







datetime














Timestamp for the latest `Checkout` update.


##### Error related attributes

##### More Attributes

The checkout object

```hljs json
{
  "checkout": {
    "charge_id": null,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discounts": [\
      {\
        "amount": "5.00",\
        "applicable": true,\
        "discount_code": "5_DOLLARS_OFF",\
        "non_redeemable_reason": null,\
        "value": "5.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "applied_shipping_rate": {
      "checkout": {
        "subtotal_price": null,
        "total_price": null,
        "total_tax": null
      },
      "code": "Flat rate (3 - 7 Business Days)",
      "delivery_range": null,
      "description": null,
      "handle": "recharge-Flat%20rate%20%283%20-%207%20Business%20Days%29-7.49",
      "name": "Flat rate (3 - 7 Business Days)",
      "phone_required": null,
      "price": "7.49",
      "tax_lines": [],
      "title": "Flat rate (3 - 7 Business Days)"
    },
    "available_shipping_rates": [\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "Flat rate (3 - 7 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-Flat%20rate%20%283%20-%207%20Business%20Days%29-7.49",\
        "name": "Flat rate (3 - 7 Business Days)",\
        "phone_required": null,\
        "price": "7.49",\
        "tax_lines": [],\
        "title": "Flat rate (3 - 7 Business Days)"\
      },\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "3 Days (3 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-3%20Days%20%283%20Business%20Days%29-11.75",\
        "name": "3 Days (3 Business Days)",\
        "phone_required": null,\
        "price": "11.75",\
        "tax_lines": [],\
        "title": "3 Days (3 Business Days)"\
      }\
    ],
    "billing_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "completed_at": null,
    "created_at": "2021-11-16T00:51:28+00:00",
    "currency": "USD",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "<external_cart_id>",
    "external_checkout_source": "custom",
    "external_customer_id": {
      "ecommerce": null,
      "payment_processor": null
    },
    "external_transaction_id": {
      "payment_processor": null
    },
    "line_items": [\
      {\
        "id": 0,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "12345"\
        },\
        "external_variant_id": {\
          "ecommerce": "123456"\
        },\
        "handle": "shirt-with-design",\
        "images": {\
          "small": "https://veryniceimage.jpg"\
        },\
        "properties": [\
          {\
            "name": "size",\
            "value": "xl"\
          }\
        ],\
        "purchase_item_type": "onetime",\
        "quantity": 3,\
        "recurring_unit_price": "12.00",\
        "requires_shipping": true,\
        "sku": null,\
        "subscription_preferences": {\
          "charge_delay": null,\
          "charge_interval_frequency": null,\
          "charge_on_day_of_month": null,\
          "charge_on_day_of_week": null,\
          "number_charges_until_expiration": null,\
          "shipping_interval_frequency": null,\
          "shipping_interval_unit_type": null\
        },\
        "tax_lines": [],\
        "taxable": false,\
        "title": "A Nice Shirt",\
        "total_price": "36.00",\
        "unit_price": "12.00",\
        "variant_title": null,\
        "weight": 340,\
        "weight_unit": "g"\
      }\
    ],
    "note": "flash sale",
    "notification_preferences": {
      "email": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      },
      "sms": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      }
    },
    "order_attributes": {
      "customer_niceness": "very"
    },
    "payment_processor": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "shipping_lines": [\
      {\
        "code": "Flat rate (3 - 7 Business Days)",\
        "price": "7.49",\
        "tax_lines": [],\
        "taxable": false,\
        "title": "Flat rate (3 - 7 Business Days)"\
      }\
    ],
    "subtotal_price": "31.00",
    "tax_lines": [],
    "taxable": false,
    "taxes_included": false,
    "token": "efd5a6b12b984f439ec16ce2a00fb5c3",
    "total_price": "31.00",
    "total_tax": "0.00",
    "updated_at": "2021-11-16T00:51:28+00:00"
  }
}
```

# Create a checkout

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Create a `Checkout`

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Scopes:
write\_checkouts


##### Query Parameters

- get\_shipping\_rates







boolean














If specified as a query parameter, shipping rates will be retrieved and will allow providing applied\_shipping\_rate upon checkout creation.


##### More Parameters

##### Body Parameters

- analytics\_data







object














Urchin Tracking Module (UTM) parameters are used for online marketing campaigns.










Show object attributes


- applied\_discounts







array














`Discount` to apply to the `Checkout`.










Show object attributes


- applied\_shipping\_rate







object














Shipping rates details, populated once the rates have been selected and applied successfully to the `Checkout`.







Important: You can only create a checkout with `applied_shipping_rate` if you pass the query parameter `get_shipping_rates=true` or if you supply a list of shipping rates using `custom_shipping_rate_options`.










Show object attributes


- custom\_shipping\_rate\_options







array














List of available shipping rates to use when selecting a shipping rate with `applied_shipping_rate`. Custom shipping rates will take precedence over any default rates fetched using `get_shipping_rates=true`.










Show object attributes


- billing\_address







object














Billing `Address` for the `Checkout`.










Show object attributes


- currency







string














Currency of the `Checkout`.

- email







string














Email address for the `Customer`.

- external\_checkout\_id







string














External checkout reference, if one exists.

- external\_checkout\_source







string














External checkout platform, if one exists.

- external\_transaction\_id







object














The ID of the associated transaction in a payment processor system (like Stripe).










Show object attributes


- line\_items







array





\\* Required














A list of items included in the `Checkout`







`quantity` and `external_variant_id` are required parameters in `line_items`.










Show object attributes


- note







string














Custom note.

- order\_attributes







array














List of name-value pairs for custom attributes.










Show object attributes


- shipping\_address







object














Shipping `Address` for the `Checkout`.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/checkouts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "analytics_data": {
    "utm_params": [\
      {\
        "utm_campaign": "spring_sale",\
        "utm_content": "textlink",\
        "utm_data_source": "shopify_cookie",\
        "utm_medium": "cpc",\
        "utm_source": "google",\
        "utm_term": "mleko",\
        "utm_timestamp": "2020-03-05T00:00:00"\
      }\
    ]
  },
  "applied_discounts": [\
    {\
      "discount_code": "5_DOLLARS_OFF"\
    }\
  ],
  "billing_address": {
    "address1": "6419 Ocean Front Walk",
    "address2": "Apt 2",
    "city": "Los Angeles",
    "company": "",
    "country_code": "US",
    "first_name": "Novak",
    "last_name": "Djokovic",
    "phone": "1-800-800-8000",
    "province": "California",
    "zip": "90293"
  },
  "email": "somerandomemail@test.com",
  "external_checkout_id": "<external_cart_id>",
  "external_checkout_source": "custom",
  "line_items": [\
    {\
      "external_product_id": {\
        "ecommerce": "12345"\
      },\
      "external_variant_id": {\
        "ecommerce": "123456"\
      },\
      "handle": "shirt-with-design",\
      "images": {\
        "small": "http://small.jpg"\
      },\
      "properties": [\
        {\
          "name": "size",\
          "value": "xl"\
        },\
        {\
          "name": "color",\
          "value": "fuchsia"\
        }\
      ],\
      "quantity": 3,\
      "subscription_preferences": {\
        "charge_interval_frequency": null,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": null,\
        "interval_unit": null,\
        "order_day_of_month": null,\
        "order_day_of_week": null,\
        "order_interval_frequency": null\
      },\
      "tax_lines": [\
        {\
          "price": "0.950",\
          "rate": 0.0725,\
          "title": "CA State Tax"\
        }\
      ]\
    }\
  ],
  "note": "flash sale",
  "order_attributes": {
    "customer_niceness": "very"
  },
  "shipping_address": {
    "address1": "6419 Ocean Front Walk",
    "address2": "Apt 2",
    "city": "Los Angeles",
    "company": "",
    "country_code": "US",
    "first_name": "Novak",
    "last_name": "Djokovic",
    "phone": "1-800-800-8000",
    "province": "California",
    "zip": "90293"
  }
}'
```

Response

200


```hljs json
{
  "checkout": {
    "charge_id": null,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "shopify_cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discounts": [\
      {\
        "amount": "5.00",\
        "applicable": true,\
        "discount_code": "5_DOLLARS_OFF",\
        "non_redeemable_reason": null,\
        "value": "5.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "billing_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "completed_at": null,
    "created_at": "2021-11-16T00:51:28+00:00",
    "currency": "USD",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "f71848585658686-36f6-d9efg8125rogkfdaa",
    "external_checkout_source": "custom",
    "external_customer_id": {
      "ecommerce": null,
      "payment_processor": null
    },
    "external_transaction_id": {
      "payment_processor": null
    },
    "line_items": [\
      {\
        "id": null,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "12345"\
        },\
        "external_variant_id": {\
          "ecommerce": "123456"\
        },\
        "handle": "shirt-with-design",\
        "images": {\
          "small": "http://small.jpg"\
        },\
        "properties": [\
          {\
            "name": "size",\
            "value": "xl"\
          },\
          {\
            "name": "color",\
            "value": "fuchsia"\
          }\
        ],\
        "purchase_item_type": "onetime",\
        "quantity": 3,\
        "requires_shipping": true,\
        "sku": null,\
        "subscription_preferences": {\
          "charge_interval_frequency": null,\
          "cutoff_day_of_month": null,\
          "cutoff_day_of_week": null,\
          "expire_after_specific_number_of_charges": null,\
          "interval_unit": null,\
          "order_day_of_month": null,\
          "order_day_of_week": null,\
          "order_interval_frequency": null\
        },\
        "tax_lines": [],\
        "taxable": false,\
        "title": "A Very Nice Shirt",\
        "total_price": "36.00",\
        "unit_price": "12.00",\
        "variant_title": null,\
        "weight": 340,\
        "weight_unit": "g"\
      }\
    ],
    "note": "flash sale",
    "notification_preferences": {
      "email": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      },
      "sms": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      }
    },
    "order_attributes": {
      "customer_niceness": "very"
    },
    "payment_processor": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "subtotal_price": "31.00",
    "tax_lines": [],
    "taxable": false,
    "taxes_included": false,
    "token": "efd5a6b12b984f439ec16ce2a00fb5c3",
    "total_price": "31.00",
    "total_tax": "0.00",
    "updated_at": "2021-11-16T00:51:28+00:00"
  }
}
```

# Retrieve a checkout

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Retrieve a checkout.

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Scopes:
read\_checkouts


##### Responses

- 200




















successful response










Show response object



GET

/checkouts/{token}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts/6a7c36a1213a4d7fb746e6588fa55005' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

200


```hljs json
{
  "checkout": {
    "charge_id": null,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "shopify_cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discounts": [\
      {\
        "amount": "5.00",\
        "applicable": true,\
        "discount_code": "5_DOLLARS_OFF",\
        "non_redeemable_reason": null,\
        "value": "5.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "applied_shipping_rate": {
      "checkout": {
        "subtotal_price": null,
        "total_price": null,
        "total_tax": null
      },
      "code": "3 Days (3 Business Days)",
      "delivery_range": null,
      "description": null,
      "handle": "recharge-3%20Days%20%283%20Business%20Days%29-11.75",
      "name": "3 Days (3 Business Days)",
      "phone_required": null,
      "price": "11.75",
      "tax_lines": [],
      "title": "3 Days (3 Business Days)"
    },
    "available_shipping_rates": [\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "Flat rate (3 - 7 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-Flat%20rate%20%283%20-%207%20Business%20Days%29-7.49",\
        "name": "Flat rate (3 - 7 Business Days)",\
        "phone_required": null,\
        "price": "7.49",\
        "tax_lines": [],\
        "title": "Flat rate (3 - 7 Business Days)"\
      },\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "3 Days (3 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-3%20Days%20%283%20Business%20Days%29-11.75",\
        "name": "3 Days (3 Business Days)",\
        "phone_required": null,\
        "price": "11.75",\
        "tax_lines": [],\
        "title": "3 Days (3 Business Days)"\
      }\
    ],
    "billing_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "completed_at": null,
    "created_at": "2021-11-16T00:51:28+00:00",
    "currency": "USD",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "<external_cart_id>",
    "external_checkout_source": "headless",
    "external_customer_id": {
      "ecommerce": null,
      "payment_processor": null
    },
    "external_transaction_id": {
      "payment_processor": null
    },
    "line_items": [\
      {\
        "id": null,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "12345"\
        },\
        "external_variant_id": {\
          "ecommerce": "123456"\
        },\
        "handle": "shirt-with-design",\
        "images": {\
          "small": "http://small.jpg"\
        },\
        "properties": [\
          {\
            "name": "size",\
            "value": "xl"\
          }\
        ],\
        "purchase_item_type": "onetime",\
        "quantity": 3,\
        "requires_shipping": true,\
        "sku": null,\
        "subscription_preferences": {\
          "charge_interval_frequency": null,\
          "cutoff_day_of_month": null,\
          "cutoff_day_of_week": null,\
          "expire_after_specific_number_of_charges": null,\
          "interval_unit": null,\
          "order_day_of_month": null,\
          "order_day_of_week": null,\
          "order_interval_frequency": null\
        },\
        "tax_lines": [],\
        "taxable": false,\
        "title": "A Very Nice Shirt",\
        "total_price": "36.00",\
        "unit_price": "12.00",\
        "variant_title": null,\
        "weight": 340,\
        "weight_unit": "g"\
      }\
    ],
    "note": "flash sale",
    "notification_preferences": {
      "email": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      },
      "sms": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      }
    },
    "order_attributes": {
      "customer_niceness": "very"
    },
    "payment_processor": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "subtotal_price": "31.00",
    "tax_lines": [],
    "taxable": false,
    "taxes_included": false,
    "token": "efd5a6b12b984f439ec16ce2a00fb5c3",
    "total_price": "31.00",
    "total_tax": "0.00",
    "updated_at": "2021-11-16T00:51:28+00:00"
  }
}
```

# Update a checkout

You can modify an existing checkout to match the specified parameters.

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Scopes:
write\_checkouts


##### Query Parameters

- get\_shipping\_rates







boolean














If specified as a query parameter, shipping rates will be retrieved and will allow providing applied\_shipping\_rate upon checkout update.


##### More Parameters

##### Body Parameters

- analytics\_data







array














Urchin Tracking Module (UTM) parameters are used for online marketing campaigns.










Show object attributes


- applied\_shipping\_rate







object














Shipping rates details, populated once the rates have been selected and applied successfully to the `Checkout`.







Important: You can only set `applied_shipping_rate` if you have already collected the `available_shipping_rates` by calling `GET /checkout/<checkout_token>/shipping_rates` or if you pass the query parameter `get_shipping_rates=true` when calling this route.



`code`, `price` and `title` are required when setting a custom shipping rate










Show object attributes


- billing\_address







object














Billing address for the checkout.










Show object attributes


- buyer\_accepts\_marketing







boolean














Does the buyer accept marketing, newsletters etc.

- discount\_code







string














Discount code to be used on the checkout, e.g. “DISCOUNT20”.

- currency







string














Currency of the `Checkout`.

- email







string














Email address for the customer.

- external\_checkout\_id







string














Represents the external cart token.

- external\_checkout\_source







string














Represents the source for `external_checkout_id`.

- line\_items







array














`quantity`, `product_id` and `variant_id` are required parameters in line\_items.










Show object attributes


- note







string














Note attribute used to store custom notes.

- partial\_shipping







boolean














When set to true, shipping address validations are reduced to only require country and zip when creating/updating a checkout. The full shipping address including address line 1 must be added to the checkout before processing associated charges. This is helpful for mobile payments.



Related guides: [Mobile payments](https://docs.rechargepayments.com/docs/checkouts#mobile-payments-with-checkout-api)

- order\_attributes







array














Structured custom notes.










Show object attributes


- phone







string














Customer phone number.

- shipping\_address







object














Shipping address for the checkout.







When using mobile payment options, insufficient shipping address data is available until payment intent, which causes validation errors when updating the checkout object.



Related guides: [Checkout mobile payment](https://docs.rechargepayments.com/docs/checkouts#mobile-payments-with-checkout-api)










Show object attributes


- shipping\_line







array














Shipping lines.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/checkouts/{token}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/checkouts/b706eecfd66c45329d3886a02d7515d6' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "line_items": [\
    {\
      "product_id": 4546063663207,\
      "quantity": 6,\
      "variant_id": 3844924611\
    }\
  ]
}'
```

Response

200


```hljs json
{
  "checkout": {
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "shopify_cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discount": {
      "amount": "7.50",
      "applicable": true,
      "non_applicable_reason": "",
      "value": "7.50",
      "value_type": "fixed_amount"
    },
    "billing_address": null,
    "buyer_accepts_marketing": false,
    "charge_id": null,
    "completed_at": null,
    "created_at": "2020-07-10T09:21:46.259352+00:00",
    "currency": "USD",
    "discount_code": "POPUS_25",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "<shopify_cart_token>",
    "external_checkout_source": "shopify",
    "line_items": [\
      {\
        "charge_interval_frequency": 5,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": null,\
        "first_recurring_charge_delay": null,\
        "fulfillment_service": "manual",\
        "image": "//cdn.shopify.com/s/files/1/0279/8387/2103/products/kazan_small.jpg?v=1586451337",\
        "line_price": "30.00",\
        "order_day_of_month": null,\
        "order_day_of_week": null,\
        "order_interval_frequency": 5,\
        "order_interval_unit": "day",\
        "order_interval_unit_type": "day",\
        "original_price": "5.00",\
        "price": "5.00",\
        "product_id": 4546063663207,\
        "product_type": "Milk",\
        "properties": null,\
        "quantity": 6,\
        "recurring_price": "5.00",\
        "requires_shipping": true,\
        "sku": "kRaViCah-1",\
        "tax_code": null,\
        "taxable": false,\
        "title": "Powder Milk",\
        "type": "SUBSCRIPTION",\
        "variant_id": 32165284380775,\
        "variant_title": "1 / Powder",\
        "vendor": "Imlek"\
      }\
    ],
    "note": null,
    "order_attributes": null,
    "payment_processor": null,
    "payment_processor_customer_id": null,
    "payment_processor_transaction_id": null,
    "phone": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": "",
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "shipping_address_validations": {
      "country_is_supported": true,
      "ups": true
    },
    "shipping_line": null,
    "shipping_rate": null,
    "subtotal_price": "22.50",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxes_included": false,
    "token": "b706eecfd66c45329d3886a02d7515d6",
    "total_price": "22.50",
    "total_tax": "0.00",
    "updated_at": "2020-07-10T09:21:46.284703+00:00"
  }
}
```

# Retrieve shipping rates

You can retrieve all shipping rates for a specific checkout.

Scopes:
read\_checkouts


##### Responses

- 200




















successful response










Show response object



GET

/checkouts/{token}/shipping\_rates


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts/6a7c36a1213a4d7fb746e6588fa55005/shipping_rates' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

200


```hljs json
{
  "shipping_rates": [\
    {\
      "checkout": {\
        "subtotal_price": "22.50",\
        "total_price": "42.40",\
        "total_tax": "0.00"\
      },\
      "code": "Standard",\
      "delivery_range": null,\
      "description": null,\
      "handle": "shopify-Standard-19.90",\
      "name": "Standard",\
      "phone_required": false,\
      "price": "19.90",\
      "title": "Standard"\
    }\
  ]
}
```

# Process a checkout

You can process and charge checkout using our API.

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

We support **Stripe**, **Apple Pay**, **Google Pay**, and **Braintree** as payment processor.

If you are using test stripe keys, you can use `tok_visa` as your token.

Related guides: [Mobile payments](https://docs.rechargepayments.com/docs/checkouts#mobile-payments-with-checkout-api)

Scopes:
write\_checkouts


##### Body Parameters

- payment\_processor







string





\\* Required













Possible values:

stripe,

braintree,

authorize










The name of payment processor.

- payment\_token







string





\\* Required














Payment token that will be used in transaction.







For Stripe this field needs to be populated with a payment method.

For Braintree this field needs to be populated with a payment nonce.

- payment\_type







string













Possible values:

CREDIT\_CARD,

PAYPAL,

APPLE\_PAY,

GOOGLE\_PAY,

SEPA\_DEBIT










The payment type used for the `Checkout`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/checkouts/{token}/charge


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts/5a5c19ea31c44641855017f1276db959/process' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "payment_processor": "stripe",
  "payment_token": "<payment_token>",
  "payment_type": "CREDIT_CARD"
}'
```

Response

200


```hljs json
{
  "checkout_charge": {
    "authorization_token": null,
    "charge_id": 258065996,
    "free": false,
    "payment_processor": "stripe",
    "processor_customer_token": "cus_HcbgqiS49fABBg62E",
    "processor_payment_method_token": "pm_lkj3lkl4lk34",
    "payment_processor_transaction_id": "ch_1H3McXJ2zdqHvZaRd191xV2idRt",
    "payment_token": "tok_visa",
    "payment_type": "CREDIT_CARD",
    "status": "successful"
  }
}
```

# Collections

`Collections` allow to create and manage a logical list of `Products` called a `Collection`. A `Collection` contains an ordered list of `Products` and can be used for selective display of `Products` on chosen interfaces or for business logic automation (e.g. `Discounts` definition…).

Endpoints

POST

/collections


GET

/collections/{id}


PUT

/collections/{id}


DELETE

/collections/{id}


GET

/collections


GET

/collection\_products


POST

/collections/{id}/collection\_products-bulk


DELETE

/collections/{id}/collection\_products-bulk


Expand

# The collection object

##### Attributes

- id







integer














Unique numeric identifier for the `Collection`.

- created\_at







datetime














The date and time when the `Collection` was created.

- description







string














The `Collection` description. Used to store a detailed explanation of the `Collection` content and its purpose.

- sort\_order







string













Possible values:

id-asc,

id-desc,

title-asc,

title-desc,

created\_at-asc,

created\_at-desc










The order in which the `Products` in the collection should appear.

- title







string














The title of the `Collection`. A short descriptive definition of the `Collection`.

- type







string













Possible values:

manual










The type of the `Collection`.







`manual` stands for `Collections` which were manually created ie. when the products where explicitly selected to be part of the `Collection`.

- updated\_at







datetime














The date and time when the `Collection` was last updated.


##### Error related attributes

##### More Attributes

The collection object

```hljs json
{
  "id": 4021,
  "created_at": "2021-08-30T17:25:57+00:00",
  "description": "August 2021 cat products new release.",
  "sort_order": "id-desc",
  "title": "Cats Summer Collection",
  "type": "manual",
  "updated_at": "2021-08-30T17:25:57+00:00"
}
```

# Create a collection

Create a `Collection` in Recharge.

Scopes:
write\_products


##### Body Parameters

- description







string





\\* Required














The `Collection` description. Used to store a detailed explanation of the `Collection` content and its purpose.

- sort\_order







string













Default: id-desc









Possible values:

id-asc,

id-desc,

title-asc,

title-desc,

created-asc,

created-desc










The order in which the `Products` in the collection should appear.

- title







string





\\* Required














The title of the `Collection`. A short descriptive definition of the `Collection`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/collections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "description": "cat products new release",
  "title": "Cats Spring 2022"
}
```

Response

200


```hljs json
{
  "collection": {
    "id": 134157,
    "created_at": "2022-03-29T04:57:36+00:00",
    "description": "cat products new release",
    "sort_order": "id-desc",
    "title": "Cats Spring 2022",
    "type": "manual",
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Retrieve a collection

Retrieve one `Collection` using `collection_id`.

Scopes:
read\_products


##### Responses

- 200




















successful response










Show response object


- 404




















Not found










Show response object



GET

/collections/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collections/134157' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200

404


```hljs json
{
  "collection": {
    "id": 134157,
    "created_at": "2022-03-29T04:57:36+00:00",
    "description": "cat products new release",
    "sort_order": "id-desc",
    "title": "Cats Spring 2022",
    "type": "manual",
    "updated_at": "2022-03-29T04:57:36+00:00"
  }
}
```

# Update a collection

Modify an existing `Collection` to match the specified parameters.

Scopes:
write\_products


##### Body Parameters

- description







string














The `Collection` description. Used to store a detailed explanation of the `Collection` content and its purpose.

- sort\_order







string













Possible values:

id-asc,

id-desc,

title-asc,

title-desc,

created-asc,

created-desc










The order in which the `Products` in the collection should appear.

- title







string














The title of the `Collection`. A short descriptive definition of the `Collection`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 404




















Not found










Show response object


- 415




















Unprocessable entity










Show response object



PUT

/collections/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/collections/134157' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"sort_order": "title-asc"}'
```

Response

200

404

415


```hljs json
{
  "collection": {
    "id": 134157,
    "created_at": "2022-03-29T04:57:36+00:00",
    "description": "cats products new release",
    "sort_order": "title-asc",
    "title": "Cats Spring 2022",
    "type": "manual",
    "updated_at": "2022-03-29T05:27:39+00:00"
  }
}
```

# Delete a collection

Delete a `Collection`

For safety and good UX, you can only delete a `Collection` if it is not in use in the Customer Portal

Scopes:
write\_products


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object


- 404




















Not found










Show response object



DELETE

/collections/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/collections/134129' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204

404


```hljs json
{}
```

# List collections

Return a list of `Collections` in your store.

## HTTP request examples

`GET /collections`

`GET /collections?title=Cats`

Scopes:
read\_products


##### Query Parameters

- title







string














The title of the `Collection`. A short descriptive definition of the `Collection`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/collections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "collections": [\
    {\
      "id": 134136,\
      "created_at": "2022-03-28T15:38:27+00:00",\
      "description": "cat products august 2022",\
      "sort_order": "title-asc",\
      "title": "Cats",\
      "type": "manual",\
      "updated_at": "2022-03-28T15:38:27+00:00"\
    },\
    {\
      "id": 134129,\
      "created_at": "2022-03-28T12:27:03+00:00",\
      "description": "kitten accessories soft.",\
      "sort_order": "id-asc",\
      "title": "Soft Kitty",\
      "type": "manual",\
      "updated_at": "2022-02-23T11:27:34+00:00"\
    }\
  ]
}
```

# List collections products

Return a list of the product ids included in `Collections` in your store.

## HTTP request examples

`GET /collection_products`

`GET /collection_products?collection_id=134157`

Scopes:
read\_products


##### Query Parameters

- collection\_id







integer














The id of the `Collection` for which you want to see the products.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 422




















Errors. Unprocessable entity.










Show response object



GET

/collection\_products


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collection_products' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200

422


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "collection_products": [\
    {\
      "collection_id": 111733,\
      "created_at": "2022-03-30T18:12:09+00:00",\
      "external_product_id": "5",\
      "updated_at": "2022-03-30T18:12:09+00:00"\
    },\
    {\
      "collection_id": 111733,\
      "created_at": "2022-02-12T12:53:33+00:00",\
      "external_product_id": "2",\
      "updated_at": "2022-02-12T12:53:33+00:00"\
    },\
    {\
      "collection_id": 111735,\
      "created_at": "2022-02-12T06:46:49+00:00",\
      "external_product_id": "3",\
      "updated_at": "2022-02-12T06:46:49+00:00"\
    }\
  ]
}
```

# Add collection products

Add products to a `Collection` in Recharge.

Scopes:
write\_products


##### Body Parameters

- collection\_products







array





\\* Required














An array of products and their collection definition to be added to the `Collection`.







Important: there is a set limit of 250 products that can be added per request.










Show object attributes



##### More Parameters

##### Responses

- 201




















successful response










Show response object


- 422




















unprocessable entity










Show response object


- 500




















internal server error. (often the external\_product\_id entered does not exist)










Show response object



POST

/collections/{id}/collection\_products-bulk


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/collections/134129/collection_products-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "collection_products": [\
    {\
      "external_product_id": "7"\
      }\
    ]
}'
```

Response

201

422

500


```hljs json
{
  "collection_products": [\
    {\
      "collection_id": 111733,\
      "created_at": "2022-03-29T04:57:36+00:00",\
      "external_product_id": "7",\
      "updated_at": "2022-03-30T18:32:35+00:00"\
    }\
  ]
}
```

# Delete collection products

Removes products from a `Collection` in Recharge.

Scopes:
write\_products


##### Body Parameters

- collection\_products







array





\\* Required














The array of products to be removed from the `Collection` identified by their `external_product_id`.







Important: there is a set limit of 250 products that can be added per request.










Show object attributes



##### More Parameters

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object


- 404




















Not found










Show response object



DELETE

/collections/{id}/collection\_products-bulk


cURLPythonPHPRuby

```hljs js
curl '-X DELETE https://api.rechargeapps.com/collections/134129/collection_products-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "collection_products": [\
    {\
      "external_product_id": "7"\
      }\
    ]
}'
```

Response

204

404


```hljs json
{}
```

# Credits

Retain

The Credit Account object represents a set of positive and negative credit adjustments that when summed equal an available balance. Credit accounts may not have negative balances. A credit account may be associated with a customer, via the customer\_id attribute. A customer may be associated with many credit accounts.

A credit adjustment represents a financial adjustment to the balance of a Credit Account. An adjustment of type ‘credit’ results in an increase in the available balance of a credit account, where an adjustment of type ‘debit’ results in a decrease.

Access to the Credits endpoints are only available for merchants using [Retain](https://getrecharge.com/products/retain/).

Endpoints

GET

/credit\_accounts


GET

/credit\_accounts/{id}


GET

/credit\_adjustments


GET

/credit\_adjustments/{id}


GET

/credit\_accounts/{id}/credit\_adjustments


Expand

# The credit account object

##### Attributes

- id







integer














Unique numeric identifier for the Credit Account

- customer\_id







integer














Unique numeric identifier for the `customer` associated with the `credit_account`.

- available\_balance







string














The dollar amount of available credit in the credit account, in the associated Store’s default currency as configured in Recharge

- created\_at







datetime














The date and time at which the credit account was created.

- currency\_code







string














The currency code for the credit account.

- expires\_at







datetime














The date and time at which the credit account expires, and can no longer be adjusted.

- initial\_value







string














The initial value of the credit account at the time of creation.

- name







string














The name of the credit account

- type







string














The type of the credit account. Accepted values are `rewards` and `manual`.

- updated\_at







datetime














The date and time at which the credit account was last updated.


##### Error related attributes

##### More Attributes

The credit account object

```hljs json
{
  "credit_account": {
    "id": 697470,
    "customer_id": 36885098,
    "available_balance": "10.00",
    "created_at": "2024-07-08T20:40:30+00:00",
    "currency_code": "USD",
    "expires_at": null,
    "initial_value": "1.55",
    "name": "Reward Credit",
    "type": "reward",
    "updated_at": "2024-07-08T20:40:30+00:00"
  }
}
```

# List credit accounts

Return a list of credit accounts.

Scopes:
read\_credit\_accounts


##### Query Parameters

- customer\_id







string














Return the list of credit accounts linked to the given Recharge `customer_id`

- limit







string














The amount of results. Default is 50 while the maximum is 250.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/credit\_accounts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_accounts' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": "eyJzdGFydGluZ19iZWZvcmVfaWQiOjQ5ODg2NywibGFzdF92YWx1ZSI6NDk4ODY3LCJzb3J0X2J5IjoiaWQtZGVzYyIsImN1cnNvcl9kaXIiOiJuZXh0In0",
  "previous_cursor": null,
  "credit_accounts": [\
    {\
      "id": 697470,\
      "customer_id": 36885098,\
      "available_balance": "0.00",\
      "created_at": "2024-07-08T20:40:30+00:00",\
      "currency_code": "USD",\
      "expires_at": null,\
      "initial_value": "0.45",\
      "name": "Reward Credit",\
      "type": "reward",\
      "updated_at": "2024-07-08T20:40:30+00:00"\
    }\
  ]
}
```

# Retrieve a credit account

Retrieve one credit account using `credit_account_id`.

Scopes:
read\_credit\_accounts


##### Responses

- 200




















successful response










Show response object



GET

/credit\_accounts/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_accounts/697470' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "credit_account": {
    "id": 697470,
    "customer_id": 36885098,
    "available_balance": "0.00",
    "created_at": "2024-07-08T20:40:30+00:00",
    "currency_code": "USD",
    "expires_at": null,
    "initial_value": "0.45",
    "name": "Reward Credit",
    "type": "reward",
    "updated_at": "2024-07-08T20:40:30+00:00"
  }
}
```

# List credit adjustments

Retrieve a list of credit adjustments.

Scopes:
read\_credit\_adjustments


##### Query Parameters

- limit







string














The amount of results. Default is 50 while the maximum is 250.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/credit\_adjustments


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_adjustments' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": "eyJzdGFydGluZ19iZWZvcmVfaWQiOjQ4NjY4NDksImxhc3RfdmFsdWUiOjQ4NjY4NDksInNvcnRfYnkiOiJpZC1kZXNjIiwiY3Vyc29yX2RpciI6Im5leHQifQ",
  "previous_cursor": null,
  "credit_adjustments": [\
    {\
      "id": 4866849,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-08-08T04:06:37+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.00",\
      "note": "Amount related with shop order shop.myshopify.com. Address Id: 169902120 Charge Id: 1125729345",\
      "type": "debit",\
      "updated_at": "2024-08-08T04:06:37+00:00"\
    }\
  ]
}
```

# Retrieve a credit adjustment

Retrieve one credit adjustment using `credit_adjustment_id`.

Scopes:
read\_credit\_adjustments


##### Responses

- 200




















successful response










Show response object



GET

/credit\_adjustments/{id}


cURLPythonPHPRuby

```hljs js
curl 'api.rechargeapps.com/credit_adjustments/4866849' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": "eyJzdGFydGluZ19iZWZvcmVfaWQiOjQ4NjY4NDksImxhc3RfdmFsdWUiOjQ4NjY4NDksInNvcnRfYnkiOiJpZC1kZXNjIiwiY3Vyc29yX2RpciI6Im5leHQifQ",
  "previous_cursor": null,
  "credit_adjustments": [\
    {\
      "id": 4866849,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-08-08T04:06:37+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.00",\
      "note": "Amount related with shop order jordans-curious-tomatoes.myshopify.com Address Id: 169902120 Charge Id: 1125729345",\
      "type": "debit",\
      "updated_at": "2024-08-08T04:06:37+00:00"\
    }\
  ]
}
```

# List Credit Adjustments for a Credit Account

Retrieve credit adjustments associated with specific credit account using `credit_account_id`.

Scopes:
read\_credit\_adjustments


##### Query Parameters

- limit







string














The amount of results. Default is 50 while the maximum is 250.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/credit\_accounts/{id}/credit\_adjustments


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_accounts/697470/credit_adjustments' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "credit_adjustments": [\
    {\
      "id": 4866849,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-08-08T04:06:37+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.00",\
      "note": "Amount related with shop order store.myshopify.com Address Id: 169902120 Charge Id: 1125729345",\
      "type": "debit",\
      "updated_at": "2024-08-08T04:06:37+00:00"\
    },\
    {\
      "id": 4719708,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-07-08T20:40:31+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.45",\
      "note": "3% Cash back on curious tomatoes",\
      "type": "credit",\
      "updated_at": "2024-07-08T20:40:31+00:00"\
    }\
  ]
}
```

# Customers

The `Customer` object holds account information. Email is unique on the `Customer`; no two customers for a store can have the same email. `Address` is a child of the `Customer` object. There can be many child `Addresses` on a customer, but only one parent `Customer` per `Address`. ![](https://developer.getrecharge.com/images/customer.png)

Endpoints

POST

/customers


GET

/customers/{id}


PUT

/customers/{id}


DELETE

/customers/{id}


GET

/customers


GET

/customers/{id}/delivery\_schedule


GET

/customers/{id}/credit\_summary


Expand

# The customer object

##### Attributes

- id







integer














Unique numeric identifier for the `Customer`.

- analytics\_data







object














An object containing analytics data associated with the customer.










Show object attributes


- apply\_credit\_to\_next\_recurring\_charge







boolean














A boolean that indicates whether Recharge credits will be applied to the next recurring charge.

- created\_at







datetime














The date and time when the customer was created.

- email







string














The email address of the customer.

- external\_customer\_id







object














An object containing external ids for the customer record.










Show object attributes


- first\_charge\_processed\_at







datetime














Date when first charge was processed for the customer.

- first\_name







string














The customer’s first name.

- has\_payment\_method\_in\_dunning







boolean














A boolean that indicates if the customer has a payment method that is in dunning (failed charge).

- has\_valid\_payment\_method







boolean














Is the payment method valid or not.

- hash







string














The unique string identifier used in a customers portal link.

- last\_name







string














The customer’s last name.

- phone







string














The customer’s phone number.

- subscriptions\_active\_count







integer














The number of active subscriptions on addresses associated with the customer.

- subscriptions\_total\_count







integer














The total number of subscriptions created on addresses associated with the customer.

- subscription\_related\_charge\_streak







integer














The number of consecutive subscription-related charges processed for this customer, while they retain at least one active subscription. When all subscriptions for this customer are cancelled or expired, this value will reset to zero.

- tax\_exempt







boolean














Whether the customer tax exempt or not.

- updated\_at







datetime














The date and time when the customer was last updated.


##### Error related attributes

##### More Attributes

The customer object

```hljs json
{
  "id": 18819267,
  "analytics_data": {
    "utm_params": [\
      {\
        "utm_source": "facebook",\
        "utm_medium": "cpc"\
      }\
    ]
  },
  "created_at": "2018-11-14T08:40:38+00:00",
  "email": "example_mail@gmail.com",
  "external_customer_id": {
    "ecommerce": "126576412310131454"
  },
  "first_charge_processed_at": null,
  "first_name": "Jacob",
  "has_payment_method_in_dunning": false,
  "has_valid_payment_method": false,
  "hash": "18819267b1f9095be98f13a8",
  "last_name": "Bronowski",
  "phone": "+16175551212",
  "subscriptions_active_count": 0,
  "subscriptions_total_count": 1,
  "tax_exempt": false,
  "updated_at": "2020-11-14T08:40:38+00:00"
}
```

# Create a customer

[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Create a customer in Recharge.

If you plan to add payment information, **it must be the tokenized customer representation. We do not accept card data directly**. For Stripe users, please make sure it starts with ‘cus’ and not with a 'tok’, as the 'cus’ is prefix for customer token, and 'tok’ is prefix for payment token.

Creating a customer in Recharge will not create the customer on any other platform at this time.

`write_payment_methods` permission is only required when creating customers with payment token information, or updating payment token information on a customer.

`phone` must be in E.164 format, such as `+16175551212`.

Scopes:
write\_customers

write\_payment\_methods


##### Body Parameters

- email







string





\\* Required














The customer’s email address.

- external\_customer\_id







object














An object containing external ids for the customer record.










Show object attributes


- first\_name







string





\\* Required














The customer’s first name.

- last\_name







string





\\* Required














The customer’s last name.

- phone







string














The customer’s phone number.

- tax\_exempt







boolean














Whether or not the customer is tax exempt.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/customers


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "first_name": "Niels",
  "last_name": "Bohr",
  "email": "fake@example.com"
}
```

Response

200


```hljs json
{
  "customer": {
    "id": 37657002,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "created_at": "2020-02-19T17:40:07+00:00",
    "email": "fake@example.com",
    "external_customer_id": {
      "ecommerce": "2879413682227"
    },
    "first_charge_processed_at": "2020-02-19T17:40:11+00:00",
    "first_name": "Jane",
    "has_payment_method_in_dunning": false,
    "has_valid_payment_method": true,
    "hash": "7e706455cbd13e40",
    "last_name": "Doe",
    "phone": null,
    "subscriptions_active_count": 0,
    "subscriptions_total_count": 0,
    "subscription_related_charge_streak": 0,
    "tax_exempt": false,
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Retrieve a customer

Retrieve one customer using `customer_id`.

Scopes:
read\_customers


##### Responses

- 200




















successful response










Show response object



GET

/customers/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers/37657002' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "customer": {
    "id": 37657002,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "created_at": "2020-02-19T17:40:07+00:00",
    "email": "fake@example.com",
    "external_customer_id": {
      "ecommerce": "2879413682227"
    },
    "first_charge_processed_at": "2020-02-19T17:40:11+00:00",
    "first_name": "Jane",
    "has_payment_method_in_dunning": false,
    "has_valid_payment_method": true,
    "hash": "7e706455cbd13e40",
    "last_name": "Doe",
    "phone": "+16175551212",
    "subscriptions_active_count": 0,
    "subscriptions_total_count": 1,
    "subscription_related_charge_streak": 0,
    "tax_exempt": false,
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Update a customer

Modify an existing `Customer` to match the specified parameters.

For US citizens, parameter `billing_zip` is required when updating customer’s `billing_country` parameter.

`phone` must be in E.164 format, such as `+16175551212`.

Scopes:
write\_customers


##### Body Parameters

- apply\_credit\_to\_next\_recurring\_charge







boolean














A boolean that indicates whether Recharge credits will be applied to the next recurring charge.







This property is dependent upon the store’s credit settings. If a call is made attempting to update this and the store has recurring redemption turned off or set to automatically redeem, the API will return a 422 response.

- email







string














Email address of the customer.

- external\_customer\_id







object














An object containing external ids for the customer record.










Show object attributes


- first\_name







string














Customer’s first name.

- last\_name







string














Customer’s last name.

- phone







string














The customer’s phone number.

- tax\_exempt







boolean














Whether or not the customer is tax exempt.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/customers/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/customers/37657002' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"last_name": "Doe"}'
```

Response

200


```hljs json
{
  "customer": {
    "id": 37657002,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "created_at": "2020-02-19T17:40:07+00:00",
    "email": "fake@example.com",
    "external_customer_id": {
      "ecommerce": "2879413682227"
    },
    "first_charge_processed_at": "2020-02-19T17:40:11+00:00",
    "first_name": "Jane",
    "has_payment_method_in_dunning": false,
    "has_valid_payment_method": true,
    "hash": "7e706455cbd13e40",
    "last_name": "Doe",
    "phone": "+16175551212",
    "subscriptions_active_count": 0,
    "subscriptions_total_count": 1,
    "tax_exempt": false,
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Delete a customer

Customer deletion will automatically cancel and delete all child Address, Subscription, Onetime, etc. resources of that customer to eliminate orphaned child data.

To delete a certain address without deleting the customer you can use the Delete Address endpoint.

Scopes:
write\_customers


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/customers/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/customers/37657002' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List customers

Return a list of customers in your store.

## HTTP request examples

`GET /customers`

`GET /customers?email=example@email.com`

`GET /customers?hash=143806234a9ff87a8d9e`

`GET /customers?limit=250`

`GET /customers?page=2`

`GET /customers?external_customer_id=98273498`

If emails contain special characters such as ‘john+doe@example.com’, you will need to encode them in the URLs, i.e. `?email=john%2Bdoe@example.com`

Scopes:
read\_customers


##### Query Parameters

- email







string














Returns the user linked to the email address provided.

- created\_at\_max







string














Gets all customers created before this date.

- created\_at\_min







string














Gets all customers created after this date.

- hash







string














Returns the user linked to the given recharge customer hash.

- ids







string














Filter customers by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










Number of results.

- page







string





\*Deprecated













Default: 1










Page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- external\_customer\_id







string














Returns the user linked to the given `external_customer_id`.

- updated\_at\_max







string














Gets all customers updated before this date.

- updated\_at\_min







string














Gets all customers updated after this date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/customers


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": "next_cursor",
  "previous_cursor": "previous_cursor",
  "customers": [\
    {\
      "id": 37657002,\
      "analytics_data": {\
        "utm_params": [\
          {\
            "utm_source": "facebook",\
            "utm_medium": "cpc"\
          }\
        ]\
      },\
      "created_at": "2020-02-19T17:40:07+00:00",\
      "email": "fake@example.com",\
      "external_customer_id": {\
        "ecommerce": "2879413682227"\
      },\
      "first_charge_processed_at": "2020-02-19T17:40:11+00:00",\
      "first_name": "Jane",\
      "has_payment_method_in_dunning": false,\
      "has_valid_payment_method": true,\
      "hash": "7e706455cbd13e40",\
      "last_name": "Doe",\
      "phone": "+16175551212",\
      "subscriptions_active_count": 0,\
      "subscriptions_total_count": 1,\
      "tax_exempt": false,\
      "updated_at": "2020-12-17T18:50:39+00:00"\
    }\
  ]
}
```

# Retrieve a customer delivery schedule

Returns the list of projected deliveries in a specific interval.

If several filters are passed in parameters, the most restrictive will dominate.

The maximum length of the future delivery interval is 365 days.

Scopes:
read\_customers


##### Query Parameters

- delivery\_count\_future







integer














The count of delivery objects that should be included that reference projected orders.







Will not return deliveries past 365 days in the future.

- future\_interval







integer














The count of days forward to report deliveries on.







Defaults to store setting or 90. Maximum of 365 days.

- date\_max







string














The end date of the requested delivery schedule.







Cannot be in the past. Cannot exceed 365 days in the future.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/customers/{id}/delivery\_schedule


cURLPythonPHPRuby

```hljs js
curl -X GET 'https://api.rechargeapps.com/customers/37657002/delivery_schedule' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "deliverySchedule": {
    "customer": {
      "id": 73720164,
      "email": "test@example.com",
      "first_name": "Aria",
      "last_name": "Beciu"
    },
    "deliveries": [\
      {\
        "date": "2022-02-07",\
        "orders": [\
          {\
            "id": null,\
            "address_id": 79342717,\
            "charge_id": 507503288,\
            "line_items": [\
              {\
                "subscription_id": 186930285,\
                "external_product_id": {\
                  "ecommerce": "1642443555555"\
                },\
                "external_variant_id": {\
                  "ecommerce": null\
                },\
                "images": {},\
                "is_skippable": true,\
                "is_skipped": false,\
                "is_prepaid": false,\
                "original_price": "17.00",\
                "plan_type": "subscription",\
                "product_title": "Organic coffee beans",\
                "properties": [\
                  {\
                    "name": "shipping_interval_unit_type",\
                    "value": "month"\
                  },\
                  {\
                    "name": "shipping_interval_frequency",\
                    "value": "1"\
                  },\
                  {\
                    "name": "subscription_id",\
                    "value": null\
                  }\
                ],\
                "quantity": 1,\
                "subtotal_price": "17.00",\
                "unit_price": "17.00",\
                "variant_title": "Refill large"\
              }\
            ],\
            "order_subtotal": "17.00",\
            "payment_method": {\
              "id": 769874,\
              "billing_address": {\
                "address1": "90 avenue du Rouergue",\
                "address2": null,\
                "city": "Rodez",\
                "company": null,\
                "country_code": "FR",\
                "first_name": "Diane",\
                "last_name": "Farley",\
                "phone": null,\
                "province": null,\
                "zip": "12000"\
              },\
              "payment_details": {}\
            },\
            "shipping_address": {\
              "address1": "149 Forest Avenue",\
              "address2": null,\
              "city": "New York City",\
              "company": null,\
              "country_code": "US",\
              "first_name": "Aria",\
              "last_name": "Beciu",\
              "phone": "1234567890",\
              "province": "New York",\
              "zip": "10019"\
            }\
          }\
        ]\
      }\
    ]
  }
}
```

# Retrieve a customer's credit summary

Beta

Returns a credit summary for the customer.

Scopes:
read\_credit\_summary


##### Responses

- 200




















successful response










Show response object



GET

/customers/{id}/credit\_summary


cURLPythonPHPRuby

```hljs js
curl -X GET 'https://api.rechargeapps.com/customers/37657002/credit_summary' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "credit_summary": {
    "customer_id": 37657002,
    "total_available_balance": "0.00",
    "currency_code": "USD"
  }
}
```

# Discounts

Discounts can be applied to a `Checkout`, or can be applied directly to an `Address`. Depending on configuration they allow for single use, or recurring discounts. More details on how to add or remove discounts from an `Address` can be found at [Update an address](https://developer.getrecharge.com/2021-11/addresses/update_address).

Often discounts can be used in combination with webhooks, such that when a specific event occurs, it can apply a discount dependent on custom business logic.

There are various options that can be utilized for discounts such as minimum price, single use, recurring for a set number of charges, or ongoing. You can also set the date from which time the discount will become applicable and when it can no longer be applied to a new subscription.

Endpoints

POST

/discounts


GET

/discounts/{id}


PUT

/discounts/{id}


DELETE

/discounts/{id}


GET

/discounts


Expand

# The discount object

##### Attributes

- id







integer














Unique numeric identifier for the discount in Recharge.

- applies\_to







object














An object encompassing data that limits discount application on the basis of an associated record (such as customer, products, etc.).










Show object attributes


- channel\_settings







object














A list of channel objects containing information regarding discount behaviors for each.

If you’re on the SCI Platform, checkout channel will not apply during Shopify checkouts.










Show object attributes


- code







string














The code used to apply the discount.

- created\_at







datetime














The date and time when the discount was created.

- ends\_at







datetime














The expiration timestamp of the discount. Past this time the `Discount` can no longer be redeemed. After `ends_at` the `status` of the `Discount` will go from `active` to `disabled`.







Recurring discounts applied prior to their `ends_at` time will still apply.

- external\_discount\_id







object














An object containing external ids of the discount.










Show object attributes


- first\_time\_customer\_restriction







boolean














Discount can be used on checkout for customer that still don’t exist in Recharge database.

- prerequisite\_subtotal\_min







string














The minimum cart subtotal needed for the discount to be applicable.

- starts\_at







datetime














The date when the discount becomes active.







When not specified on creation `starts_at` will default to `null` which translates into no restrictions.

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










The status of the discount. Value can be:

\\* `enabled` discount is active to be applied

\\* `disabled` discount can’t be applied on new purchases. Discount will remain on existing charges to which it has already been applied.

\\* `fully_disabled` discount can no longer be applied. In addition, `Discount` is removed from every queued charge.







`disabled` and `fully_disabled` can both be reverted to `enabled`. However once a `Discount` has been updated to `fully_disabled` it will be removed from all `Charges` it had been applied to. This removal from `Charges` is irreversible.

- usage\_limits







object














An object containing limitations on a discount based on usage\_counts results










Show object attributes


- updated\_at







datetime














The date and time when the discount was last updated.

- value







string














The discounted value to be applied.

- value\_type







string













Possible values:

fixed\_amount,

percentage,

shipping










Type of discount mechanic.


##### Error related attributes

##### More Attributes

The discount object

```hljs json
{
  "discount": {
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "TEST_DISCOUNT",
    "created_at": "2021-04-01T16:13:53+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": "1642443555555"
    },
    "external_discount_source": null,
    "id": 25463058,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-04-13T22:24:59+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "20.00",
    "value_type": "percent"
  }
}
```

# Create a discount

Create a new discount.

##### Body Parameters

- applies\_to







object














An object encompassing data that limits discount application on the basis of an associated record (such as customer, products, etc.)










Show object attributes


- channel\_settings







object














A list of channel objects containing information regarding discount behaviors for each.

\\* can\_apply: a boolean to indicate if the discount may be applied using the associated channel (defaults to true for all channels).










Show object attributes


- code







string





\\* Required














The code used to apply the discount.

- ends\_at







datetime














The expiration timestamp of the discount. Past this time the `Discount` can no longer be redeemed. After `ends_at` the `status` of the `Discount` will go from `active` to `disabled`.







Recurring discounts applied prior to their `ends_at` time will still apply.

- prerequisite\_subtotal\_min







integer














The minimum cart subtotal needed for the discount to be applicable.

- starts\_at







datetime














The date when the discount becomes `ACTIVE`.







When not specified on creation `starts_at` will default to `null` which translates into no restrictions.

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










The status of the discount.

- usage\_limits







object














Sets the limit on the number of times a discount can be used by all customers.










Show object attributes


- value







string





\\* Required














The discounted value to be applied.

- value\_type







string





\\* Required













Possible values:

fixed\_amount,

percentage,

shipping










The discount type.


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/discounts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/discounts' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "applies_to": {
        "purchase_item_type": "ALL"
    },
    "channel_settings": {
        "api": {
            "can_apply": true
        },
        "checkout_page": {
            "can_apply": true
        },
        "customer_portal": {
            "can_apply": true
        },
        "merchant_portal": {
            "can_apply": true
        }
    },
    "code": "Discount1",
    "status": "enabled",
    "usage_limits": {
        "first_time_customer_restriction": false,
        "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
}'
```

Response

201


```hljs json
{
  "discount": {
    "id": 59568555,
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "Discount1",
    "created_at": "2021-07-26T19:16:17+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": null
    },
    "external_discount_source": null,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-07-26T19:16:17+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
  }
}
```

# Retrieve a discount

Retrieve a single Recharge Discount

##### Responses

- 200




















successful response










Show response object



GET

/discounts/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/discounts/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "discount": {
    "id": 59568555,
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "Discount1",
    "created_at": "2021-07-26T19:16:17+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": null
    },
    "external_discount_source": null,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-07-26T19:16:17+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
  }
}
```

# Update a discount

You can modify an existing discount to match the specified parameters.

##### Body Parameters

- applies\_to







object














An object encompassing data that limits discount application on the basis of an associated record (such as customer, products, etc.)










Show object attributes


- channel\_settings







object














A list of channel objects containing information regarding discount behaviors for each.

\\* can\_apply: a boolean to indicate if the discount may be applied using the associated channel (defaults to true for all channels).










Show object attributes


- code







string














The code used to apply the discount…

- ends\_at







datetime














The expiration timestamp of the discount. Past this time the `Discount` can no longer be redeemed. After `ends_at` the `status` of the `Discount` will go from `active` to `disabled`.







Recurring discounts applied prior to their `ends_at` time will still apply.

- prerequisite\_subtotal\_min







integer














The minimum cart subtotal needed for the discount to be applicable.

- starts\_at







datetime














The date when the discount becomes active.

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










The status of the discount. Value can be:

\\* `enabled` discount is active to be applied

\\* `disabled` discount can’t be applied on new purchases. Discount will remain on existing charges to which it has already been applied.

\\* `fully_disabled` discount can no longer be applied. In addition, `Discount` is removed from every queued charge.







`disabled` and `fully_disabled` can both be reverted to `enabled`. However once a `Discount` has been updated to `fully_disabled` it will be removed from all `Charges` it had been applied to. This removal from `Charges` is irreversible.

- usage\_limits







object














Sets the limit on the number of times a discount can be used by all customers.










Show object attributes


- value







string














The discounted value to be applied.

- value\_type







string













Possible values:

fixed\_amount,

percentage,

shipping










The discount type.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/discounts/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/discounts/11127406' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "usage_limits": {},
  "starts_at": "2021-11-01T00:00:00+00:00"
}'
```

Response

200


```hljs json
{
  "discount": {
    "id": 59568555,
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "Discount1",
    "created_at": "2021-07-26T19:16:17+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": null
    },
    "external_discount_source": null,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-07-26T19:16:17+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
  }
}
```

# Delete a discount

Delete a discount

For safety reasons, to delete a discount you will need to set its status to `fully_disabled`.

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/discounts/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/discounts/12081717' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

204


```hljs json
{}
```

# List discounts

Return a list of discounts in your store.

## HTTP request examples

`GET /discounts`

`GET /discounts?created_at_max=2017-10-01`

`GET /discounts?created_at_max=2017-10-01`

`GET /discounts?created_at_min=2017-10-01`

`GET /discounts?discount_code=Discount`

`GET /discounts?discount_type=percentage`

`GET /discounts?updated_at_min=2017-10-01`

##### Query Parameters

- created\_at\_max







string














Get all discounts created before a specified date.

- created\_at\_min







string














Get all discounts created after a specified date.

- discount\_code







string














Search for a particular discount code.

- value\_type







string













Possible values:

percentage,

fixed\_amount,

shipping










Filter based on type of discount.

- ids







string














Filter discounts by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










Number of results to return.

- page







string





\*Deprecated













Default: 1










Page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










Returns all discounts with status `enabled`, `disabled` or `fully_disabled`.

- updated\_at\_max







string














Get all discounts updated before a specified date.

- updated\_at\_min







string














Get all discounts updated after a specified date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/discounts


cURLPythonPHPRuby

```hljs js
curl -X GET 'https://api.rechargeapps.com/discounts' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "discounts": [\
    {\
      "id": 59568555,\
      "applies_to": {\
        "ids": [],\
        "purchase_item_type": "ALL",\
        "resource": null\
      },\
      "channel_settings": {\
        "api": {\
          "can_apply": true\
        },\
        "checkout_page": {\
          "can_apply": true\
        },\
        "customer_portal": {\
          "can_apply": true\
        },\
        "merchant_portal": {\
          "can_apply": true\
        }\
      },\
      "code": "Discount1",\
      "created_at": "2021-07-26T19:16:17+00:00",\
      "ends_at": null,\
      "external_discount_id": {\
        "ecommerce": null\
      },\
      "external_discount_source": null,\
      "prerequisite_subtotal_min": null,\
      "starts_at": null,\
      "status": "enabled",\
      "updated_at": "2021-07-26T19:16:17+00:00",\
      "usage_limits": {\
        "first_time_customer_restriction": false,\
        "max_subsequent_redemptions": null,\
        "one_application_per_customer": false\
      },\
      "value": "100.00",\
      "value_type": "percentage"\
    }\
  ]
}
```

# Metafields

Metafields allow users to add additional information to other resources. They can be used for adding custom fields to objects, and are useful for storing specialized information.

Endpoints

POST

/metafields


GET

/metafields/{id}


PUT

/metafields/{id}


DELETE

/metafields/{id}


GET

/metafields


Expand

# The metafield object

Metafields feature allows to add additional information to other resources. They can be used for adding custom fields to objects, and are useful for storing specialized information.

You can extend the responses of some of these objects by appending the `include?=metafields` as part of your `GET` request.

cf. [Extending responses](https://developer.getrecharge.com/2021-11/payment_methods#extending_responses) for more info.

##### Attributes

- id







integer














Unique numeric identifier for the metafield.

- created\_at







datetime














The date and time when the metafield was created.

- description







string














Description of the metafield.

- key







string














The name of the metafield.

- namespace







string














A category or container that differentiates your metadata from other metafields.

- owner\_id







string














Unique numeric identifier of the `owner_resource`.

- owner\_resource







string













Possible values:

address,

store,

customer,

subscription,

order,

charge










Objects which support `Metafields`

- updated\_at







datetime














The date and time when the metafield was last updated.

- value







string














The content of the metafield.

- value\_type







string













Possible values:

string,

integer,

json\_string










The type of the value parameter.


##### Error related attributes

##### More Attributes

The metafield object

```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Create a metafield

Creates a metafield for a specific object.

There is a limit of 50 metafields per `owner_id`.

You need to have `WRITE` rights to the resource you want to create a `Metafield` for.

Scopes:
WRITE\_{target\_resource}


##### Body Parameters

- description







string














Description of the metafield.

- key







string





\\* Required














The name of the metafield.

- namespace







string





\\* Required














A category or container that differentiates your metadata from other metafields.

- owner\_id







string





\\* Required














Unique numeric identifier of the owner resource.

- owner\_resource







string





\\* Required













Possible values:

address,

store,

customer,

subscription,

order,

charge










The owner of the resource.

- value







string





\\* Required














The content of the metafield.

- value\_type







string





\\* Required













Possible values:

string,

integer,

json\_string










The type of the value parameter.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/metafields


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/metafields' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "metafield": {
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_resource": "customer",
    "owner_id": 18301938,
    "value_type": "integer",
    "value": "3103103101"
  }
}'
```

Response

200


```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Retrieve a metafield

Retrieves a single metafield based on a specified id.

## HTTP request examples

`GET /metafields/<metafield_id>`

In addition to that, you can retrieve them by `subscription_id` by using:

`GET /metafields?owner_resource=subscription&owner_id=<subscription_id>`

Scopes:
read\_{target\_resource}


##### Responses

- 200




















successful response










Show response object



GET

/metafields/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/metafields/33' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

200


```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Update a metafield

Updates a metafield based on a specified `owner_resource`.

Scopes:
write\_{target\_resource}


##### Body Parameters

- description







string














Description of the metafield.

- owner\_id







string














Unique numeric identifier of the resource.

- owner\_resource







string













Possible values:

address,

store,

customer,

subscription,

order,

charge










The owner of the resource can be one of the following values: `address`, `store`, `customer`, `subscription`, `order`, `charge`. There may be more objects added in the future.

- value







string














The content of the metafield.

- value\_type







string













Possible values:

string,

integer,

json\_string










The type of the value parameter.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



PUT

/metafields/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/metafields/33' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "metafield": {
    "description": "phone_number_of_customer",
    "owner_id": 18293088,
    "owner_resource": "customer",
    "value": "0333103133",
    "value_type": "integer"
  }
}'
```

Response

201


```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Delete a metafield

Delete a metafield based on a specified id.

Scopes:
write\_{target\_resource}


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/metafields/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/metafields/6' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

204


```hljs json
{}
```

# List metafields

Retrieves a list of metafields.

## HTTP request examples

`GET /metafields?owner_resource=<owner_resource>`

`GET /metafields?owner_resource=subscription&owner_id=<subscription_id>`

`GET /metafields?owner_resource=customer&owner_id=<customer_id>`

`GET /metafields?owner_resource=store&owner_id=<store_id>`

**When getting metafields, you must specify owner\_resource in the URL. It can be `address`, `store`, `customer`, `subscription`, `order`, `charge`**

You can list metafields that are created for all subscription objects using:

`GET /metafields?owner_resource=subscription` \- `**owner_id**` in the response will be the ID of the subscription.

Scopes:
read\_{target\_resource}


##### Query Parameters

- limit







string













Default: 50





Max: 250










Amount of results.

(default:50) (maximum: 250).

- namespace







string














A category or container that differentiates your metadata from other metafields.

- owner\_id







string














Unique numeric identifier of the owner resource.

- owner\_resource







string













Possible values:

address,

store,

customer,

subscription,

order,

charge










The owner of the resource can be one of the following values: `address`, `store`, `customer`, `subscription`, `order`, `charge`. There may be more objects added in the future.

- page







string





\*Deprecated













Default: 1










Page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/metafields


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/metafields' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d owner_resource=address \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": "next_cursor",
  "previous_cursor": "previous_cursor",
  "metafields": [\
    {\
      "id": 33,\
      "created_at": "2018-11-07T14:00:10",\
      "description": "customer_phone_number",\
      "key": "phone_number",\
      "namespace": "personal_info",\
      "owner_id": 18301938,\
      "owner_resource": "customer",\
      "updated_at": "2018-11-07T14:00:10",\
      "value": "3103103101",\
      "value_type": "integer"\
    },\
    {\
      "id": 15,\
      "created_at": "2018-11-05T12:59:30",\
      "description": "desc lorem ipsum",\
      "key": "marjan",\
      "namespace": "nmsp2c",\
      "owner_id": 17868054,\
      "owner_resource": "customer",\
      "updated_at": "2018-11-05T15:48:42",\
      "value": "5",\
      "value_type": "integer"\
    },\
    {\
      "id": 9,\
      "created_at": "2018-11-05T12:47:27",\
      "description": "desc lorem ipsum",\
      "key": "marjan",\
      "namespace": "nmspc",\
      "owner_id": 17868054,\
      "owner_resource": "customer",\
      "updated_at": "2018-11-05T12:47:27",\
      "value": "5",\
      "value_type": "integer"\
    }\
  ]
}
```

# Notifications

The Customer Notifications resource is used to dispatch email notifications to customers within Recharge. The endpoint uses your configured Recharge email templates, and will dispatch an email to the address associated with the indicated `customer_id`. Some email templates require variable values, which are sent through the Customer Notifications resource via the template\_vars attribute. See below examples for all available template types.

Endpoints

POST

/customers/{id}/notifications


Expand

# Send email notification

Sends a notification email to the customer with the `customer_id` indicated in the route. To view the upcoming charge email template, visit the Notifications section in your Recharge Merchant Admin Portal.

Scopes:
write\_notifications


##### Body Parameters

- type







integer





\\* Required














Identifies the type of the notifications. Value can be email only.

- template\_type







string





\\* Required













Possible values:

upcoming\_charge,

get\_account\_access,

shopify\_update\_payment\_information










Identifies the type of the email notifications.

- template\_vars







object














An object containing the necessary template variables for this email template type.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/customers/{id}/notifications


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers/18819267/notifications' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "type": "email",
  "template_type": "upcoming_charge",
  "template_vars":{
    "address_id":1234567890,
    "charge_id":9876543210
  }
}'
```

Response

200


```hljs json
{}
```

# Onetimes

Onetimes represent non-recurring line items on a `QUEUED` `Charge`.

Endpoints

POST

/onetimes


GET

/onetimes/{id}


PUT

/onetimes/{id}


DELETE

/onetimes/{id}


GET

/onetimes


Expand

# The onetime object

##### Attributes

- id







integer














Unique numeric identifier for the `Onetime` purchase.

- address\_id







integer














Unique numeric identifier for the address the `Onetime` Purchase is associated with (cannot be used with `next_charge_scheduled_at`)

- created\_at







datetime














The time the `Onetime` item was first created.

- customer\_id







integer














Unique numeric identifier for the customer the `Onetime` purchase is tied to.

- external\_product\_id







string














An object containing the product id as it appears in external platforms.










Show object attributes


- external\_variant\_id







string














An object containing the variant id as it appears in external platforms.










Show object attributes


- is\_cancelled







boolean














Flag indicating if the the onetime is cancelled.

- next\_charge\_scheduled\_at







datetime














Date of the `Onetime` purchase execution.







Cannot be used with `add_to_next_charge`

- price







string














The price of the item before discounts, taxes, or shipping have been applied.

- product\_title







string














The name of the product in a shop’s catalog.

- properties







array














An array containing key value pairs for any supplementary data.










Show object attributes


- quantity







integer














The number of items in the `Onetime` purchase.

- sku







string














A unique identifier of the item in the fulfillment.

- sku\_override







boolean














Flag that is automatically updated to `true` when SKU is passed on `POST` or `PUT`.







When `sku_override` is `true`, the `sku` on the `Onetime` will be used to generate `Charges` and `Orders`.

When `sku_override` is `false`, Recharge will dynamically fetch the `sku` from the corresponding `external_platform_variant`.

- updated\_at







string














The time the `Onetime` purchase was last updated.

- variant\_title







string














The name of the variant in a shop’s catalog.


##### Error related attributes

##### More Attributes

The onetime object

```hljs json
{
  "onetime": {
    "id": 16909886,
    "address_id": 21317826,
    "customer_id": 18819267,
    "created_at": "2018-11-14T11:20:05+00:00",
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2018-12-17T00:00:00+00:00",
    "price": null,
    "product_title": "SuperKiwi ONETIME",
    "properties": [\
      {\
        "name": "grind",\
        "value": "drip"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2018-11-14T11:20:05+00:00",
    "variant_title": "Blue star"
  }
}
```

# Create a onetime

Create a new `Onetime`.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer





\\* Required














Unique numeric identifier for the address the one time purchase is associated with.

- add\_to\_next\_charge







boolean














Instructs to add the `Onetime` to the next charge scheduled under this `Address`.

- external\_product\_id







object














Unique numeric identifier of the product in external platform.










Show object attributes


- external\_variant\_id







object





\\* Required














Unique numeric identifier of the product variant in external platform.










Show object attributes


- next\_charge\_scheduled\_at







datetime





\\* Required














This will set the charge date of a new Onetime purchase.







Cannot be used with `add_to_next_charge`

- price







string





\\* Required














The price of the product.

- product\_title







string





\\* Required














The name of the product.

- properties







string














List of properties.

- quantity







integer





\\* Required














The quantity of the product.

- sku







string














A unique identifier of the item in the fulfillment.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/onetimes


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/onetimes' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "address_id": 45154492,
  "next_charge_scheduled_at": "2021-12-17",
  "price": 6,
  "product_title": "ABC Shirt",
  "properties": [\
    {\
      "name": "Color",\
      "value": "Blue"\
    },\
    {\
      "name": "Size",\
      "value": "Medium"\
    }\
  ],
  "quantity": 1,
  "external_variant_id": {
      "ecommerce": "3844892483"
  }
}'
```

Response

201


```hljs json
{
  "onetime": {
    "id": 156155818,
    "address_id": 45154492,
    "customer_id": 40565990,
    "created_at": "2021-05-24T19:14:25+00:00",
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",
    "price": "6.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Red"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2021-05-24T19:30:14+00:00",
    "variant_title": "Blue star"
  }
}
```

# Retrieve a onetime

Retrieve a Onetime.

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/onetimes/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/onetimes/16909886' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "onetime": {
    "id": 16909886,
    "address_id": 45154492,
    "created_at": "2021-05-24T19:14:25+00:00",
    "customer_id": 40565990,
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",
    "price": "6.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2021-05-24T19:30:14+00:00",
    "variant_title": "Blue star"
  }
}
```

# Update a onetime

Update an existing `Onetime` item.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer














Unique numeric identifier for the address the `Onetime` Purchase is associated with (cannot be used with `next_charge_scheduled_at`)

- next\_charge\_scheduled\_at







datetime














This will set the charge date of a new `Onetime` purchase.

- price







string














The price of the product.

- product\_title







string














The name of the product.

- properties







array














List of properties.










Show object attributes


- quantity







integer














The quantity of the product.

- external\_variant\_id







object














Unique numeric identifier of the product variant.










Show object attributes


- sku







string














A unique alphanumeric identifier of the item in the fulfillment.

- variant\_title







string














The name of the product variant.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/onetimes/{id}


cURLPythonPHPRuby

```hljs js
curl -x PUT 'https://api.rechargeapps.com/onetimes/16909886' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"quantity": 1}'
```

Response

200


```hljs json
{
  "onetime": {
    "id": 16909886,
    "address_id": 45154492,
    "created_at": "2021-05-24T19:14:25+00:00",
    "customer_id": 40565990,
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",
    "price": "6.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2021-05-24T19:30:14+00:00",
    "variant_title": "Blue star"
  }
}
```

# Delete a onetime

Delete a `Onetime`.

Scopes:
write\_subscriptions


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/onetimes/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/onetimes/16665185' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List onetimes

Returns a list of all `Onetime` products from store.

Scopes:
read\_subscriptions


##### Query Parameters

- address\_id







string














Return the onetimes linked to the given `address_id`.

- address\_ids







string














Return the onetimes linked to the given comma-separated list of `address_ids`.

- created\_at\_max







datetime














Return the onetimes created before the given date.

- created\_at\_min







datetime














Return the onetimes created after the given date.

- customer\_id







string














Return the onetimes linked to the given Recharge `customer_id`.

- include\_cancelled







boolean














If `true` the response will include the cancelled `Onetimes` as well as the others.

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- external\_variant\_id







string














Return the one time purchases linked to the given external platform product `variant_id`.

- updated\_at\_max







datetime














Return the onetimes updated before the given date.

- updated\_at\_min







datetime














Return the onetimes updated after the given date.

- ids







array














Comma-separated list of one time purchase ids to filter.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/onetimes


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/onetimes' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next": "next_cursor",
  "previous": "previous_cursor",
  "onetimes": [\
    {\
      "id": 16909886,\
      "address_id": 45154492,\
      "created_at": "2021-05-24T19:14:25+00:00",\
      "customer_id": 40565990,\
      "external_product_id": {\
        "ecommerce": "4950280863846"\
      },\
      "external_variant_id": {\
        "ecommerce": "32139793137766"\
      },\
      "is_cancelled": false,\
      "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",\
      "price": "6.00",\
      "product_title": "ABC Shirt",\
      "properties": [\
        {\
          "name": "Color",\
          "value": "Blue"\
        }\
      ],\
      "quantity": 1,\
      "sku": "TOM0001",\
      "sku_override": false,\
      "updated_at": "2021-05-24T19:30:14+00:00",\
      "variant_title": "Blue star"\
    }\
  ]
}
```

# Orders

An order is created after a `Charge` is successfully processed. The `Order` contains all the same json data as the `Charge`. In case of a prepaid order creation, the order will be queued for a particular date and submitted on that date to the external platform.

Endpoints

GET

/orders/{id}


POST

/orders/{id}/clone


POST

/orders/{id}/delay


PUT

/orders/{id}


DELETE

/orders/{id}


GET

/orders


Expand

# The order object

##### Attributes

- id







integer














The unique numeric identifier for the order.

- address\_id







integer














The id of the associated `Address` within Recharge.

- billing\_address







object














The billing address at the time the order was created. See `Addresses` for detailed address information.










Show object attributes


- charge







object














An object containing parameters of the `Charge`.










Show object attributes


- client\_details







object














Details of the access method used by the purchase.










Show object attributes


- created\_at







datetime














The date when the order was created.

- currency







string














The currency of the payment used to create the order.

- customer







object














Object that contains information about the `Customer`.










Show object attributes


- discounts







array














An array of `Discounts` associated with the `Order`.










Show object attributes


- external\_cart\_token







string














The cart token as it appears in an external system.

- external\_order\_id







object














An object containing external order ids.










Show object attributes


- external\_order\_number




















An object containing the external order numbers.










Show object attributes


- is\_prepaid







boolean














A boolean representing if this `Order` is generated from a prepaid purchase.

- line\_items







array














A list of `line_item` objects.










Show object attributes


- note







string














Notes associated with the `Order`.

- order\_attributes







array














An array of name value pairs of note attributes on the `Order`.










Show object attributes


- processed\_at







datetime














The date time that the associated charge was processed at.

- scheduled\_at







datetime














The date time of when the associated charge is/was scheduled to process.

- shipping\_address







object














The shipping address where the order will be shipped. See `Addresses` for detailed `Address` information.










Show object attributes


- shipping\_lines







array














An array of shipping lines associated with the order.










Show object attributes


- status







string













Possible values:

success,

error,

queued,

cancelled










The status of creating the `Order`.

- subtotal\_price







string














The subtotal price (sum of all line items \* their quantity) of the order less discounts.

- tags







string














A comma separated list of tags on the `Order`.

- tax\_lines







array














An array of tax lines that apply to the `Order`.










Show object attributes


- taxable







boolean














A boolean indicator of the taxability of the `Order`.

- total\_discounts







string














The total discounted dollar value of the `Order`.

- total\_duties







string














The total cost of duties for the order.

- total\_line\_items\_price







integer














The total price of all line items of the `Order`.

- total\_price







string














The total amount due of the `Order`.

- total\_refunds







string














The total dollar amount of refunds associated with the `Order`.

- total\_tax







string














The total tax due associated with the `Order`.

- total\_weight\_grams







integer














The total weight of the order in grams.

- type







string













Possible values:

checkout,

recurring










An indicator of the order’s type.

- updated\_at







datetime














The date time at which the order was most recently updated.


##### Error related attributes

##### More Attributes

The order object

```hljs json
{
  "order": {
    "id": 70071255,
    "address_id": 4029306,
    "billing_address": {
      "address1": "1933 Manning",
      "address2": "204",
      "city": "los angeles",
      "company": "bootstrap",
      "country_code": "US",
      "first_name": "mike",
      "last_name": "flynn",
      "phone": "3103103101",
      "province": "California",
      "zip": "90025"
    },
    "charge": {
      "id": 97376832,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2018-11-08T08:08:09+00:00",
    "currency": "usd",
    "customer": {
      "id": 12354,
      "email": "example@email.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 123456,\
        "code": "TESTCODE10",\
        "value": "10.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "123496878536413"
    },
    "external_order_number": {
      "ecommerce": "125"
    },
    "hash": "42039120ee0e6cfa5c97805",
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 365974856,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "456123789"\
        },\
        "external_variant_id": {\
          "ecommerce": "4569876413"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2_large.jpeg",\
          "medium": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2_medium.jpeg",\
          "original": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2.jpeg",\
          "small": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2_small.jpeg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "grind",\
            "value": "drip"\
          },\
          {\
            "name": "size",\
            "value": "medium"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 4,\
        "sku": "TOM0001",\
        "tax_due": "3.80",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "unit_price": "0.331",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "unit_price": "0.102",\
            "title": "LA County Tax"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt bundle",\
        "total_price": "43.80",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order #3   - Subscription Recurring Order",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": null,
    "scheduled_at": "2022-11-16T00:00:00+00:00",
    "shipping_address": {
      "address1": "1933 Manning",
      "address2": "204",
      "city": "los angeles",
      "company": "bootstrap",
      "country_code": "US",
      "first_name": "mike",
      "last_name": "flynn",
      "phone": "3103103101",
      "province": "California",
      "zip": "90025"
    },
    "shipping_lines": [\
      {\
        "code": "Standard Shipping",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.360",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "LA County Tax"\
          }\
        ],\
        "title": "Standard Shipping"\
      }\
    ],
    "status": "cancelled",
    "subtotal_price": "40.00",
    "tags": "Prepaid, Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_duties": "0.0",
    "total_line_items_price": "40.00",
    "total_price": "38.22",
    "total_refunds": "0.00",
    "total_tax": "3.32",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-20T13:25:52+00:00"
  }
}
```

# Retrieve an order

Retrieve one `Order` using the Recharge `order_id`.

Scopes:
read\_orders


##### Responses

- 200




















successful response










Show response object



GET

/orders/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/orders/70071255' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "order": {
    "id": 210987092,
    "address_id": 42171447,
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "",
      "city": "Portland",
      "company": "Fake Company Billing",
      "country_code": "US",
      "first_name": "Fake Billing First",
      "last_name": "Fake Billing Last",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "charge": {
      "id": 272382456,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2020-12-17T18:50:25+00:00",
    "currency": "usd",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "27117383938"
    },
    "external_order_number": {
      "ecommerce": "1938"
    },
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "1.30",\
        "title": "Shirt bundle",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": "2020-12-17T18:50:27+00:00",
    "scheduled_at": "2020-12-17T18:50:27+00:00",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_duties": "0.0",
    "total_line_items_price": "10.00",
    "total_price": "14.90",
    "total_refunds": "0.00",
    "total_tax": "10.00",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-17T18:50:27+00:00"
  }
}
```

# Clone an order

You may add additional `Orders` onto a success `Charge` if it has existing prepaid `Orders` by cloning an existing `Order`.

Scopes:
write\_orders


##### Body Parameters

- scheduled\_at







datetime





\\* Required














Date in future when this order will be sent.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/orders/{id}/clone


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/orders/70071255/clone' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"scheduled_at": "2022-11-16"}'
```

Response

201


```hljs json
{
  "order": {
    "id": 210987092,
    "address_id": 42171447,
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "",
      "city": "Portland",
      "company": "Fake Company Billing",
      "country_code": "US",
      "first_name": "Fake Billing First",
      "last_name": "Fake Billing Last",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "charge": {
      "id": 272382456,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2020-12-17T18:50:25+00:00",
    "currency": "usd",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "27117383938"
    },
    "external_order_number": {
      "ecommerce": "1938"
    },
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "1.30",\
        "title": "Shirt bundle",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": "2020-12-17T18:50:27+00:00",
    "scheduled_at": "2020-12-17T18:50:27+00:00",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_duties": "0.0",
    "total_line_items_price": "10.00",
    "total_price": "14.90",
    "total_refunds": "0.00",
    "total_tax": "10.00",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-17T18:50:27+00:00"
  }
}
```

# Delay an order

Delay a prepaid `Order` by one interval

The `id` must be for the next queued `Order` for a prepaid `Subscription`. The `Order` will be delayed by one interval, and all subsequent `Orders` and `Charges` will be shifted by the same amount.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object



POST

/orders/{id}/delay


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/orders/70071255/delay' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "order": {
    "id": 70071255,
    "address_id": 4029306,
    "created_at": "2022-02-04T23:19:52+00:00",
    "currency": "usd",
    "discounts": [],
    "error": null,
    "external_cart_token": null,
    "is_prepaid": true,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "1.30",\
        "title": "Shirt bundle",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": null,
    "order_attributes": [],
    "processed_at": null,
    "scheduled_at": "2023-02-07T05:00:00+00:00",
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "queued",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "0.00",
    "total_duties": "0.0",
    "total_line_items_price": "10.00",
    "total_price": "14.90",
    "total_refunds": "0.00",
    "total_tax": "10.00",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2023-01-05T22:11:46+00:00"
  }
}
```

# Update an order

Updating existing `Order` using the `order_id`.

Scopes:
write\_orders


##### Body Parameters

- billing\_address







object














Billing address details.










Show object attributes


- customer







object














The key values related with customer.










Show object attributes


- line\_items







array














Line item properties can be updated on Prepaid Queued Orders. To change Queued Charges you must change the parent subscription(s) or address.







**Important:** When updating `line_items`, you must provide the entire json block that was in `line_items` before, as the data provided overrides the entire block and only new parameters will remain.










Show object attributes


- external\_order\_id







object














An object containing external order ids.










Show object attributes


- scheduled\_at







datetime














The date when the order will be shipped.

- shipping\_address







object














Shipping address details.










Show object attributes


- status







string













Possible values:

success,

error,

queued,

cancelled










The status of the order


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/orders/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/orders/70071255' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
"billing_address": {
  "city": "Los Angeles",
  "first_name": "mike",
  "last_name": "flynn",
  "zip": "90025"
 }
}'
```

Response

200


```hljs json
{
  "order": {
    "id": 210987092,
    "address_id": 42171447,
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "",
      "city": "Portland",
      "company": "Fake Company Billing",
      "country_code": "US",
      "first_name": "Fake Billing First",
      "last_name": "Fake Billing Last",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "charge": {
      "id": 272382456,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2020-12-17T18:50:25+00:00",
    "currency": "usd",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "27117383938"
    },
    "external_order_number": {
      "ecommerce": "1938"
    },
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.725",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.225",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "0.95",\
        "title": "Shirt bundle",\
        "total_price": "10.95",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": "2020-12-17T18:50:27+00:00",
    "scheduled_at": "2020-12-17T18:50:27+00:00",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.355",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.110",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_line_items_price": "10.00",
    "total_price": "5.37",
    "total_refunds": "0.00",
    "total_tax": "0.47",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-17T18:50:27+00:00"
  }
}
```

# Delete an order

You can delete a scheduled order.

Scopes:
write\_orders


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/orders/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/orders/70071255' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List orders

Returns a list of orders.

## HTTP request examples

`GET /orders`

`GET /orders?customer_id=123`

`GET /orders?address_id=4587216`

`GET /orders?charge_id=45678542`

`GET /orders?created_at_min=2016-05-18&created_at_max=2016-06-18`

Scopes:
read\_orders


##### Query Parameters

- address\_id







string














Filter orders by address.







`GET /orders/?address_id=123` will return all orders for the given `address_id`.

- charge\_id







string














Filter orders by charge.







`GET /orders/?charge_id=123` will return all orders for the given `charge_id`.

- created\_at\_max







datetime














Show orders created before the given date.

- created\_at\_min







datetime














Show orders created after the given date.

- customer\_id







string














Filter orders by customer.







`GET /orders/?customer_id=123` will return all orders for the given `customer_id`

- external\_customer\_id







string














Filter orders by external\_customer\_id.

- external\_order\_id







string














Filter orders by external\_order\_id.

- ids







string














Filter orders by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show. Default is 1.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- scheduled\_at\_max







datetime














Show orders scheduled before the given date.

- scheduled\_at\_min







datetime














Show orders scheduled after the given date.

- has\_external\_order







string














Filter orders with/without external\_order\_id.

- status







string













Possible values:

success,

queued,

error,

refunded,

skipped










Filter orders by status.

- type







string













Possible values:

checkout,

recurring










Filter orders by type.







`GET /api/orders/?type=recurring` will return all orders for the given type.

- purchase\_item\_id







string














Filter orders by subscription or onetime.

- updated\_at\_max







datetime














Show orders updated before the given date.

- updated\_at\_min







datetime














Show orders updated after the given date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/orders


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/orders' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d 'limit=3' -G
```

Response

200


```hljs json
{
  "next": "next_cursor",
  "previous": "previous_cursor",
  "orders": [\
    {\
      "id": 210987092,\
      "address_id": 42171447,\
      "billing_address": {\
        "address1": "601 SW Washing St.",\
        "address2": "",\
        "city": "Portland",\
        "company": "Fake Company Billing",\
        "country_code": "US",\
        "first_name": "Fake Billing First",\
        "last_name": "Fake Billing Last",\
        "phone": "888-888-8888",\
        "province": "Oregon",\
        "zip": "97205"\
      },\
      "charge": {\
        "id": 272382456,\
        "external_transaction_id": {\
          "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"\
        }\
      },\
      "client_details": {\
        "browser_ip": "192.168.0.1",\
        "user_agent": "safari webkit"\
      },\
      "created_at": "2020-12-17T18:50:25+00:00",\
      "currency": "usd",\
      "customer": {\
        "id": 37657002,\
        "email": "test@test.com",\
        "external_customer_id": {\
          "ecommerce": "382028302"\
        },\
        "hash": "7e706455cbd13e40"\
      },\
      "discounts": [\
        {\
          "id": 12345,\
          "code": "TESTCODE10",\
          "value": 10,\
          "value_type": "fixed_amount"\
        }\
      ],\
      "error": null,\
      "external_cart_token": "aeic8101918fs0f8810",\
      "external_order_id": {\
        "ecommerce": "27117383938"\
      },\
      "external_order_number": {\
        "ecommerce": "1938"\
      },\
      "is_prepaid": false,\
      "line_items": [\
        {\
          "purchase_item_id": 63898947,\
          "external_inventory_policy": "decrement_obeying_policy",\
          "external_product_id": {\
            "ecommerce": "4381728735283"\
          },\
          "external_variant_id": {\
            "ecommerce": "999999999999"\
          },\
          "grams": 454,\
          "images": {\
            "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
            "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
            "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
            "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
          },\
          "original_price": "10.00",\
          "properties": [\
            {\
              "name": "Color",\
              "value": "Blue"\
            }\
          ],\
          "purchase_item_type": "subscription",\
          "quantity": 1,\
          "sku": "TOM0001",\
          "tax_lines": [\
            {\
              "price": "0.993",\
              "rate": "0.0725",\
              "title": "CA State Tax",\
              "unit_price": "0.331"\
            },\
            {\
              "price": "0.308",\
              "rate": "0.0225",\
              "title": "LA County Tax",\
              "unit_price": "0.102"\
            }\
          ],\
          "taxable": true,\
          "taxable_amount": "10.00",\
          "tax_due": "1.30",\
          "title": "Shirt bundle",\
          "total_price": "11.30",\
          "unit_price": "10.00",\
          "unit_price_includes_tax": false,\
          "variant_title": "Blue t-shirts"\
        }\
      ],\
      "note": "next order in sequence 3",\
      "order_attributes": [\
        {\
          "name": "subscription_cycle_count_min",\
          "value": "3"\
        }\
      ],\
      "processed_at": "2020-12-17T18:50:27+00:00",\
      "scheduled_at": "2020-12-17T18:50:27+00:00",\
      "shipping_address": {\
        "address1": "1030 Barnum Ave",\
        "address2": "Suite 101",\
        "city": "Stratford",\
        "company": "Fake Company",\
        "country_code": "US",\
        "first_name": "Fake First",\
        "last_name": "Fake Last",\
        "phone": "999-999-9999",\
        "province": "Connecticut",\
        "zip": "06614"\
      },\
      "shipping_lines": [\
        {\
          "code": "Standard",\
          "price": "4.90",\
          "taxable": true,\
          "tax_lines": [\
            {\
              "price": "0.355",\
              "rate": "0.0725",\
              "title": "CA State Tax"\
            },\
            {\
              "price": "0.110",\
              "rate": "0.0225",\
              "title": "Los Angeles County Tax"\
            }\
          ],\
          "title": "Standard"\
        }\
      ],\
      "status": "success",\
      "subtotal_price": "10.00",\
      "tags": "Subscription, Subscription Recurring Order",\
      "tax_lines": [\
        {\
          "price": "0.950",\
          "rate": "0.0725",\
          "title": "CA State Tax"\
        },\
        {\
          "price": "0.335",\
          "rate": "0.0225",\
          "title": "Los Angeles  County Tax"\
        }\
      ],\
      "taxable": true,\
      "total_discounts": "10.00",\
      "total_duties": "0.0",\
      "total_line_items_price": "10.00",\
      "total_price": "14.90",\
      "total_refunds": "0.00",\
      "total_tax": "10.00",\
      "total_weight_grams": 454,\
      "type": "recurring",\
      "updated_at": "2020-12-17T18:50:27+00:00"\
    }\
  ]
}
```

# Payment methods

The `Payment Method` object holds payment and billing information. A `Customer` may be associated with many `Payment Methods`, and an `Addresses` record must be associated with at least one `Payment_method`.

Important - If you see the following error when accessing Payment Methods endpoints: “You do not have sufficient permissions (scopes) for this object”, the token you are using has not been configured with correct access permissions. Update the token to have “Read access” or “Read and Write access” depending on your use case. ![](https://developer.getrecharge.com/images/paymentMethods.png)

Endpoints

POST

/payment\_methods


GET

/payment\_methods/{id}


PUT

/payment\_methods/{id}


DELETE

/payment\_methods/{id}


GET

/payment\_methods


# The payment method object

The Payment Method object holds payment and billing information. A `Customer` may be associated with many payment methods, and an `Addresses` record must be associated with at least one `Payment Method`.

##### Attributes

- id







integer














The unique payment method id for a customer.

- customer\_id







integer














The Recharge `customer_id`.

- created\_at







datetime














The date and time when the payment method was created.

- default







boolean














If this is the default `Payment_method` for the `Customer`.







`Customer` must have 1 and only 1 default payment `Payment_method`.

- payment\_details







object














Details about the specific payment method







Those details will vary based on the `payment_type`










Show object attributes


- payment\_type







string













Possible values:

CREDIT\_CARD,

PAYPAL,

APPLE\_PAY,

GOOGLE\_PAY,

SEPA\_DEBIT










The type of payment this is.







If passed, must also be accompanied by one of `stripe_customer_token`, `paypal_customer_token` or `authorizedotnet_customer_token` in `processor_payment_method_token`.

- processor\_customer\_token







string














The customer token at the processor.

- processor\_name







string













Possible values:

stripe,

braintree,

authorize,

shopify\_payments,

mollie










This will impact validation on billing\_details.







Currently, `shopify_payments` is in read-only mode and can only be managed by Shopify.

- processor\_payment\_method\_token







string














The payment token at the processor.

- status







string













Possible values:

unvalidated,

valid,

invalid,

empty










State of the `Payment Method`.

- status\_reason







string














The status reason for the payment method.







Often used when `invalid` to provide background details in invalidity.

- updated\_at







datetime














Last time the `Payment_method` was updated.


##### Error related attributes

##### More Attributes

- billing\_address







object














An object with the customer’s address information.










Show object attributes



The payment method object

```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country": "United States",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": 1234
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3ebcBaL6pCx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "retry_date": null,
    "status": null,
    "status_reason": null,
    "taxable": true,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Create a payment method

[BigCommerce](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Create a Payment Method in Recharge.

Scopes:
write\_payment\_methods


##### Body Parameters

- customer\_id







integer





\\* Required














The Recharge `customer_id`.

- default







boolean














If this is the default `Payment Method` for the customer, customer must have 1 and only 1 default `Payment Method`.

- payment\_type







string





\\* Required













Possible values:

CREDIT\_CARD,

PAYPAL,

APPLE\_PAY,

GOOGLE\_PAY,

SEPA\_DEBIT










The type of payment.

- processor\_customer\_token







string





\\* Required














The customer token at the processor.







On Stripe this begins with `cus_`.

- processor\_name







string





\\* Required













Possible values:

stripe,

braintree,

authorize,

shopify\_payments,

mollie










This will impact validation on billing\_details.







Currently, `shopify_payments` is in read-only mode and can only be managed by Shopify.

- processor\_payment\_method\_token







string














The payment token at the processor.


##### More Parameters

- billing\_address







object














An object with the customer’s address information.










Show object attributes


- retry\_charges







boolean














Whether charges associated with this payment method should be retried. If `true` then charges with previous payment-related errors will be set to retry during the next automated processing.


##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/payment\_methods


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/payment_methods' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "customer_id": 62824147,
  "default": true,
  "payment_type": "CREDIT_CARD",
  "processor_customer_token": "cus_JGYtLWi2HS8ymD",
  "processor_name": "stripe",
  "processor_payment_method_token": "pm_34jdshjs"
}'
```

Response

201


```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": "1234"
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3457BaL90Cx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "status": null,
    "status_reason": null,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Retrieve a payment method

Retrieve an existing `Payment Method` using the Recharge `Payment Method` `id`.

Scopes:
read\_payment\_methods


##### Responses

- 200




















successful response










Show response object



GET

/payment\_methods/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/payment_methods/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": "1234"
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3457BaL90Cx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "status": null,
    "status_reason": null,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Update a payment method

[BigCommerce](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Modify an existing `Payment Method`.

Scopes:
write\_payment\_methods


##### Body Parameters

- default







boolean














If this is the default `Payment Method` for the `Customer`.







`Customer` must have 1 and only 1 default payment `Payment_method`.

- processor\_name







string













Possible values:

stripe,

braintree,

authorize,

shopify\_payments,

mollie










This will impact validation on billing\_details.







Currently, `shopify_payments` is in read-only mode and can only be managed by Shopify.

- billing\_address







object














An object with the customer’s address information.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/payment\_methods/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/payment_methods/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"default": true}'
```

Response

200


```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": "1234"
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3457BaL90Cx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "status": null,
    "status_reason": null,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Delete a payment method

[BigCommerce](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Permanently delete a `Payment Method`.

Scopes:
write\_payment\_methods


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/payment\_methods/{id}


cURLPythonPHPRuby

```hljs js
curl --X DELETE 'https://api.rechargeapps.com/payment_methods/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List payment methods

Return a list of payment methods in your store.

## HTTP request examples

`GET /payment_methods`

Scopes:
read\_payment\_methods


##### Query Parameters

- customer\_id







string














Gets all `Payment methods` for this customer.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/payment\_methods


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/payment_methods' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "payment_methods": [\
    {\
      "id": 1234567,\
      "billing_address": {\
        "address1": "123 Washington Street",\
        "address2": "Suite 101",\
        "city": "Los Angeles",\
        "company_name": "Acme Corp",\
        "country_code": "US",\
        "name": "Jane Doe",\
        "phone": "1234567890",\
        "province": "California",\
        "zip": "90210"\
      },\
      "created_at": "2018-11-14T09:00:01",\
      "customer_id": 999123999,\
      "default": true,\
      "payment_details": [\
        {\
          "brand": "visa",\
          "exp_month": 12,\
          "exp_year": 2021,\
          "last4": 1234\
        }\
      ],\
      "payment_type": "CREDIT_CARD",\
      "processor_customer_token": "cus_AB3ebcBaL6pCx9",\
      "processor_name": "stripe",\
      "processor_payment_method_token": "pm_123123",\
      "updated_at": "2018-11-14T09:00:01"\
    }\
  ]
}
```

# Plans

The `Plans` resource is used to create and configure the transactional options for the `Product` (subscription, prepaid, and onetime purchase options) in Recharge. ![](https://developer.getrecharge.com/images/plan.png)

Endpoints

POST

/plans


PUT

/plans/{id}


DELETE

/plans/{id}


GET

/plans


POST

/products/{external\_product\_id}/plans-bulk


PUT

/products/{external\_product\_id}/plans-bulk


DELETE

/products/{external\_product\_id}/plans-bulk


Expand

# The plan object

The `Plan` object is used to create and configure the transactional options for the `Products` in Recharge.

Current transactional options are: subscription, prepaid and onetime.

**Important -** Updating/modifying plans in 2021-11 will impact /products in 2021-01. **These are not cross compatible.** Proceed with caution.

##### Attributes

- id







integer














Unique numeric identifier for the `Plan`.

- channel\_settings







object














An object containing the availability of the plan through various supported channels.










Show object attributes


- created\_at







datetime














The time the plan was created.

- deleted\_at







datetime














If deleted, the time the plan was deleted.

- discount\_amount







string














The discount amount applied to the product `price` when purchased through this `Plan`.







All `Plans` for a product must have the same discount amount.

- discount\_type







string













Possible values:

percentage










Used in combination with discount amount to determine the discount applied on a product price when purchased through this `Plan`.

- external\_plan\_group\_id







string














The id of the selling plan group as it appears in external platforms.

- external\_plan\_id







string














The id of the selling plan as it appears in external platforms.

- external\_plan\_name







string














The name of the selling plan as it appears in external platforms.

- external\_product\_id







object














An object containing the product id as it appears in external platforms.










Show object attributes


- external\_variant\_ids







array














An array of variant ids as they appear in external platforms.

- has\_variant\_restrictions







boolean













Default: false










Whether this plan applies to specific variants of the product

- sort\_order







integer














The number indicating the order which the plan will be in a list of related plans.

- subscription\_preferences







object














An object containing the various subscription preferences associated with this plan.










Show object attributes


- title







string














The title of the plan.







All `Plans` for a product must have the same `title`.

- type







string













Possible values:

subscription,

prepaid,

onetime










The type of the plan.







Products with a `prepaid` plan cannot have plans of other types.

- updated\_at







datetime














The time the plan was last updated.


##### Error related attributes

##### More Attributes

The plan object

```hljs json
{
  "plan": {
    "id": 88237,
    "channel_settings": {
      "api": {
        "display": true
      },
      "checkout_page": {
        "display": true
      },
      "customer_portal": {
        "display": true
      },
      "merchant_portal": {
        "display": true
      }
    },
    "created_at": "2021-07-27T19:07:34+00:00",
    "deleted_at": null,
    "discount_amount": "30.00",
    "discount_type": "percentage",
    "external_plan_group_id": "77695091010",
    "external_plan_id": "690103779650",
    "external_plan_name": "1 week subscription",
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "external_variant_ids": [],
    "has_variant_restrictions": false,
    "sort_order": 1,
    "subscription_preferences": {
      "apply_cutoff_date_to_checkout": false,
      "charge_interval_frequency": 30,
      "cutoff_day_of_month": null,
      "cutoff_day_of_week": null,
      "expire_after_specific_number_of_charges": null,
      "interval_unit": "day",
      "order_day_of_month": 1,
      "order_day_of_week": null,
      "order_interval_frequency": 30
    },
    "title": "Jarred Pickles",
    "type": "subscription",
    "updated_at": "2021-07-27T19:07:34+00:00"
  }
}
```

# Create a plan

Create a `Plan` for a `Product` in Recharge.

Multiple `Plans` may exist for any `Product`, see the `Plan` object for restrictions.

Scopes:
write\_products


##### Body Parameters

- channel\_settings







string














An object containing the availability of the plan through various supported channels.










Show object attributes


- discount\_amount







string














The discount amount applied to the product price when purchased through this plan. All plans for a product must have the same discount amount.







All `Plans` for a product must have the same discount amount.

- discount\_type







string













Possible values:

percentage










Used in combination with discount amount to determine the discount applied on a product price when purchased through this plan. (accepts: percentage)

- external\_product\_id







object





\\* Required














An object containing the product id as it appears in external platforms.










Show object attributes


- sort\_order







integer














The number indicating the order which the plan will be in a list of related plans.

- subscription\_preferences







object





\\* Required














An object containing the various subscription preferences associated with this plan.










Show object attributes


- title







string





\\* Required














The title of the plan.







All `Plans` for a product must have the same `title`.

- type







string





\\* Required













Possible values:

subscription,

prepaid,

onetime










The type of the plan. Products with a prepaid plan cannot have plans of other types.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/plans


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/plans' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "discount_amount": "10",
    "discount_type": "percentage",
    "external_product_id": {
        "ecommerce": "2103271587891"
    },
    "sort_order": 1,
    "subscription_preferences": {
        "charge_interval_frequency": 30,
        "expire_after_specific_number_of_charges": 6,
        "interval_unit": "day",
        "order_day_of_month": 1,
        "order_interval_frequency": 30
    }
    "title": "Concert T-Shirt",
    "type": "subscription",
}'
```

Response

200


```hljs json
{
  "plan": {
    "id": 88237,
    "channel_settings": {
      "api": {
        "display": true
      },
      "checkout_page": {
        "display": true
      },
      "customer_portal": {
        "display": true
      },
      "merchant_portal": {
        "display": true
      }
    },
    "created_at": "2021-07-27T19:07:34+00:00",
    "deleted_at": null,
    "discount_amount": "10",
    "discount_type": "percentage",
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "sort_order": 1,
    "subscription_preferences": {
      "charge_interval_frequency": 30,
      "cutoff_day_of_month": null,
      "cutoff_day_of_week": null,
      "expire_after_specific_number_of_charges": 6,
      "interval_unit": "day",
      "order_day_of_month": 1,
      "order_day_of_week": null,
      "order_interval_frequency": 30
    },
    "title": "Concert TShirt",
    "type": "subscription",
    "updated_at": "2021-07-27T19:07:34+00:00"
  }
}
```

# Update a plan

Update an existing Plan.

Scopes:
write\_products


##### Body Parameters

- channel\_settings







object














An object containing the availability of the plan through various supported channels.










Show object attributes


- discount\_amount







string














The discount amount applied to the product price when purchased through this plan. All plans for a product must have the same discount amount.







All `Plans` for a product must have the same discount amount.

- discount\_type







string













Possible values:

percentage










Used in combination with discount amount to determine the discount applied on a product price when purchased through this plan.

- external\_product\_id







object














An object containing the product id as it appears in external platforms.










Show object attributes


- sort\_order







string














The number indicating the order which the plan will be in a list of related plans.

- subscription\_preferences







object














An object containing the various subscription preferences associated with this plan.










Show object attributes


- title







string














The title of the plan.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/plans/{id}


cURLPythonPHPRuby

```hljs js
curl -x PUT 'https://api.rechargeapps.com/plans/16909886' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"discount_amount": "12.0","title": "Concert T-Shirt"}'
```

Response

200


```hljs json
{
  "plan": {
    "id": 88237,
    "channel_settings": {
      "api": {
        "display": true
      },
      "checkout_page": {
        "display": true
      },
      "customer_portal": {
        "display": true
      },
      "merchant_portal": {
        "display": true
      }
    },
    "created_at": "2021-07-27T19:07:34+00:00",
    "deleted_at": null,
    "discount_amount": "10",
    "discount_type": "percentage",
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "sort_order": 1,
    "subscription_preferences": {
      "charge_interval_frequency": 30,
      "cutoff_day_of_month": null,
      "cutoff_day_of_week": null,
      "expire_after_specific_number_of_charges": 6,
      "interval_unit": "day",
      "order_day_of_month": 1,
      "order_day_of_week": null,
      "order_interval_frequency": 30
    },
    "title": "Concert TShirt",
    "type": "subscription",
    "updated_at": "2021-07-27T19:07:34+00:00"
  }
}
```

# Delete a plan

Delete a plan.

Scopes:
write\_products


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/plans/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/plans/321654' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List plans

Returns a list of all plans from `Store`.

Scopes:
read\_products


##### Query Parameters

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- external\_product\_id







string














Return the `Plans` linked to the `Product` record in Recharge with the indicated `external_product_id`

- ids







string














Filter plans by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- updated\_at\_max







datetime














Return the plans updated before the given date.

- updated\_at\_min







datetime














Return the plans updated after the given date.

- type







string













Possible values:

subscription,

prepaid,

onetime










Return the plans that are of a specific type.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/plans


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/plans' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "plans": [\
    {\
      "id": 88237,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "deleted_at": null,\
      "discount_amount": null,\
      "discount_type": null,\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 1,\
      "subscription_preferences": {\
        "charge_interval_frequency": 30,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": null,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_day_of_week": null,\
        "order_interval_frequency": 30\
      },\
      "title": "Jarred Pickles",\
      "type": "subscription",\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    }\
  ]
}
```

# Bulk create plans

Bulk create new plans.

**There is a limit of 20 plans per request.**

Scopes:
write\_products


##### Body Parameters

- plans







array





\\* Required














An array of plans to be created.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/products/{external\_product\_id}/plans-bulk


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products/2103271587891/plans-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "plans": [\
        {\
            "discount_amount": "10",\
            "discount_type": "percentage",\
            "sort_order": 1,\
            "title": "Concert T-Shirt",\
            "type": "subscription",\
            "subscription_preferences": {\
                "charge_interval_frequency": 30,\
                "expire_after_specific_number_of_charges": 6,\
                "interval_unit": "day",\
                "order_day_of_month": 1,\
                "order_interval_frequency": 30\
            }\
        },\
        {\
            "discount_amount": "10",\
            "discount_type": "percentage",\
            "sort_order": 2,\
            "title": "Concert T-Shirt",\
            "type": "subscription",\
            "subscription_preferences": {\
                "charge_interval_frequency": 60,\
                "expire_after_specific_number_of_charges": 6,\
                "interval_unit": "day",\
                "order_day_of_month": 1,\
                "order_interval_frequency": 60\
            }\
        }\
    ]
 }'
```

Response

200


```hljs json
{
  "plans": [\
    {\
      "id": 88237,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 1,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 30,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 30\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    },\
    {\
      "id": 88238,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 2,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 60,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 60\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    }\
  ]
}
```

# Bulk update plans

Bulk update existing plans.

**There is a limit of 20 plans per request.**

Scopes:
write\_products


##### Body Parameters

- plans







array





\\* Required














An array of plans to be updated. Must provide ID for each plan.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/products/{external\_product\_id}/plans-bulk


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/products/2103271587891/plans-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "plans": [\
        {\
            "id": 88237,\
            "title": "Updated T-Shirt"\
        },\
        {\
            "id": 88238,\
            "title": "Updated T-Shirt"\
        }\
    ]
 }'
```

Response

200


```hljs json
{
  "plans": [\
    {\
      "id": 88237,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 1,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 30,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 30\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    },\
    {\
      "id": 88238,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 2,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 60,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 60\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    }\
  ]
}
```

# Bulk delete plans

Bulk delete existing plans.

**There is a limit of 20 plans per request.**

Scopes:
write\_products


##### Body Parameters

- plans







array





\\* Required














An array of plans to be deleted. Must provide ID for each plan.










Show object attributes



##### More Parameters

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/products/{external\_product\_id}/plans-bulk


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/products/2103271587891/plans-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "plans": [\
        {\
            "id": 88237\
        },\
        {\
            "id": 88238\
        }\
    ]
 }'
```

Response

204


```hljs json
{}
```

# Products

[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Representation of the Products from your catalog in Recharge. ![](https://developer.getrecharge.com/images/product.png)

Endpoints

POST

/products


GET

/products/{external\_product\_id}


PUT

/products/{external\_product\_id}


DELETE

/products/{external\_product\_id}


GET

/products


Expand

# The product object

##### Attributes

- external\_product\_id







string














Unique numeric identifier of the product record in Recharge. The primary id of the record.

- brand







string














The brand name of the product.

- external\_created\_at







datetime














The date and time at which the product was created in an external product catalog.

- external\_updated\_at







datetime














The date and time at which the product was updated in an external product catalog.

- images







array














An array of urls for various sizes of image files.










Show object attributes


- options




















An array of options for the product record, such as size, color, etc.










Show object attributes


- published\_at







datetime














The datetime at which the product became available for purchase. To make the product available, this should be set in the past.

- requires\_shipping







boolean














Indicator of shipping requirement.







Dictates the default for the variants. Can be overriden at the variant level.

- title







string














The title of the product.

- variants







array














An array of variants of the product.







If your PIM does not use variants, create a single variant product.










Show object attributes


- vendor







string














The vendor of the product.


##### Error related attributes

##### More Attributes

The product object

```hljs json
{
  "brand": "Recharge",
  "description": "A cotton shirt with the Recharge logo",
  "external_created_at": "2021-01-01T00:00:00+00:00",
  "external_product_id": "5",
  "external_updated_at": "2021-01-01T00:00:00+00:00",
  "images": [\
    {\
      "small": "https:...",\
      "medium": "https:...",\
      "large": "https:...",\
      "original": "https:...",\
      "sort_order": 2\
    }\
  ],
  "options": [\
    {\
      "name": "Size",\
      "position": 0,\
      "values": [\
        {\
          "label": "small",\
          "position": 0\
        },\
        {\
          "label": "medium",\
          "position": 1\
        },\
        {\
          "label": "large",\
          "position": 2\
        }\
      ]\
    }\
  ],
  "published_at": "2021-01-01:00:00+00:00",
  "requires_shipping": true,
  "title": "Recharge Logo Shirt",
  "variants": [\
    {\
      "external_variant_id": " 9",\
      "dimensions": {\
        "weight": 1234.5\
      },\
      "image": {\
        "small": "https:....jpeg",\
        "medium": "https:....jpeg",\
        "large": "https:....jpeg",\
        "original": "https:....jpeg"\
      },\
      "option_values": [\
        {\
          "label": "small"\
        }\
      ],\
      "requires_shipping": true,\
      "sku": "CLO123",\
      "title": "Recharge Logo Shirt - Small",\
      "taxable": true,\
      "tax_code": "CLOTHING",\
      "prices": {\
        "compare_at_price": "14.22",\
        "unit_price": "12.22"\
      }\
    }\
  ],
  "vendor": "Recharge Apparel Store"
}
```

# Create a product

[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Create a new product in your Recharge Product Catalog. After adding the record, subscription preferences may be added using the Products page of Recharge Admin Portal or you can use the `Plans` resource currently in `Alpha`.

Scopes:
write\_products


##### Body Parameters

- external\_product\_id







object





\\* Required














Unique numeric identifier of the product record in Recharge. The primary id of the record.










Show object attributes


- brand







string














The brand name of the product.

- external\_created\_at







datetime














The date and time at which the product was created in an external product catalog.

- external\_updated\_at







datetime














The date and time at which the product was updated in an external product catalog.

- images







array














An array of urls for various sizes of image files.







`small` is the default picture shown on the checkout. If `small` is not present we render `original`. Please note for better rendering we advise you populate `small`.










Show object attributes


- options











\\* Required














An array of options for the product record, such as size, color, etc.










Show object attributes


- published\_at







datetime














The date and time at which the product became available for purchase. To make the product available, this should be set in the past.

- requires\_shipping







string














Indicator of shipping requirement. If `true` the product associated to the variant needs to be shipped.







This is usually false for digital goods.

- title







string





\\* Required














The title of the product.

- variants







array





\\* Required














An array of variants of the product.







If your PIM does not use variants, create a single variant product.










Show object attributes


- vendor







string





\\* Required














The vendor of the product.


##### More Parameters

##### Responses

- 202




















successful response










Show response object



POST

/products


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products' \
 -H 'X-Recharge-Version: 2021-11'
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "external_product_id": "10",
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "images": [\
        {\
            "small": "https:...",\
            "medium": "https:...",\
            "large": "https:...",\
            "original": "https:...",\
            "sort_order": 2\
        }\
    ],
    "options": [\
        {\
            "name": "Size",\
            "position": 0,\
            "values": [\
                {"label": "small", "position": 0},\
                {"label": "medium", "position": 1},\
                {"label": "large", "position": 2}\
            ]\
        }\
    ],
    "published_at": "2021-01-01:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
        {\
            "external_variant_id": "9",\
            "dimensions": {\
                "weight": 1234.5\
            },\
            "image": {\
              "small": "https:...",\
              "medium": "https:...",\
              "large": "https:...",\
              "original": "https:..."\
            },\
            "option_values": [\
                {\
                    "label": "small"\
                }\
            ],\
            "sku": "CLO123",\
            "title": "Recharge Logo Shirt - Small",\
            "taxable": true,\
            "tax_code": "CLOTHING",\
            "prices": {\
                "compare_at_price": "14.22",\
                "unit_price": "12.22"\
            }\
        }\
    ],
    "vendor": "Recharge Apparel Store"
}'
```

Response

202


```hljs json
{
  "product": {
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "external_created_at": "2021-01-01T00:00:00+00:00",
    "external_product_id": "10",
    "external_updated_at": "2021-01-01T00:00:00+00:00",
    "images": [\
      {\
        "large": "https:...",\
        "medium": "https:...",\
        "original": "https:...",\
        "small": "https:...",\
        "sort_order": 2\
      }\
    ],
    "options": [\
      {\
        "name": "Size",\
        "position": 0,\
        "values": [\
          {\
            "label": "small",\
            "position": 0\
          },\
          {\
            "label": "medium",\
            "position": 1\
          },\
          {\
            "label": "large",\
            "position": 2\
          }\
        ]\
      }\
    ],
    "published_at": "2021-01-01T00:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
      {\
        "dimensions": {\
          "weight": 1234.5,\
          "weight_unit": "lb"\
        },\
        "external_variant_id": "9",\
        "image": {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:..."\
        },\
        "option_values": [\
          {\
            "label": "small"\
          }\
        ],\
        "prices": {\
          "compare_at_price": "14.22",\
          "unit_price": "12.22"\
        },\
        "sku": "CLO123",\
        "tax_code": "CLOTHING",\
        "taxable": true,\
        "title": "Recharge Logo Shirt - Small",\
        "requires_shipping": true\
      }\
    ],
    "vendor": "Recharge Apparel Store"
  }
}
```

# Retrieve a product

[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Retrieves a `Product` from store’s product catalog using the `external_product_id` as lookup id.

Scopes:
read\_products


##### Responses

- 200




















successful response










Show response object



GET

/products/{external\_product\_id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products/10' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "product": {
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "external_created_at": "2021-01-01T00:00:00+00:00",
    "external_product_id": "10",
    "external_updated_at": "2021-01-01T00:00:00+00:00",
    "images": [\
      {\
        "large": "https:...",\
        "medium": "https:...",\
        "original": "https:...",\
        "small": "https:...",\
        "sort_order": 2\
      }\
    ],
    "options": [\
      {\
        "name": "Size",\
        "position": 0,\
        "values": [\
          {\
            "label": "small",\
            "position": 0\
          },\
          {\
            "label": "medium",\
            "position": 1\
          },\
          {\
            "label": "large",\
            "position": 2\
          }\
        ]\
      }\
    ],
    "published_at": "2021-01-01T00:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
      {\
        "dimensions": {\
          "weight": 1234.5,\
          "weight_unit": "lb"\
        },\
        "external_variant_id": "9",\
        "image": {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:..."\
        },\
        "option_values": [\
          {\
            "label": "small"\
          }\
        ],\
        "prices": {\
          "compare_at_price": "14.22",\
          "unit_price": "12.22"\
        },\
        "sku": "CLO123",\
        "tax_code": "CLOTHING",\
        "taxable": true,\
        "title": "Recharge Logo Shirt - Small",\
        "requires_shipping": true\
      }\
    ],
    "vendor": "Recharge Apparel Store"
  }
}
```

# Update a product

[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Update an existing product.

Scopes:
write\_products


##### Body Parameters

- brand







string














The brand name of the product.

- external\_created\_at







datetime














The date and time at which the product was created in an external product catalog.

- external\_updated\_at







datetime














The date and time at which the product was updated in an external product catalog.

- images







array














An array of urls for various sizes of image files.










Show object attributes


- options




















An array of options for the product record, such as size, color, etc.










Show object attributes


- published\_at







datetime














The datetime at which the product became available for purchase. To make the product available, this should be set in the past.

- requires\_shipping







boolean














Indicator of shipping requirement. If `true` the product associated to the variant needs to be shipped.







This is usually `false` for digital goods.

- title







string














The title of the product.

- variants







array














An array of variants of the product.







If your PIM does not use variants, create a single variant product.










Show object attributes


- vendor







string














The vendor of the product.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/products/{external\_product\_id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/products/1327844' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "brand": "Recharge",
    "variants": [\
        {\
            "external_variant_id": "101",\
            "dimensions": {\
                "weight": 1234.5\
            },\
            "image": {\
              "small": "https:...",\
              "medium": "https:...",\
              "large": "https:...",\
              "original": "https:..."\
            },\
            "option_values": [{\
              "label": "small"\
            }],\
            "sku": "CLO123",\
            "title": "Small Recharge Logo Shirt",\
            "taxable": true,\
            "tax_code": "CLOTHING",\
            "prices": {\
                "compare_at_price": "14.22",\
                "unit_price": "12.22"\
            }\
        },\
        {\
            "external_variant_id": "102",\
            "dimensions": {\
                "weight": 1234.5\
            },\
            "image": {\
              "small": "https:...",\
              "medium": "https:...",\
              "large": "https:...",\
              "original": "https:..."\
            },\
            "option_values": [{\
              "label": "medium"\
            }],\
            "sku": "CLO124",\
            "title": "Medium Recharge Logo Shirt",\
            "taxable": true,\
            "tax_code": "CLOTHING",\
            "prices": {\
                "compare_at_price": "14.22",\
                "unit_price": "12.22"\
            }\
        }\
    ]
}'
```

Response

200


```hljs json
{
  "product": {
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "external_created_at": "2021-01-01T00:00:00+00:00",
    "external_product_id": "10",
    "external_updated_at": "2021-01-01T00:00:00+00:00",
    "images": [\
      {\
        "large": "https:...",\
        "medium": "https:...",\
        "original": "https:...",\
        "small": "https:...",\
        "sort_order": 2\
      }\
    ],
    "options": [\
      {\
        "name": "Size",\
        "position": 0,\
        "values": [\
          {\
            "label": "small",\
            "position": 0\
          },\
          {\
            "label": "medium",\
            "position": 1\
          },\
          {\
            "label": "large",\
            "position": 2\
          }\
        ]\
      }\
    ],
    "published_at": "2021-01-01T00:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
      {\
        "dimensions": {\
          "weight": 1234.5,\
          "weight_unit": "lb"\
        },\
        "external_variant_id": "9",\
        "image": {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:..."\
        },\
        "option_values": [\
          {\
            "label": "small"\
          }\
        ],\
        "prices": {\
          "compare_at_price": "14.22",\
          "unit_price": "12.22"\
        },\
        "sku": "CLO123",\
        "tax_code": "CLOTHING",\
        "taxable": true,\
        "title": "Recharge Logo Shirt - Small",\
        "requires_shipping": true\
      }\
    ],
    "vendor": "Recharge Apparel Store"
  }
}
```

# Delete a product

[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

Delete product from `Store`.

Scopes:
write\_products


##### Responses

- 204




















successful response










Show response object



DELETE

/products/{external\_product\_id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/products/509780' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List products

[Custom](https://developer.getrecharge.com/2021-11/payment_methods#tags_legend)

List products from store’s product catalog.

Scopes:
read\_products


##### Query Parameters

- external\_product\_ids







string














Filter products by external product ids.







`GET /products/?external_product_ids=123,223` will return all products with the associated `external_product_ids`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/products


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "products": [\
    {\
      "brand": "Recharge",\
      "description": "A cotton shirt with the Recharge logo",\
      "external_created_at": null,\
      "external_product_id": "10",\
      "external_updated_at": "2021-07-21T17:25:46+00:00",\
      "images": [\
        {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:...",\
          "sort_order": 2\
        }\
      ],\
      "options": [\
        {\
          "name": "Size",\
          "position": 0,\
          "values": [\
            {\
              "label": "small",\
              "position": 0\
            },\
            {\
              "label": "medium",\
              "position": 1\
            },\
            {\
              "label": "large",\
              "position": 2\
            }\
          ]\
        }\
      ],\
      "published_at": "2021-01-01T00:00:00+00:00",\
      "requires_shipping": true,\
      "title": "Recharge Logo Shirt",\
      "variants": [\
        {\
          "dimensions": {\
            "weight": 1234.5,\
            "weight_unit": "lb"\
          },\
          "external_variant_id": "101",\
          "image": {\
            "large": "https:...",\
            "medium": "https:...",\
            "original": "https:...",\
            "small": "https:..."\
          },\
          "option_values": [\
            {\
              "label": "small"\
            }\
          ],\
          "prices": {\
            "compare_at_price": "14.22",\
            "unit_price": "12.22"\
          },\
          "sku": "CLO123",\
          "tax_code": "CLOTHING",\
          "taxable": true,\
          "title": "Small Recharge Logo Shirt",\
          "requires_shipping": true\
        },\
        {\
          "dimensions": {\
            "weight": 1234.5,\
            "weight_unit": "lb"\
          },\
          "external_variant_id": "102",\
          "image": {\
            "large": "https:...",\
            "medium": "https:...",\
            "original": "https:...",\
            "small": "https:..."\
          },\
          "option_values": [\
            {\
              "label": "medium"\
            }\
          ],\
          "prices": {\
            "compare_at_price": "14.22",\
            "unit_price": "12.22"\
          },\
          "sku": "CLO124",\
          "tax_code": "CLOTHING",\
          "taxable": true,\
          "title": "Medium Recharge Logo Shirt",\
          "requires_shipping": true\
        }\
      ],\
      "vendor": "Recharge Apparel Store"\
    }\
  ]
}
```

# Retention Strategies

Retention Strategies are customer retention workflows that are used to win back customers who are in the process of canceling their subscription. The workflow is determined by the cancellation reason selected by the customer.

Endpoints

POST

/retention\_strategies


GET

/retention\_strategies/{id}


PUT

/retention\_strategies/{id}


DELETE

/retention\_strategies/{id}


GET

/retention\_strategies


Expand

# The retention strategy object

The `RetentionStrategy` object holds a cancellation reason and an optional customer retention workflow. Possible retention workflows include delaying a shipment, skipping a shipment, swapping a product, and offering a discount.

##### Attributes

- id







integer














Unique numeric identifier for the `RetentionStrategy`.

- cancellation\_flow\_type







string













Possible values:

subscription,

membership










The type of `PurchaseItem` that the retention strategy applies to. The default value is “subscription”.

- created\_at







datetime














The date and time the `RetentionStrategy` was created.

- discount\_code







string














Discount code to offer customer when used with an `incentive_type` of `discount`.

- incentive\_type







string













Possible values:

delay\_subscription,

discount,

skip\_charge,

swap\_product










Type of incentive to offer customer.

- prevention\_text







string














A short phrase or question to ask for more details or to provide an alternative to canceling.

- reason







string














The reason for canceling.

- updated\_at







datetime














The date and time the `RetentionStrategy` was last updated.


##### Error related attributes

##### More Attributes

The retention strategy object

```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "created_at": "2021-07-31T20:45:00+00:00",
    "discount_code": null,
    "incentive_type": "swap_product",
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "updated_at": "2021-07-31T20:45:00+00:00"
  }
}
```

# Create a retention strategy

Create a retention strategy

Scopes:
write\_retention\_strategies


##### Body Parameters

- cancellation\_flow\_type







string













Possible values:

subscription,

membership










The type of `PurchaseItem` that the retention strategy applies to. The default value is “subscription”.

- incentive\_type







string













Possible values:

delay\_subscription,

discount,

skip\_charge,

swap\_product










Type of incentive to offer customer.

- discount\_code







string














Discount code to offer customer when used with an `incentive_type` of `discount`.







This field is required when `incentive_type` is set to `discount`.

- prevention\_text







string





\\* Required














A short phrase or question to ask for more details or to provide an alternative to canceling.

- reason







string





\\* Required














The reason for canceling.


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/retention\_strategies


cURLPythonPHPRuby

```hljs js
curl -X POST -i 'https://api.rechargeapps.com/retention_strategies' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -d '{
  "incentive_type": "swap_product",
  "prevention_text": "Would you like to swap the product out for another item?",
  "reason": "I want a different product or variety"
}'
```

Response

201


```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "incentive_type": "swap_product",
    "discount_code": null,
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "created_at": "2021-07-31T20:45:00+00:00",
    "updated_at": "2021-10-30T07:14:21+00:00"
  }
}
```

# Retrieve a retention strategy

Retrieve a retention strategy using the Recharge `retention_strategy_id`.

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/retention\_strategies/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/retention_strategies/12345' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "incentive_type": "swap_product",
    "discount_code": null,
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "created_at": "2021-07-31T20:45:00+00:00",
    "updated_at": "2021-07-31T20:45:00+00:00"
  }
}
```

# Update a retention strategy

Update an existing retention strategy.

Scopes:
write\_retention\_strategies


##### Body Parameters

- cancellation\_flow\_type







string













Possible values:

subscription,

membership










The type of `PurchaseItem` that the retention strategy applies to. The default value is “subscription”.

- incentive\_type







string













Possible values:

delay\_subscription,

discount,

skip\_charge,

swap\_product










Type of incentive to offer customer.

- discount\_code







string














Discount code to offer customer when used with an `incentive_type` of `discount`.







This field is required when `incentive_type` is set to `discount`.

- prevention\_text







string














A short phrase or question to ask for more details or to provide an alternative to canceling.

- reason







string














The reason for canceling.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/retention\_strategies/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/retention_strategies/12345' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"reason": "I want a different product or variety"}'
```

Response

200


```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "incentive_type": "swap_product",
    "discount_code": null,
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "created_at": "2021-07-31T20:45:00+00:00",
    "updated_at": "2021-07-31T20:45:00+00:00"
  }
}
```

# Delete a retention strategy

Delete a retention strategy.

Scopes:
write\_retention\_strategies


##### Responses

- 204




















successful response










Show response object



DELETE

/retention\_strategies/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/retention_strategies/12345' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List retention strategies

Retrieve all retention strategies

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/retention\_strategies


cURLPythonPHPRuby

```hljs js
curl -X GET -i 'https://api.rechargeapps.com/retention_strategies' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json"
```

Response

200


```hljs json
{
  "retention_strategies": [\
    {\
      "id": 12347,\
      "cancellation_flow_type": "subscription",\
      "incentive_type": null,\
      "discount_code": null,\
      "prevention_text": "Would you care to provide any additional details?",\
      "reason": "This was created by accident",\
      "created_at": "2021-11-09T16:00:00+00:00",\
      "updated_at": "2021-11-09T16:00:00+00:00"\
    },\
    {\
      "id": 12346,\
      "cancellation_flow_type": "subscription",\
      "incentive_type": "skip_charge",\
      "discount_code": null,\
      "prevention_text": "If you have more than you need, we can skip your upcoming order.",\
      "reason": "I already have more than I need",\
      "created_at": "2021-10-30T07:14:21+00:00",\
      "updated_at": "2021-10-30T07:14:21+00:00"\
    },\
    {\
      "id": 12345,\
      "cancellation_flow_type": "subscription",\
      "incentive_type": "swap_product",\
      "discount_code": null,\
      "prevention_text": "Would you like to swap the product out for another item?",\
      "reason": "I want a different product or variety",\
      "created_at": "2021-07-31T20:45:00+00:00",\
      "updated_at": "2021-07-31T20:45:00+00:00"\
    }\
  ]
}
```

# Store

The store endpoint includes ReCharge settings and other store specific information.

Endpoints

GET

/store


Expand

# The store object

The store endpoint includes Recharge settings and other store specific information.

##### Attributes

- id







integer














Unique number identifier of the store.

- checkout\_logo\_url







string














Checkout logo url.

- checkout\_platform







string














Checkout platform.

- created\_at







datetime














Date and time when the store is created.

- currency







string














Currency of the store.







Related guides: [Supported currencies](https://support.rechargepayments.com/hc/en-us/articles/360037897534-Supported-currencies)

- customer\_portal\_base\_url







string














Customer Portal Base URL.

- default\_api\_version







integer














Default API version.

- email







string














E-mail address of the store owner.

- enabled\_presentment\_currencies







array














Enabled currencies the store sells in.

- enabled\_presentment\_currencies\_symbols







array














Currency symbol used for enabled currencies the store sells in.










Show object attributes


- disabled\_currencies\_historical







array














A ledger of currencies that the store no longer sells in. If a currency is present in both the enabled\_presentment\_currencies and disabled\_currencies\_historical ledger it is because it was disabled at one point in time but is now enabled.

- external\_platform







string














External platform connected to Recharge.







Will be one of `shopify`, `big_commerce`, `headless`, or `magento`

- identifier







string














Unique identifier of the store on the external platform.

- merchant\_portal\_base\_url







string














Merchant portal base URL.

- name







string














Name of the store.

- phone







string














Phone number of the store owner.

- timezone







object














Timezone of the store.










Show object attributes


- updated\_at







datetime














The date and time when the address was last updated.

- weight\_unit







string














Weight unit for the store.


##### Error related attributes

##### More Attributes

The store object

```hljs json
{
  "store": {
    "id": 89559201,
    "checkout_logo_url": null,
    "checkout_platform": "recharge",
    "created_at": "2020-07-15T00:00:00+00:00",
    "currency": "USD",
    "customer_portal_base_url": null,
    "default_api_version": "2021-01",
    "email": "email@email.com",
    "external_platform": "shopify",
    "identifier": "store-id",
    "merchant_portal_base_url": null,
    "name": "store-name",
    "phone": "5555555555",
    "enabled_presentment_currencies": [\
      "USD"\
    ],
    "enabled_presentment_currencies_symbols": [\
      {\
        "currency": "USD",\
        "location": "before",\
        "suffix": "",\
        "symbol": "$"\
      }\
    ],
    "disabled_currencies_historical": [],
    "timezone": {
      "iana_name": "America/New_York",
      "name": "(GMT-05:00) Eastern Time (US & Canada)"
    },
    "updated_at": "2020-07-15T00:00:00+00:00",
    "weight_unit": "g"
  }
}
```

# Retrieve a store

Retrieve store details.

Scopes:
read\_store


##### Responses

- 200




















successful response










Show response object



GET

/store


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/store' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "store": {
    "id": 4797,
    "checkout_logo_url": null,
    "checkout_platform": "recharge",
    "created_at": "2020-04-22T00:20:52+00:00",
    "currency": "USD",
    "customer_portal_base_url": null,
    "default_api_version": "2021-01",
    "email": "email@email.com",
    "enabled_presentment_currencies": [\
      "USD"\
    ],
    "enabled_presentment_currencies_symbols": [\
      {\
        "currency": "USD",\
        "location": "before",\
        "suffix": "",\
        "symbol": "$"\
      }\
    ],
    "disabled_currencies_historical": [],
    "external_platform": "custom",
    "identifier": "store-id",
    "merchant_portal_base_url": null,
    "name": "store-name",
    "province": "Connecticut",
    "phone": "5555555555",
    "timezone": {
      "iana_name": "America/New_York",
      "name": "(GMT-05:00) Eastern Time (US & Canada)"
    },
    "updated_at": "2020-04-25T00:20:52+00:00",
    "weight_unit": "g"
  }
}
```

# Subscriptions

Subscriptions are individual items a customer receives on a recurring basis.

A `Subscription` is a `Product` added to an `Address`. ![](https://developer.getrecharge.com/images/subscription.png)

Endpoints

POST

/subscriptions


GET

/subscriptions/{id}


PUT

/subscriptions/{id}


DELETE

/subscriptions/{id}


GET

/subscriptions


POST

/subscriptions/{id}/set\_next\_charge\_date


POST

/subscriptions/{id}/change\_address


POST

/subscriptions/{id}/cancel


POST

/subscriptions/{id}/activate


POST

/subscriptions/skip\_gift


Expand

# The subscription object

Subscriptions are individual items a customer benefit from on a recurring basis.

These fields are deprecated, however they will not be removed from this API version.

`product_title` is deprecated. Use `title` instead.

`shipping_date` is deprecated. Use `scheduled_at` instead.

`shopify_id` is deprecated. Use `shopify_order_id` instead.

`address_is_active` is deprecated. Please ignore, not an applicable field.

##### Attributes

- id







integer














Unique numeric identifier for the subscription.

- address\_id







integer














Unique numeric identifier for the address the subscription is associated with.

- customer\_id







integer














Unique numeric identifier for the customer the subscription is tied to.

- analytics\_data







object














An object used to contain analytics data such as utm parameters.










Show object attributes


- cancellation\_reason







string














Reason provided for cancellation.

- cancellation\_reason\_comments







string














Additional comment for cancellation. Maximum length is 1024 characters.

- cancelled\_at







datetime














The time the subscription was cancelled.

- charge\_interval\_frequency







string













Max: 1000










The number of units (specified in `order_interval_unit`) between each `Charge`. For example, `order_interval_unit=month` and `charge_interval_frequency=3`, indicate charge every 3 months.







`Charges` must use the same unit types as orders.

- created\_at







datetime














The time the subscription was created.

- expire\_after\_specific\_number\_of\_charges







integer














Set the number of charges until subscription expires.

- external\_product\_id







object














An object containing the product id as it appears in external platforms.










Show object attributes


- external\_variant\_id







object














An object containing the variant id as it appears in external platforms.










Show object attributes


- has\_queued\_charges







boolean














Retrieves `true` if there is queued charge. Otherwise, retrieves `false`.

- is\_prepaid







boolean














Value is set to `true` if it is a prepaid item.

- is\_skippable







boolean














Value is set to `true` if it is not a prepaid item

- is\_swappable







boolean














Value is set to `true` if it is not a prepaid item and if in Customer portal settings swap is allowed for customers.

- max\_retries\_reached







boolean














Retrieves `true` if charge has an error max retries reached. Otherwise, retrieves `false`.

- next\_charge\_scheduled\_at







datetime














Date of the next charge for the subscription.

- order\_day\_of\_month







integer














The set day of the month order is created. Default is that there isn’t a strict day of the month when the order is created.







This is only applicable to subscriptions with `order_interval_unit:“month”`.

- order\_day\_of\_week







integer














The set day of the week order is created. Default is that there isn’t a strict day of the week order is created.







This is only applicable to subscriptions with `order_interval_unit = “week”`.

Value of 0 equals to Monday, 1 to Tuesday etc.

- order\_interval\_frequency







integer













Max: 1000










The number of units (specified in `order_interval_unit`) between each order. For example, order\_interval\_unit=month and order\_interval\_frequency=3, indicate order every 3 months. Max value: 1000

- order\_interval\_unit







string













Possible values:

day,

week,

month










The frequency unit used to determine when a subscription’s order is created.

- presentment\_currency







string














The presentment currency of the subscription.

- price







string














The price of the item before discounts, taxes, or shipping have been applied.

- product\_title







string














The name of the product in a store’s catalog.

- properties







array














A list of line item objects, each one containing information about the subscription. Custom key-value pairs can be installed here, they will appear on the connected queued charge and after it is processed on the order itself.










Show object attributes


- quantity







integer














The number of items in the subscription.

- sku







string














A unique identifier of the item in the fulfillment. In cases where SKU is blank, it will be dynamically pulled whenever it is used.

- sku\_override







boolean














Flag that is automatically updated to `true` when SKU is passed on create or update. When `sku_override` is `true`, the SKU on the subscription will be used to generate charges and orders. When `sku_override` is `false`, Recharge will dynamically fetch the SKU from the corresponding external platform variant.

- status







string













Possible values:

active,

cancelled,

expired










The status of the subscription.







`EXPIRED` \- This status occurs when the maximum number of charges for a product has been reached.

- updated\_at







datetime














The date time at which the purchase\_item record was last updated.

- variant\_title







string














The name of the variant in a shop’s catalog.


##### Error related attributes

##### More Attributes

The subscription object

```hljs json
{
  "subscription": {
    "id": 89559201,
    "address_id": 48563471,
    "customer_id": 43845860,
    "analytics_data": {
      "utm_params": []
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": "30",
    "created_at": "2021-02-25T21:27:19+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "external_variant_id": {
      "ecommerce": "18261278883891"
    },
    "has_queued_charges": true,
    "is_prepaid": true,
    "is_skippable": false,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2020-07-15",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 15,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": 5,
    "product_title": "Powder Milk 50.00% Off Auto renew",
    "properties": [\
      {\
        "name": "Colour",\
        "value": "White"\
      },\
      {\
        "name": "Package Material",\
        "value": "Paper"\
      }\
    ],
    "quantity": 3,
    "sku": null,
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-07-10T10:30:51+00:00",
    "variant_title": "1 / Powder"
  }
}
```

# Create a subscription

When creating a subscription via API, `order_interval_frequency` and `charge_interval_frequency` values do not necessarily need to match the values set in the respective `Plans`. The product, however, does need to have at least one `Plan` in order to be added to a subscription.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer





\\* Required














Unique numeric identifier of the customer’s address.

- charge\_interval\_frequency







integer





\\* Required














The number of units, specified in `order_interval_unit`, between each charge.

- expire\_after\_specific\_number\_of\_charges







integer














The number of charges until the subscription expires.

- next\_charge\_scheduled\_at







datetime





\\* Required














This will set the first charge date of a new subscription.

- order\_day\_of\_month







integer














This is populated when order\_interval\_unit has value “month”. Default value is 0.

- order\_day\_of\_week







integer














This is populated when order\_interval\_unit has value “week”.

- order\_interval\_frequency







integer





\\* Required














The number of units, specified in order\_interval\_unit, between each order.

- order\_interval\_unit







string





\\* Required













Possible values:

day,

week,

month










The frequency unit used to determine when a subscription order is created.

- plan\_id







integer














A Recharge Plan id that provides interval information. Automatically fills the following properties from the plan if they were not provided directly: charge\_interval\_frequency, expire\_after\_specific\_number\_of\_charges, order\_day\_of\_month, order\_day\_of\_week, order\_interval\_frequency, order\_interval\_unit.

- price







string














The price of the product.

- product\_title







string














The name of the product.

- properties







array














A list of key/value pairs representing properties of the subscription.










Show object attributes


- quantity







integer





\\* Required














The quantity of the product.

- external\_product\_id







object














Unique numeric identifier of the product id.










Show object attributes


- external\_variant\_id







object





\\* Required














Unique numeric identifier of the product variant id.










Show object attributes


- status







string













Possible values:

active,

cancelled,

expired










Default is set to `active`.


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/subscriptions


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "address_id": 48563471,
  "charge_interval_frequency": "30",
  "next_charge_scheduled_at": "2021-12-17",
  "order_interval_frequency": "30",
  "order_interval_unit": "day",
  "properties": [\
    {\
      "name": "Colour",\
      "value": "Yellow"\
    },\
    {\
      "name": "Bottle Material",\
      "value": "Glass"\
    }\
  ],
  "external_variant_id": {
    "ecommerce": "32165284380775"
  },
  "quantity": 3
}'
```

Response

201


```hljs json
{
  "subscription": {
    "id": 63898947,
    "address_id": 48563471,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 30,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32165284380775"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-12-17",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 30,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Retrieve a subscription

Retrieve a subscription using the Recharge `subscription_id`.

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/subscriptions/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 63898947,
    "address_id": 48563471,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 30,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32165284380775"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-12-17",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 30,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Update a subscription

Update an existing subscription.

Updating parameters like `frequency`, `charge_interval_frequency`, `order_interval_frequency`, `order_interval_unit` will cause our algorithm to automatically recalculate the next charge date ( `next_charge_scheduled_at`). If you want to change the next charge date ( `next_charge_scheduled_at`) we recommend you to update these parameters first.

When updating subscription `status` attribute from `cancelled` to `active`, following attributes will be set to null: `cancelled_at`, `cancellation_reason` and `cancellation_reason_comments`

When updating `order_interval_unit` OR `order_interval_frequency` OR `charge_interval_frequency` all three parameters are required.

Scopes:
write\_subscriptions


##### Query Parameters

- commit







boolean














Controls whether the `QUEUED` charges linked to the subscription should be regenerated upon subscription update. By default the flag is set to `false` which will delay charge regeneration 5 seconds. This enables running multiple calls to perform changes and receive responses much faster since the API won’t wait for a charge regeneration to complete. Setting this parameter to `true` will cause charge regeneration to complete before returning a response.

- force\_update







boolean














If set to `True`, updates will also be applied to `CANCELLED` subscriptions. If `null` or `False`, only `ACTIVE` subscriptions will be updated.


##### More Parameters

##### Body Parameters

- charge\_interval\_frequency







integer













Max: 1000










The number of units (specified in order\_interval\_unit) between each charge. Required when updating order\_interval\_unit.



WARNING: This update will remove skipped and manually changed charges.

- expire\_after\_specific\_number\_of\_charges







integer














The number of charges until subscription expires.

- external\_variant\_id







object














Unique number identifier of the product variant in your external platform.










Show object attributes


- order\_day\_of\_month







string














The day of the month the order is created on.



WARNING: this update will remove skips and manually changed charges.

- order\_day\_of\_week







string














The day of the week the order is created on.



WARNING: this update will remove skips and manually changed charges.

- order\_interval\_frequency







string














The number of units (specified in order\_interval\_unit) between each order. Required when updating order\_interval\_unit.



WARNING: This update will remove skipped and manually changed charges.

- order\_interval\_unit







string













Possible values:

day,

week,

month










The frequency unit used to determine when a subscription order is created.



WARNING: This update will remove skipped and manually changed charges.

- plan\_id







integer














A Recharge Plan id that provides interval information. Automatically fills the following properties from the plan if they were not provided directly: charge\_interval\_frequency, expire\_after\_specific\_number\_of\_charges, order\_day\_of\_month, order\_day\_of\_week, order\_interval\_frequency, order\_interval\_unit.

- price







string














The price of the item before discounts, taxes, or shipping has been applied.

- product\_title







string














The name of the product.

- properties







array














A list of key/value pairs representing properties of the subscription.










Show object attributes


- quantity







string














The number of items in the subscription.

- sku







string














A unique identifier of the item in the fulfillment.

- sku\_override







boolean














Flag is automatically updated to `true` when SKU is passed on create or update. When `sku_override` is `true`, the SKU on the subscription will be used to generate charges and orders.

When `sku_override` is `false`, Recharge will dynamically fetch the sku from the corresponding external platform variant.

- use\_external\_variant\_defaults







boolean














Flag instructing to pull the `price` from the product variant passed.







You need to pass the variant\_id under `external_variant_id.ecommerce` and set this attribute to `true` in the request for the flag to work.

- variant\_title







string














The name of the product variant.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/subscriptions/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/subscriptions/27363808' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "quantity": 4
}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 63898947,
    "address_id": 48563471,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 30,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32165284380775"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-12-17",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 30,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Delete a subscription

We now have a feature for deleting a subscription.

Scopes:
write\_subscriptions


##### Body Parameters

- send\_email







boolean














When your store setting indicates that cancellation emails should be sent, this value determines if the email should be sent for the specified subscription cancellation.







If set to `true`, cancellation emails will be sent for the specified subscription cancellations. If set to `false`, cancellation emails will not be sent.


##### More Parameters

##### Responses

- 204




















successful response










Show response object



DELETE

/subscriptions/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/subscriptions/27363808' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List subscriptions

Returns a list of all your subscriptions.

## HTTP request examples

`GET /subscriptions`

`GET /subscriptions?created_at_min=2018-10-10&created_at_max=2019-10-16`

`GET /subscriptions?customer_id=<customer_id>`

Scopes:
read\_subscriptions


##### Query Parameters

- address\_id







string














Return the subscriptions linked to the given `address_id`.







Not compatible with `address_ids`.

- address\_ids







string














Return the subscriptions linked to the given `address_ids`.







Accepts a comma separated list of address\_ids as value.

Not compatible with `address_id`

- created\_at\_max







string














Return the subscriptions created before the given date.

- created\_at\_min







string














Return the subscriptions created after the given date.

- cursor







string














Return either the next or previous page of subscriptions using `next_cursor` or `previous_cursor` attributes in the response.

- customer\_id







string














Return the subscriptions linked to the given Recharge customer id.

- external\_variant\_id







string














Return the subscriptions linked to the given external\_variant\_id

- ids







string














Comma-separated list of `subscription_ids` to filter

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- status







string













Possible values:

active,

cancelled,

expired










Return the subscriptions with specified status.

- updated\_at\_max







string














Return the subscriptions updated before the given date.

- updated\_at\_min







string














Return the subscriptions updated after the given date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/subscriptions


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": "next_cursor",
  "previous_cursor": "previous_cursor",
  "subscriptions": [\
    {\
      "id": 63898947,\
      "address_id": 42171447,\
      "customer_id": 37657002,\
      "analytics_data": {\
        "utm_params": {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      },\
      "cancellation_reason": null,\
      "cancellation_reason_comments": null,\
      "cancelled_at": null,\
      "charge_interval_frequency": 1,\
      "created_at": "2020-02-19T17:40:09+00:00",\
      "expire_after_specific_number_of_charges": 5,\
      "external_product_id": {\
        "ecommerce": "4381728735283"\
      },\
      "external_variant_id": {\
        "ecommerce": "32165284380775"\
      },\
      "has_queued_charges": false,\
      "is_prepaid": false,\
      "is_skippable": true,\
      "is_swappable": false,\
      "max_retries_reached": false,\
      "next_charge_scheduled_at": "2021-12-17",\
      "order_day_of_month": null,\
      "order_day_of_week": null,\
      "order_interval_frequency": 1,\
      "order_interval_unit": "month",\
      "presentment_currency": "USD",\
      "price": "10.00",\
      "product_title": "ABC Shirt",\
      "properties": [\
        {\
          "name": "Color",\
          "value": "Blue"\
        },\
        {\
          "name": "Size",\
          "value": "Large"\
        }\
      ],\
      "quantity": 1,\
      "sku": "TOM0001",\
      "sku_override": false,\
      "status": "active",\
      "updated_at": "2020-02-19T17:40:10+00:00",\
      "variant_title": "Blue star"\
    }\
  ]
}
```

# Change a subscription next charge date

Update an existing subscription’s next charge date.

If there are two active subscriptions with the same `address_id`, and you update their `next_charge_date` parameters to match, their charges will get merged into a new charge with a new `id`

Scopes:
write\_subscriptions


##### Body Parameters

- date







string





\\* Required














The next charge date desired.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/set\_next\_charge\_date


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/set_next_charge_date' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"date": "2021-08-05"}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Change a subscription address

New

Update an existing subscription’s address.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer





\\* Required














Unique id of the address that need to be associated with subscription.

- next\_charge\_scheduled\_at







string














The next charge date desired.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/change\_address


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/change_address' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -d '{"address_id": 23397943}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Cancel a subscription

Cancel an active subscription.

An involuntary subscription cancelled due to max retries reached will trigger the charge/max\_retries\_reached webhook.

Scopes:
write\_subscriptions


##### Body Parameters

- cancellation\_reason







string





\\* Required














Reason for subscription cancellation.

- cancellation\_reason\_comments







string














Cancellation reason comment. Maximum length is 1024 characters.

- send\_email







boolean














If set to `false`, subscription cancelled email will not be sent to customer and store owner. Note: even if set to True, there are some conditions where an email will not be sent. They are: inactive subscription\_cancellation email template, customer or subscription was created on the same day, subscription is for a membership, email already sent for this subscription in the last 24 hours, customer has other active subscriptions or onetimes


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/cancel


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/cancel' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"cancellation_reason": "other reason"}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Activate a subscription

Activate a cancelled subscription.

When activating subscription, following attributes will be set to null: `cancelled_at`, `cancellation_reason` and `cancellation_reason_comments`.

Scopes:
write\_subscriptions


##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/activate


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/activate' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Gift a skipped subscription

Gift a skipped `Subscription` to a recipient.

Scopes:
write\_subscriptions


##### Body Parameters

- purchase\_item\_ids







array





\\* Required














A list containing the `Subscription` IDs to be skipped.

- recipient\_address







object





\\* Required














An object that contains information associated with the giftee’s Address










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 422




















invalid data passed to the endpoint










Show response object



POST

/subscriptions/skip\_gift


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/skip_gift' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"recipient_address": {
  "address1": "1776 Washington Street",
  "address2": "",
  "city": "Los Angeles",
  "company": "Recharge",
  "country_code": "US",
  "first_name": "John",
  "last_name": "Doe",
 "phone": "5551234567",
 "province": "California",
  "zip": "90404", "email": "fake@example.com"
 },
"purchase_item_ids": [27363808, 27363809]}'
```

Response

200

422


```hljs json
{
  "onetimes": [\
    {\
      "id": 16909886,\
      "address_id": 45154492,\
      "created_at": "2021-05-24T19:14:25+00:00",\
      "customer_id": 40565990,\
      "external_product_id": {\
        "ecommerce": "4950280863846"\
      },\
      "external_variant_id": {\
        "ecommerce": "32139793137766"\
      },\
      "is_cancelled": false,\
      "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",\
      "price": "6.00",\
      "product_title": "ABC Shirt",\
      "properties": [\
        {\
          "name": "Color",\
          "value": "Blue"\
        }\
      ],\
      "quantity": 1,\
      "sku": "TOM0001",\
      "sku_override": false,\
      "updated_at": "2021-05-24T19:30:14+00:00",\
      "variant_title": "Blue star"\
    }\
  ]
}
```

# Webhook endpoints

Webhooks are a mechanism for reacting to specific events that are triggered in the Recharge system.

For example, a checkout completion, a customer activation or subscription cancellation. Webhooks will deliver you the data of the specific event in real-time. This data can be used to custom code logic behind automated subscription management, dashboards creation, discounts applying…

When a webhook is triggered, the payload will be identical to the payload you would receive from another API endpoint.

For example, a webhook on subscription/created will be identical to the payload for retrieving a subscription by ID from the Recharge API.

There are a lot of things that can be done via Webhooks: It can be used to collect all kinds of data from our API and then create a custom Dashboard to show how much and when your customers are buying in real time, or use all this data to do Analytics of some kind in order to create a better customer experience. Webhooks can be used as a “Trigger” on your backend to update subscription products.

If you have some kind of a Subscription where you want to change the Product that the customer gets every month, you can do it by waiting for an order/created webhook on your backend, and when it fires you can make an API call to change the Product of that subscription or the next shipping date, etc.

## Retries / Idempotency

Due to webhook retries, it’s possible that your application receives the same webhook more than once. Ensure idempotency of the webhook call by detecting such duplicates within your application.

## Respond to a webhook

Your webhook acknowledges that it received data by sending a `200` OK response. Any response outside of the `200` range will let Recharge know that you didn’t receive your webhook. Recharge has implemented a 5 second time-out period. We wait 5 seconds, if our system doesn’t get a response in that period we consider that request as failed. Our system will try 20 times to send the same webhook over the next 2 days, if the request fails every time our system will delete this webhook. At this moment our system is logging those deleted webhooks.

Endpoints

POST

/webhooks


GET

/webhooks/{id}


PUT

/webhooks/{id}


DELETE

/webhooks/{id}


GET

/webhooks


POST

/webhooks/{id}/test


Expand

# The Webhook object

Please note that the store domain header has changed to X-Recharge-External-Platform-Domain

Related guides:
[Extending webhook responses](https://developer.rechargepayments.com/2021-11/extending_responses)

These topics are deprecated, however they will not be removed from this API version: `checkout/completed`.

##### Attributes

- id







integer














Unique numeric identifier for the webhook.

- address







string














The URI where the webhook should send the `POST` request when the event occurs.

- included\_objects







array













Possible values:

addresses,

collections,

customer,

metafields










List of objects set to enrich the webhook payload. cf. [extending responses](https://developer.rechargepayments.com/2021-11/extending_responses)

- topic







string














The event that will trigger the webhook.

- version







string














The version of the API used to populate the body of the webhook. If not set, this will default to the store’s default API version.


##### Error related attributes

##### More Attributes

The Webhook object

```hljs json
{
  "webhook": {
    "id": 19451,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-11"
  }
}
```

# Available webhooks

The list of all available webhooks.

Related guides: [Webhook payload examples](https://docs.rechargepayments.com/docs/webhook-payload-examples)

| Object | Topics | Scope Required |
| --- | --- | --- |
| `Address` | `address/created` `address/updated` | read\_customers |
| `Async_batch` | `async_batch/processed` | read\_batches |
| `BundleSelection` | `bundle_selection/created` `bundle_selection/updated` `bundle_selection/deleted` | read\_subscriptions |
| `Customer` | `customer/activated` `customer/created` `customer/deactivated` `customer/payment_method_updated` `customer/updated` `customer/deleted` | read\_customers |
| `Charge` | `charge/created` `charge/failed` `charge/max_retries_reached` `charge/paid` `charge/refunded` `charge/uncaptured` `charge/upcoming` `charge/updated` `charge/deleted` | read\_orders |
| `Checkout` | `checkout/created` `checkout/completed` `checkout/processed` `checkout/updated`<br> Note: Deprecated and not available for the Shopify integration with Shopify hosted Checkout (aka SCI) | read\_orders |
| `Onetime` | `onetime/created` `onetime/deleted` `onetime/updated` | read\_subscriptions |
| `Order` | `order/cancelled` `order/created` `order/deleted` `order/processed` `order/payment_captured` `order/upcoming` `order/updated` `order/success` | read\_orders |
| `Plan` | `plan/created` `plan/deleted` `plan/updated` | read\_products |
| `Subscription` | `subscription/activated` `subscription/cancelled` `subscription/created` `subscription/deleted` `subscription/skipped` `subscription/updated` `subscription/unskipped` `subscription/swapped` `subscription/paused` | read\_subscriptions |
| `Store` | `store/updated` | read\_store |
| `Recharge` | `recharge/uninstalled` | store\_info |

# Create a webhook

Create a webhook. Currently, only the API can be used to create a webhook.

To register a webhook endpoint for a specific object, you will need to have read permissions for that object on your Recharge API token. For example, if you want to register a webhook for subscription/created, you will need the `read_subscriptions` permissions.

Each API token can register a maximum of 10 webhooks of the same topic.

Related guides: [Webhook payload examples](https://docs.rechargepayments.com/docs/webhook-payload-examples)

Related guides:
[Extending webhook responses](https://developer.rechargepayments.com/2021-11/extending_responses)

##### Body Parameters

- address







integer





\\* Required














The URI where the webhook should send the `POST` request when the event occurs.

- included\_objects







array













Possible values:

addresses,

collections,

customer,

metafields










List of objects set to enrich the webhook payload. cf. [extending responses](https://developer.rechargepayments.com/2021-11/extending_responses)

- topic







integer





\\* Required














The event that will trigger the webhook.

- version







string














The version of the API used to populate the body of the webhook. If not set, this will default to the store’s default API version.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/webhooks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X POST 'https://api.rechargeapps.com/webhooks' \
 --data '{"address": "https://request.in/foo", "topic": "subscription/created"}'
```

Response

200


```hljs json
{
  "webhook": {
    "id": 6,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-01"
  }
}
```

# Retrieve a webhook

Retrieve a webhook using the Recharge webhook id.

##### Responses

- 200




















successful response










Show response object



GET

/webhooks/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X GET https://api.rechargeapps.com/webhooks/19451
```

Response

200


```hljs json
{
  "webhook": {
    "id": 6,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-01"
  }
}
```

# Update a webhook

Modifies an existing `Webhook` to match the specified parameters.

Related guides:
[Extending webhook responses](https://developer.rechargepayments.com/2021-11/extending_responses)

##### Body Parameters

- address







string














The URI where the webhook should send the POST request when the event occurs.

- included\_objects







array













Possible values:

addresses,

collections,

customer,

metafields










List of objects set to enrich the webhook payload. cf. [extending responses](https://developer.rechargepayments.com/2021-11/extending_responses)

- topic







string














The event that will trigger the webhook.

- version







string














The version of the API used to populate the body of the webhook.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/webhooks/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X PUT 'https://api.rechargeapps.com/webhooks/958' \
 --data '{"address": "https://request.in/foo"}'
```

Response

200


```hljs json
{
  "webhook": {
    "id": 6,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-01"
  }
}
```

# Delete a webhook

Delete a `Webhook`

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/webhooks/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X DELETE 'https://api.rechargeapps.com/webhooks/958'
```

Response

204


```hljs json
{}
```

# List webhooks

Returns all the webhooks of the given store that are owned by the current requesting client (note that a a private token shows all of the store’s webhooks, an integration token only shows that integration’s webhooks).

##### Responses

- 200




















successful response










Show response object



GET

/webhooks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X GET 'https://api.rechargeapps.com/webhooks'
```

Response

200


```hljs json
{
  "webhooks": [\
    {\
      "id": 19451,\
      "address": "https://request.in/foo",\
      "topic": "subscription/created",\
      "version": "2021-11"\
    },\
    {\
      "id": 19453,\
      "address": "https://request.in/foo",\
      "topic": "subscription/cancelled",\
      "version": "2021-11"\
    }\
  ]
}
```

# Test webhooks

In order to test webhook connectivity, you can trigger the dispatch of a test webhook with our webhook test endpoint. Sending a POST request to the webhook endpoint containing a webhook id will dispatch an empty webhook body to the specified webhook’s destination url.

##### Responses

- 200




















successful response










Show response object



POST

/webhooks/{id}/test


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 --data '{}'
 -X POST https://api.rechargeapps.com/webhooks/<webhook_id>/test
```

Response

200


```hljs json
{}
```

# Webhooks explained

Here you will find what specific action triggers a given webhook.

## Address webhooks

To use these webhooks your API Token must have read permissions for `Customers` enabled ( `read_customer` ).

| Topic | Explanation |
| --- | --- |
| `address/created` | This will trigger when you create an address via API, or when you go through the checkout with a particular address for the first time with the same customer. |
| `address/updated` | This will trigger when you update an address via API, or when you update the address via UI. It will also trigger whenever a subscription has been activated or cancelled. |

## Bundle webhooks

To use these webhooks your API Token must have read permissions for `Subscriptions` enabled ( `read_subscriptions` ).

| Topic | Explanation |
| --- | --- |
| `bundle_selection/created` | This will trigger when a new selection is created for a Bundle subscription. |
| `bundle_selection/updated` | This will trigger when a Bundle Selection is succesfully updated. |
| `bundle_selection/deleted` | This will trigger when a Bundle Selection is deleted. |

## Charge webhooks

To use these webhooks your API Token must have read permissions for `Orders` enabled ( `read_orders` ).

| Topic | Explanation |
| --- | --- |
| `charge/created` | This will trigger when a charge is created. |
| `charge/failed` | This will trigger every time we try to process a charge and it fails due to various reasons (insufficient funds, invalid CC info, expired CC, etc.) on both API and UI. |
| `charge/max_retries_reached` | This will trigger after we attempt to process a charge 8 times, and it failed every time due to various CC issues. This can be triggered on both UI (manually retry a charge 8 times and fail) and API. |
| `charge/paid` | This will trigger when a charge is successfully processed, both manually via UI and automatic recurring charge. This will not trigger on the checkout itself. |
| `charge/refunded` | This will trigger when a charge is successfully refunded, either partially or in full. It will fire if a charge has been refunded both manually via UI and through an API request. |
| `charge/upcoming` | This will trigger X days before the upcoming charge is scheduled. The default is 3 days but your store specific setting can be verified on the Notification Settings page in the description of the Upcoming charge customer notification. |
| `charge/updated` | This will trigger when applying a discount, a change to charge that recalculates shipping rates as well as if next\_charge\_date is updated on charge endpoint charges/<charge\_id>/change\_next\_charge\_date. |
| `charge/deleted` | This will trigger when a subscription is cancelled and upcoming charges are deleted. |

## Checkout webhooks

To use these webhooks your API Token must have read permissions for `Orders` enabled ( `read-orders` ).

| Topic | Explanation |
| --- | --- |
| `checkout/created` | This will trigger when a checkout is successfully created. |
| `checkout/completed` | Will be deprecated. |
| `checkout/processed` | This will trigger when a checkout is successfully processed. |
| `checkout/updated` | This will trigger when a checkout is successfully updated. |

## Customer webhooks

To use these webhooks your API Token must have read permissions for `Customers` enabled ( `read_customers` ).

| Topic | Explanation |
| --- | --- |
| `customer/activated` | This will trigger when you activate\* a customer <br> \\* activating means that you have added a subscription to a customer who didn’t have an active subscription previously. |
| `customer/created` | This will trigger when you create a customer via API or go through the checkout with a particular email address for a first time customer. |
| `customer/deactivated` | This will trigger when the last subscription a customer had expires, so he no longer has ANY active subscriptions (which means there are no QUEUED charges/orders for this customer). |
| `customer/payment_method_updated` | This will trigger only\* when you update the payment\_token from the UI <br> \\* We are working on triggering this when you do the update from the API as well. |
| `customer/updated` | This will trigger when you update a customer via both API and UI. |
| `customer/deleted` | This will trigger when you delete a customer via both API and UI. |

## Onetime webhooks

To use these webhooks your API Token must have read permissions for `Subscriptions` enabled ( `read_subscriptions` ).

| Topic | Explanation |
| --- | --- |
| `onetime/created` | This will trigger when you create a one time product via API. |
| `onetime/deleted` | This will trigger when you delete a one time product via API. |
| `onetime/updated` | This will trigger when you update a one time product via API. |

## Order webhooks

To use these webhooks your API Token must have read permissions for `Orders` enabled ( `read_orders` ).

| Topic | Explanation |
| --- | --- |
| `order/created` | This will trigger when an order is created (when a charge is successfully processed) <br> \\* In case of prepaid Orders the order/created webhooks will be fired for each prepaid order that is created. This occurs on the date the order is scheduled at. |
| `order/deleted` | This will trigger when an order is deleted. |
| `order/processed` | This will trigger when the order is processed (when an order goes from status `queued` to status `success`). This will not trigger on checkout. |
| `order/upcoming` | This will trigger X days before a QUEUED (prepaid) order is scheduled to be processed. The default is 3 days. |
| `order/updated` | This will trigger when an order is updated. |

## Plan webhooks

To use these webhooks your API Token must have read permissions for `Products` enabled ( `read_products` ).

| Topic | Explanation |
| --- | --- |
| `plan/created` | This will trigger when a plan is created by one of the following methods: via API, via Merchant portal or when using the `2021-01` `Products` endpoint. |
| `plan/deleted` | This will trigger when a plan is deleted by one of the following methods: via API, via Merchant portal or when using the `2021-01` `Products` endpoint. |
| `plan/updated` | This will trigger when a plan is updated by one of the following methods: via API, via Merchant portal or when using the `2021-01` `Products` endpoint… |

## Subscription webhooks

To use these webhooks your API Token must have read permissions for `Subscriptions` enabled ( `read_subscriptions` ).

| Topic | Explanation |
| --- | --- |
| `subscription/activated` | This will trigger when you activate a subscription via API or UI. |
| `subscription/cancelled` | This will trigger when you cancel a subscription via API or UI. An involuntary subscription cancelled due to max retries reached will only trigger the charge/max\_retries\_reached webhook and not the subscription/cancelled webhook. |
| `subscription/created` | This will trigger when you create a subscription via API or when you go through the checkout on UI. |
| `subscription/deleted` | This will trigger when you delete a subscription via API or UI. |
| `subscription/skipped` | This will trigger when you skip a subscription within a charge, meaning that you only skip a particular subscription (the subscription\_id you send in the body) in that charge if there are multiple subscriptions related to that charge. |
| `subscription/unskipped` | This will trigger when you unskip a subscription within a charge, meaning you only unskip a particular subscription (the subscription\_id you send in the body) in that charge if there are multiple subscriptions related to that charge. |
| `subscription/updated` | This will trigger when you update a subscription via API (PUT method) or when you update the subscription via UI. This will also trigger when you update next charge date on Customer Portal, or when you change it using subscription endpoint `subscriptions/ <subscription_id>set_next_charge_date`. |
| `subscription/swapped` | This will trigger when you swap a subscription product for a given address to a different product or product variation API or UI. |
| `subscription/paused` | This will trigger when a customer pauses a subscription from within the customer portal. |

## Other webhooks

To use these webhooks your API Token must have read permissions for `Store` enabled ( `read_store` ).

| Topic | Explanation |
| --- | --- |
| `app/uninstalled` | This will trigger when you uninstall OAuth app on your store. |
| `recharge/uninstalled` | This will trigger when Recharge is uninstalled. |
| `store/updated` | This will trigger when and update has been made to the store. |

# Webhook validation

Webhooks created through the API can be verified by calculating a digital signature. Each Webhook request includes an X-Recharge-Hmac-Sha256 header which is generated using the API Client Secret, along with the data sent in the request.

API Client Secret is not the same as your API token and it can be found at:

Recharge Dashboard—>Integrations—>API Tokens—>Click on your token

Edit API Token page will appear and there you will find API Client Secret

The request\_body must be in JSON string format. Validation will fail even if one space is lost in process of JSON string generation.

Then use code similar to the example by adapting it to the programming language that you are using for your project.

Related guides: [Example code for validating webhooks](https://docs.rechargepayments.com/docs/webhooks-overview#validating-webhooks)

Example Request:

cURLPythonPHPRuby

```hljs bash

```

# Async batch Endpoints

The Async batches API can be used for processing large volumes of operations asynchronously, in order to reduce aggregate processing time and network traffic when interacting with many unique objects. For example, a user can leverage async\_batches to create 1000 discounts with only 3 API requests.

**As shown in the diagram below, the necessary steps to create and process a batch are:**

1\. Create an async\_batch with the desired batch\_type

2\. Add tasks (individual operations) to your batch. You can add up to 1,000 tasks with each request, up to 10,000 tasks per batch.

3\. Submit the batch for processing. Until a batch is submitted for processing, no tasks are attempted.

4\. You may retrieve the batch to view progress details while it processes, or register for the `async_batch/processed` webhook to receive immediate notification of batch completion.

5\. Page through the tasks in the batch to view results of each completed or failed task.

Related guides: [Examples of Async batches](https://docs.rechargepayments.com/docs/async-batches)![](https://developer.getrecharge.com/images/async_batch.png)

Endpoints

POST

/async\_batches


GET

/async\_batches/{id}


GET

/async\_batches


POST

/async\_batches/{batch\_id}/process


Expand

# The async batch object

`Async batch` contains all the setups information and status update of a batch of operation to be performed collectively.

Batches will only leverage resources from the same version they are created in. e.g. a batch created with `2021-11` will only process tasks from the `2021-11` version.

##### Attributes

- id







string














Unique identifier of the batch, used for adding tasks to a batch and to initiate batch processing

- batch\_type







string













Possible values:

discount\_create,

discount\_update,

discount\_delete,

bulk\_plans\_create,

bulk\_plans\_update,

bulk\_plans\_delete,

onetime\_create,

onetime\_delete










Indicates the object type and operation required for all tasks in a batch

- closed\_at







string














Indicates the date and time that processing was completed for a batch

- created\_at







string














Indicates the date and time a batch was created

- fail\_task\_count







string














Indicates the number of failed tasks in a batch, during or after processing

- status







string














Indicates the status of the batch. Available statuses are not\_started, processing, completed, failed

- submitted\_at







string














Indicates the date and time that a batch was triggered to process

- success\_task\_count







string














Indicates the number of successful tasks in a batch, during or after processing.

- total\_task\_count







string














Indicates the total number of tasks in a batch

- updated\_at







string














Indicates the date and time at which a batch was last updated

- version







string














Indicates the API version of the batch.







read-only field


##### Error related attributes

##### More Attributes

The async batch object

```hljs json
{
  "async_batch": {
    "id": 19,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-02-17T08:52:10+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "not_started",
    "submitted_at": null,
    "success_task_count": 0,
    "total_task_count": 0,
    "updated_at": "2022-02-17T08:52:10+00:00",
    "version": "2021-11"
  }
}
```

# Create a batch

In order to create, retrieve, or process batches, the API token requires the write\_batches permission. Additional permissions are required, dependent upon the indicated batch\_type. For example, for a batch type of discount\_create, the API token requires the write\_discounts permission.

Create a new batch, and indicate the desired outcome of the batch using batch\_type.

CAUTION

Async batches and their tasks will only be retained in Recharge for one month after batch creation.

Available batch types

The async\_batches API supports many functions, each identified as a batch\_type. Typically, the task body for a batch\_type will be representative of a single request to our standard endpoints, however, some variations may be present.

Related guides: [Examples of Async Batches](https://docs.rechargepayments.com/docs/async-batches)

Batches will only leverage resources from the same version they are created in. e.g. a batch created with `2021-11` will only process tasks from the `2021-11` version.

Scopes:
write\_batches


##### Body Parameters

- batch\_type







string













Possible values:

discount\_create,

discount\_update,

discount\_delete,

bulk\_plans\_create,

bulk\_plans\_update,

bulk\_plans\_delete,

onetime\_create,

onetime\_delete










Desired batch type


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/async\_batches


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -X POST 'https://api.rechargeapps.com/async_batches' \
 --data '{ "batch_type": "desired_batch_type"}'
```

Response

201


```hljs json
{
  "async_batch": {
    "id": 19,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-10-12T20:16:09+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "not_started",
    "submitted_at": null,
    "success_task_count": 0,
    "total_task_count": 0,
    "updated_at": "2022-10-12T20:16:09+00:00",
    "version": "2021-11"
  }
}
```

# Retrieve a batch

Retrieve a batch using the Recharge batch id. A batch can be retrieved during processing to evaluate batch progress.

## HTTP request examples

`GET /async_batches/<batch_id>`

##### Responses

- 200




















successful response










Show response object



GET

/async\_batches/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -X GET 'https://api.rechargeapps.com/async_batches/16'
```

Response

200


```hljs json
{
  "async_batch": {
    "id": 19,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-10-12T20:16:09+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "not_started",
    "submitted_at": null,
    "success_task_count": 0,
    "total_task_count": 0,
    "updated_at": "2022-10-12T20:16:09+00:00",
    "version": "2021-11"
  }
}
```

# List batches

Returns a list of all your async\_batches.

##### Responses

- 200




















successful response










Show response object



GET

/async\_batches


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -X GET 'https://api.rechargeapps.com/async_batches'
```

Response

200


```hljs json
{
  "async_batches": [\
    {\
      "id": 20,\
      "batch_type": "discount_delete",\
      "closed_at": null,\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "deleted_at": null,\
      "fail_task_count": 0,\
      "status": "not_started",\
      "submitted_at": null,\
      "success_task_count": 0,\
      "total_task_count": 40,\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "version": "2021-11"\
    },\
    {\
      "id": 19,\
      "batch_type": "discount_update",\
      "closed_at": null,\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "deleted_at": null,\
      "fail_task_count": 0,\
      "status": "not_started",\
      "submitted_at": null,\
      "success_task_count": 0,\
      "total_task_count": 0,\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "version": "2021-11"\
    },\
    {\
      "id": 16,\
      "batch_type": "discount_create",\
      "closed_at": "2022-10-12T20:16:09+00:00",\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "deleted_at": null,\
      "fail_task_count": 0,\
      "status": "completed",\
      "submitted_at": "2022-10-12T20:16:09+00:00",\
      "success_task_count": 2000,\
      "total_task_count": 2000,\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "version": "2021-11"\
    }\
  ]
}
```

# Process a batch

Until a batch is submitted for processing, no tasks are attempted. Once you have ensured the tasks in a batch are ready for processing, you can submit for processing using this endpoint and the associated batch id.

Webhooks - Batches process quickly, and may result in Recharge dispatching many webhooks at a high rate. Ensure any systems subscribed to resulting webhooks are capable of handling such load.

##### Responses

- 201




















successful response










Show response object



POST

/async\_batches/{batch\_id}/process


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/async_batches/21/process' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

201


```hljs json
{
  "async_batch": {
    "id": 21,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-06-05T10:53:36+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "processing",
    "submitted_at": "2022-06-05T10:54:54+00:00",
    "success_task_count": 0,
    "total_task_count": 10,
    "updated_at": "2022-06-05T10:54:54+00:00",
    "version": "2021-11"
  }
}
```

# Async batch Tasks

Most commonly, the response from listing tasks on an async\_batch id will be identical to the body of a singular request to standard Recharge API endpoints. However, in some instances there are variations from the standard list task response body. See below for examples corresponding to each batch\_type.

Related guides: [Examples of async batches](https://docs.rechargepayments.com/docs/async-batches)

Endpoints

POST

/async\_batches/{batch\_id}/tasks


GET

/async\_batches/{batch\_id}/tasks


Expand

# The async batch Tasks object

##### Attributes

- batch\_id







integer














Indicates the batch that the task is contained by

- body







object














This object contains the body of a standard API request. For example, when creating discounts with a discount\_create batch, this parameter contains a standard body for POST /discounts

- completed\_at







datetime














Indicates the date and time a task was completed

- created\_at







datetime














Indicates the date and time that a task was created and added to the batch

- deleted\_at







datetime














Indicates the date and time that a task was deleted from the batch

- id







integer














Unique identifier for the task within a batch

- queued\_at







datetime














Indicates the date and time a task was queued for processing within batch processing

- result







string














Contains the individual response body for the task

- started\_at







datetime














Indicates the date and time a task was processed

- status







string













Possible values:

pending,

processing,

failed,

success










Indicates the status of the task within a batch.

- updated\_at







datetime














Indicates the date and time a task was most recently updated


##### Error related attributes

##### More Attributes

The async batch Tasks object

```hljs json

```

# Create a batch task

A batch contains operations of similar type (indicated by batch\_type), called tasks. A task is typically representative of a single API request, with a body parameter containing the standard request body for the associated batch\_type. A single request to add tasks may contain up to 1,000 tasks, and a batch may contain up to 10,000 tasks.

##HTTP examples

`POST /async_batches/<batch_id>/tasks`

Batches will only leverage resources from the same version they are created in. e.g. a batch created with `2021-11` will only process tasks from the `2021-11` version.

##### Body Parameters

- batch\_id







integer














Indicates the batch that the task is contained by

- body







object














This object contains the body of a standard API request. For example, when creating discounts with a discount\_create batch, this parameter contains a standard body for POST /discounts

- completed\_at







datetime














Indicates the date and time a task was completed

- created\_at







datetime














Indicates the date and time that a task was created and added to the batch

- deleted\_at







datetime














Indicates the date and time that a task was deleted from the batch

- id







integer














Unique identifier for the task within a batch

- queued\_at







datetime














Indicates the date and time a task was queued for processing within batch processing

- result







string














Contains the individual response body for the task

- started\_at







datetime














Indicates the date and time a task was processed

- status







string













Possible values:

pending,

processing,

failed,

success










Indicates the status of the task within a batch.

- updated\_at







datetime














Indicates the date and time a task was most recently updated


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/async\_batches/{batch\_id}/tasks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-X POST https://api.rechargeapps.com/async_batches/21/tasks \
--data '{
  "tasks": [\
    {\
      "body": {\
        "code": "indexing",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "maroon",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "web services",\
        "value": 100,\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled"\
      }\
    },\
    {\
      "body": {\
        "code": "PCI",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "Cheese",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "overriding",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "bandwidth-monitored",\
        "value": 100,\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled"\
      }\
    },\
    {\
      "body": {\
        "code": "Falkland Islands (Malvinas)",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "Computer",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "digital",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    }\
  ]
}'
```

Response

200


```hljs json
{
  "count": 10
}
```

# List batch tasks

Returns a list of all tasks in the indicated batch, using batch id. For batches with many tasks, pagination is supported when listing tasks. Use this function to evaluate the task-level results of a batch during, or after processing. Task results will be contained in the `results` object of each task.

##### Query Parameters

- ids







string














Filter tasks by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/async\_batches/{batch\_id}/tasks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-X GET https://api.rechargeapps.com/async_batches/16/tasks
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "async_batch_tasks": [\
    {\
      "id": 1490831511,\
      "batch_id": 765278,\
      "body": {\
        "code": "Computer",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831510,\
      "batch_id": 765278,\
      "body": {\
        "code": "Falkland Islands (Malvinas)",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831509,\
      "batch_id": 765278,\
      "body": {\
        "code": "bandwidth-monitored",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831508,\
      "batch_id": 765278,\
      "body": {\
        "code": "overriding",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831507,\
      "batch_id": 765278,\
      "body": {\
        "code": "Cheese",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831506,\
      "batch_id": 765278,\
      "body": {\
        "code": "PCI",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831505,\
      "batch_id": 765278,\
      "body": {\
        "code": "web services",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831504,\
      "batch_id": 765278,\
      "body": {\
        "code": "maroon",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831503,\
      "batch_id": 765278,\
      "body": {\
        "code": "indexing",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    }\
  ]
}
```

# Token information

This resource allows a caller to inspect basic information regarding the `token` in use. It will only return a single object related to the calling `token` ( ie - a call with `api_token.id=1` will only return information regarding `api_token.id=1`.

Endpoints

GET

/token\_information


Expand

# The token information object

Details of the client which generated the token.

If the API token was generated by an OAuth app, the object will contain associated client information.

If the API token was generated by the merchant, the object will reflect the `name` prefaced by ‘\[Private App\]’ and `contact_email` of the token.

##### Attributes

- client







object














If the API Token was generated by an Oauth app, an object containing associated client information.










Show object attributes


- contact\_email







string














The email associated with the API Token record.







For tokens created via OAuth App the contact can be `null`

- name







string














The name of the API Token as created by merchant.

- scopes







array














A list of scopes on the API Token.


##### Error related attributes

##### More Attributes

The token information object

```hljs json
{
  "client": {
    "name": "PARTNER",
    "contact_email": "ed@partner.com"
  },
  "contact_email": "jbluhm@example.com",
  "name": "token name",
  "scopes": [\
    "read_shop",\
    "write_payments"\
  ]
}
```

# Retrieve token information

Retrieve token details.

##### Responses

- 200




















successful response










Show response object



GET

/token\_information


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/token_information' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "token_information": {
    "client": {
      "name": "PARTNER",
      "contact_email": "ed@partner.com"
    },
    "contact_email": "jbluhm@example.com",
    "name": "token name",
    "scopes": [\
      "read_store",\
      "write_payment_methods"\
    ]
  }
}
```

# Accounts

This resource allows a caller to inspect basic information regarding the staff accounts in the store. ![](https://developer.getrecharge.com/images/accounts.png)

Endpoints

GET

/accounts/{id}


GET

/accounts


Expand

# The account object

An `Account` record represents a staff account details for the `Store`. One `Store` can have many staff’s account.

##### Attributes

- id







integer














Unique numeric identifier for the `Account`.

- user\_id







integer














The unique numeric identifier of the user associated to the `Account`.







There can only be one `Account` per user per `Store`.

- created\_at







datetime














The date and time when the `Account` was created.

- invited\_at







datetime














The date and time the user was last invited to open their `Account`







`null` for the store creator.

If an invite to open an `Account` is re-issued for a user, `invited_at` will hold the timestamp of the most recent invite sent.

- is\_owner







boolean














Flags whether this user is the store owner.







A `Store` can have multiple owners.


##### Error related attributes

##### More Attributes

The account object

```hljs json
{
  "account": {
    "id": 3315125,
    "user_id": 2057785,
    "created_at": "2021-07-20T09:10:19+00:00",
    "invited_at": "2021-07-18T09:10:19+00:00",
    "is_owner": false
  }
}
```

# Retrieve an account

Retrieves an account for the store.

Scopes:
read\_accounts


##### Responses

- 200




















successful response










Show response object



GET

/accounts/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/accounts/331512' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "account": {
    "id": 3315125,
    "user_id": 2057785,
    "created_at": "2021-07-20T09:10:19+00:00",
    "invited_at": "2021-07-18T09:10:19+00:00",
    "is_owner": false
  }
}
```

# List accounts

Returns all accounts associated to the store.

Scopes:
read\_accounts


##### Responses

- 200




















successful response










Show response object



GET

/accounts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/accounts' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "accounts": [\
    {\
      "id": 3315125,\
      "user_id": 2057785,\
      "created_at": "2021-07-20T09:10:19+00:00",\
      "invited_at": "2021-07-18T09:10:19+00:00",\
      "is_owner": false\
    },\
    {\
      "id": 3316125,\
      "user_id": 2056785,\
      "created_at": "2021-05-20T09:10:19+00:00",\
      "invited_at": null,\
      "is_owner": true\
    }\
  ]
}
```

# Events

This resource allows a caller to inspect recent events in the store.

Endpoints

GET

/events


Expand

# The event object

Pro plan

An `Event` record represents an action that took place at a point in time.

##### Attributes

- id







integer














Unique numeric identifier for the `Event`.

- object\_id







integer














The unique numeric identifier of the object associated with the `Event`.

- customer\_id







integer














The unique numeric identifier of the customer associated with the `Event`.







This value can be `null` for events not directly associated with a customer.

- created\_at







datetime














The date and time when the `Event` was created.

- object\_type







string














The resource type of the object associated with the `Event`, e.g. ‘customer’ or ‘subscription’

- verb







string














The action describing the `Event`, e.g. ‘created’ or ‘updated’

- description







string














The short description that summarizes the `Event`.

- updated\_attributes







object














A list of objects describing attributes that were changed during the `Event`.










Show object attributes


- source







object














An object containing details about the origin of the `Event`.










Show object attributes


- custom\_attributes







object














A list of objects passed explicitly to a Recharge API call that created the `Event`.







This field will only be populated on events created using the Recharge API.










Show object attributes



##### Error related attributes

##### More Attributes

The event object

```hljs json
{
  "event": {
    "id": 7160141294,
    "object_id": 362310818,
    "customer_id": 36885098,
    "created_at": "2023-05-31T14:16:07",
    "object_type": "subscription",
    "verb": "updated",
    "description": "Updated subscription #362310818",
    "updated_attributes": [\
      {\
        "attribute": "price",\
        "previous_value": "12.00",\
        "value": "15.00"\
      },\
      {\
        "attribute": "quantity",\
        "previous_value": "3",\
        "value": "5"\
      }\
    ],
    "source": {
      "account_id": null,
      "api_token_id": 987654321,
      "api_token_name": "Subscription API token",
      "account_email": null,
      "origin": "api",
      "user_type": null
    },
    "custom_attributes": [\
      {\
        "key": "ab_testing_flag",\
        "value": "a"\
      }\
    ]
  }
}
```

# List events

Returns all events associated with the store. The Events API is limited to events that occurred in the last 7 days

Granting the `read_events` scope to a token will expose some details about other Recharge API resources via the Events API.

Scopes:
read\_events


##### Query Parameters

- created\_at\_min







string














Show events that occurred after a certain date

- created\_at\_max







string














Show events that occurred before a certain date

- object\_type







string














Show events that occurred for a certain `object_type`, such as `customers`, `addresses`, `charges`, etc.

- object\_id







integer














Show events with a specific `object_id`. This filter should be used with the `object_type` filter.

- verbs







string














Show events with a specific `verb` or comma-separated list of `verbs`

- customer\_id







integer














Show events related to a specific `customer` using the customer’s primary identifier

- origin







string














Show events with a specific source.origin, such as `api`, `customer_portal`, `merchant_portal`, or `recharge_process`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/events


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/events' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "events": [\
    {\
      "id": 7160141294,\
      "object_id": 362310818,\
      "customer_id": 36885098,\
      "created_at": "2023-05-31T14:16:07",\
      "object_type": "subscription",\
      "verb": "updated",\
      "description": "Updated subscription #362310818",\
      "updated_attributes": [\
        {\
          "attribute": "price",\
          "previous_value": "12.00",\
          "value": "15.00"\
        },\
        {\
          "attribute": "quantity",\
          "previous_value": "3",\
          "value": "5"\
        }\
      ],\
      "source": {\
        "account_id": null,\
        "api_token_id": 987654321,\
        "api_token_name": "Subscription API token",\
        "account_email": null,\
        "origin": "api",\
        "user_type": null\
      },\
      "custom_attributes": [\
        {\
          "key": "ab_testing_flag",\
          "value": "a"\
        }\
      ]\
    }\
  ]
}
```

## Recharge API Documentation
v.2021-01v.2021-11

# API Reference

The Recharge API is primarily a REST API with some RPC endpoints to support common operations. It has predictable, resource-oriented URLs, accepts JSON-encoded request bodies, returns JSON-encoded responses, and uses standard HTTP response codes, authentication, and methods.

Related guides: [Generate API tokens](https://docs.rechargepayments.com/docs/recharge-api-key), [Using the API](https://docs.rechargepayments.com/docs/using-the-api)

## API and Platforms compatibility

Recharge offers hosted solutions and integrates with various ecommerce platforms to process recurring transactions with the setup of your choice. In order to be compatible with those platforms some of our API resources and endpoints may be limited in use to a subset of platforms. When that is the case we will flag with the help of tags the checkout/platform association for which that feature is compatible.

**When there is no restriction of compatibility no tags will appear.**

Below is a legend of the tags you may come across:

| Tag | Checkout solution | Ecommerce platform |
| --- | --- | --- |
| BigCommerce | Recharge hosted | BigCommerce |
| Custom | Recharge hosted or API-first | Custom |
| RCS | Recharge hosted | Shopify |
| SCI | Shopify hosted | Shopify |

You may also come across other tags specifying regional restrictions (e.g. USA Only) or new releases (e.g. Alpha, Beta).

![Intro image](https://developer.getrecharge.com/images/intro_v2.png)

Base URL

```hljs
https://api.rechargeapps.com
```

# Authentication

Recharge uses API keys to authenticate requests.

Each request to the API should contain an API token in the following header:

`X-Recharge-Access-Token:store_api_token`

Replace `store_api_token` with your API key.

All requests must be made over HTTPS.

## API Token Scopes

Scopes can be set up from the API token edit page in Recharge to control the level of access of an API token.

The API currently supports the scopes below:

| Write | Read |
| --- | --- |
|  | `read_accounts` |
| `write_batches` | `read_batches` |
| `write_customers` | `read_customers` |
| `write_discounts` | `read_discounts` |
|  | `read_events` |
| `write_notifications` |  |
| `write_orders` | `read_orders` |
| `write_payment_methods` | `read_payment_methods` |
| `write_products` | `read_products` |
| `write_subscriptions` | `read_subscriptions` |
|  | `read_store` |
|  | `read_credit_accounts` |
|  | `read_credit_adjustments` |

GET /

cURLPythonPHPRuby

```hljs bash
curl -i -H 'X-Recharge-Access-Token: your_api_token'
-X GET
```

# Versioning

All requests will use your account API settings, unless you send a `X-Recharge-Version` header to specify the version.

You can use the same token to make calls to all versions. When no version is specified it will default to the default version on your store.

| Existing API Versions | Release notes |
| --- | --- |
| `2021-11` | 2021-11 [release notes](https://changelog.rechargepayments.com/recharge-api-v2021-11-is-now-available-4syNNK) |
| `2021-01` |  |

# Responses

Recharge uses conventional `HTTP` response codes to indicate the success or failure of an API request. In general, codes in the `2xx` range indicate success, codes in the `4xx` range indicate an error that failed given the information provided ( e.g. a required parameter was omitted, a charge failed, etc ), and codes in the `5xx` range indicate an error with Recharge’s servers.

```hljs
200 - OK: Everything worked as expected.
201 - OK: The request was successful, created a new resource, and resource created is in the body.
202 - OK: The request has been accepted and is in processing.
204 - OK: The server has successfully fulfilled the request and there is no content to send in the response body.
400 - Bad Request: The request was unacceptable, often due to a missing required parameter.
401 - Unauthorized: No valid API key was provided.
402 - Request Failed: The parameters were valid but the request failed.
403 - The request was authenticated but not authorized for the requested resource (permission scope error).
403 - Uninstalled Store.
404 - Not Found: The requested resource doesn’t exist.
405 - Method Not Allowed: The method is not allowed for this URI.
406 - The request was unacceptable, or requesting a data source which is not allowed although permissions permit the request.
409 - Conflict: You will get this error when you try to send two requests to edit an address or any of its child objects at the same time, in order to avoid out of date information being returned.
415 - The request body was not a JSON object.
422 - The request was understood but cannot be processed due to invalid or missing supplemental information.
426 - The request was made using an invalid API version.
429 - The request has been rate limited.
500 - Internal server error.
501 - The resource requested has not been implemented in the current version but may be implemented in the future.
503 - A 3rd party service on which the request depends has timed out.
```

# Extending responses

Our API endpoints and webhooks allow developers to extend responses with additional data in order to optimize calls, allowing for simpler and more efficient implementations.

The API supports including additional objects when using a `GET` request to retrieve a list or a `GET` request to retrieve a record by a specific id. This is achieved by using an `include` query parameter in the request URL. The `include` value contains the object or objects you want to include in the response of your request. On routes where multiple includes are available, you are able to pass multiple values separated by a comma ( `include=customer,metafields`). The below table defines available `include` values for commonly used resources of the API.

Webhooks support `included_objects` on the topics listed below. Webhook `included_objects` accepts an array of supported values ( `"included_objects": [ "customer", "metafields"]`). Specifying `included_objects` will return an enriched payload, containing the original resource and the associated included objects.

When including `charge_activities` in API calls or webhooks, note that only the last 90 days of activities will be included in the response.

| Resource | Endpoints | Webhook topics | Supported `include` values | Supported `included_objects` values |
| --- | --- | --- | --- | --- |
| `Addresses` | `GET /addresses`<br>`GET /addresses/{id}` | `address/created`<br>`address/updated` | `charge_activities`<br>`customer`<br>`discount`<br>`payment_methods`<br>`subscriptions` | `customer`<br>`payment_methods` |
| `Charges` | `GET /charges`<br>`GET /charges/{id}` | `charge/created`<br>`charge/failed`<br>`charge/max_retries_reached`<br>`charge/paid`<br>`charge/refunded`<br>`charge/uncaptured`<br>`charge/upcoming`<br>`charge/updated`<br>`charge/deleted` | `charge_activities` (beta)<br>`customer`<br>`metafields`<br>`payment_methods` | `customer`<br>`metafields`<br>`payment_methods` |
| `Customers` | `GET /customers`<br>`GET /customers/{id}` | `customer/activated`<br>`customer/created`<br>`customer/deactivated`<br>`customer/payment_method_updated`<br>`customer/updated`<br>`customer/deleted` | `addresses`<br>`metafields`<br>`payment_methods`<br>`subscriptions` | `addresses`<br>`metafields`<br>`payment_methods` |
| `Orders` | `GET /orders`<br>`GET /orders/{id}` | `order/cancelled`<br>`order/created`<br>`order/deleted`<br>`order/processed`<br>`order/payment_captured`<br>`order/upcoming`<br>`order/updated`<br>`order/success` | `customer`<br>`metafields` | `customer`<br>`metafields` |
| `Payment Methods` | `GET /payment_methods`<br>`GET /payment_methods/{id}` |  | `addresses` | `addresses` |
| `Subscriptions` | `GET /subscriptions`<br>`GET /subscriptions/{id}` | `subscription/activated`<br>`subscription/cancelled`<br>`subscription/created`<br>`subscription/deleted`<br>`subscription/skipped`<br>`subscription/updated`<br>`subscription/unskipped`<br>`subscription/paused` | `address`<br>`charge_activities`<br>`customer`<br>`metafields`<br>`bundle_product`<br>`bundle_selections` | `customer`<br>`metafields` |

# Cursor Pagination

By default, calls for a list of objects will return 50 results. Using the `limit` parameter, that can be increased to 250 results per response.

When there are more results than the current `limit` a cursor may be used to request additional results.

The `next_cursor` and `previous_cursor` attributes are are included in all list responses.

To request the next set of results, find the `next_cursor` in the list response and include it in the url with the cursor parameter e.g. `GET https://api.rechargeapps.com/subscriptions?limit=250&cursor=<next_cursor>`

To request the previous set of results, find the `previous_cursor` in the list response and include it in the url with the cursor parameter e.g. `GET https://api.rechargeapps.com/subscriptions?limit=250&cursor=<previous_cursor>`

## Retrieving total number of records

Starting with the `2021-11` version of the API, you will not be able to retrieve a count of total records for a given `GET` request. If you are building a UI page that allows end users to paginate through result sets (such as paginating through a list of orders or subscriptions), we recommend that your pagination implementation allow users to go to the next and previous page of results (as opposed to allowing users to jump to specific page in the results). This aligns well with the `previous_cursor` and the `next_cursor` fields included in all list responses.

Example Request

cURLPythonPHPRuby

```hljs bash
URL="https://api.rechargeapps.com/charges?limit=5"

response=$(curl -s -w "%{http_code}"\
    -H 'X-Recharge-Access-Token: your_api_token' \
    -H 'X-Recharge-Version: 2021-11' \    -X GET $URL)

content=$(sed '$ d' <<< "$response") # get all but the last line which contains the status code

# Display results
echo $content | jq "."

# parse next url
echo "Next URL"
next_cursor=$(jq ".next_cursor" <<< "${content}")

# Notice next_cursor value is passed as page_info query param
echo "$URL&page_info=$next_cursor"
```

# Sorting

The API supports sorting of results when using a `GET` request to retrieve a list. Sorting is achieved using a `sort_by` query parameter in the request URL. The `sort_by` value contains the parameter and sort direction for your results (ascending or descending), and available sort\_by values vary between resources. The below table defines available `sort_by` options for commonly used resources.

| Resource | Supported `sort_by_values` |
| --- | --- |
| **`Address`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` |
| **`Async Batch`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` |
| **`Charge`** | **Default: `id-asc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` `scheduled_at-asc` `scheduled_at-desc` |
| **`Customer`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Discount`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Metafield`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` |
| **`Onetime`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Order`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` `processed_at-asc` `processed_at-desc` `scheduled_at-asc` `scheduled_at-desc` |
| **`Plan`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `updated_at-asc` `updated_at-desc` |
| **`Subscription`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` `created_at-asc` `created_at-desc` `updated_at-asc` `updated_at-desc` |
| **`Webhook`** | **Default: `id-desc`**<br>**Options:** `id-asc` `id-desc` |

# Addresses

An Addresses record represents a shipping address. Each customer can have multiple addresses. Subscriptions are a child object of an address. ![](https://developer.getrecharge.com/images/address.png)

Endpoints

POST

/addresses


GET

/addresses/{id}


PUT

/addresses/{id}


DELETE

/addresses/{id}


GET

/addresses


POST

/addresses/merge


POST

/addresses/{id}/charges/skip


Expand

# The address object

An Addresses record represents a shipping address. Each customer can have multiple addresses. Subscriptions are a child object of an address.

##### Attributes

- id







integer














Unique numeric identifier for the `Address`.

- payment\_method\_id







integer














Unique numeric identifier for the `Payment Method` associated to the `Address`.

- address1







string














The street associated with the `Address`.

- address2







string














Any additional information associated with the `Address`.

- city







string














The city associated with the address.

- company







string














The company associated with the address.

- country\_code







string














2-letter country code.

- customer\_id







integer














Unique numeric identifier for the customer associated with the address.

- discounts







array














A list of discounts applied on the address. These discounts will apply to future recurring charges associated with this address.










Show object attributes


- first\_name







string














The customer’s first name associated with the address.

- last\_name







string














The customer’s last name associated with the address.

- order\_attributes







array












[BigCommerce](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

















Replaces cart\_attributes. Extra information that is added to the order.










Show object attributes


- order\_note







string














Notes to be added to all orders associated with the address.

- phone







string














The phone number associated with the address.

- presentment\_currency







string












[SCI](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

















The currency on the subscription contract in Shopify.







Only set if the currency is different from the store-level currency. Else, will default to store-level currency.

- province







string














The state or province associated with the address.

- shipping\_lines\_conserved







array














Shipping rates that have previously been overridden via `shipping_lines_override` but are currently inactive.










Show object attributes


- shipping\_lines\_override







array














Used when shipping rates need to be overridden.







If this parameter has value `null`, rates will be fetched when `Charge` is created or regenerated










Show object attributes


- zip







string














The zip or postal code associated with the address.

- created\_at







datetime














The date and time when the address was created.

- updated\_at







datetime














The date and time when the address was last updated.


##### Error related attributes

##### More Attributes

The address object

```hljs json
{
  "address": {
    "id": 21317826,
    "payment_method_id": 17874235,
    "address1": "1776 Washington Street",
    "address2": "",
    "city": "Los Angeles",
    "company": "Recharge",
    "country_code": "US",
    "created_at": "2018-11-14T09:00:01+00:00",
    "customer_id": 18819267,
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "first_name": "John",
    "last_name": "Doe",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note.",
    "phone": "5551234567",
    "presentment_currency": "USD",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [\
      {\
        "code": "Standard Shipping",\
        "price": "0.00",\
        "title": "Standard Shipping"\
      }\
    ],
    "updated_at": "2018-11-14T09:00:01+00:00",
    "zip": "90404"
  }
}
```

# Create an address

Create a new address for a customer.

Scopes:
write\_customers


##### Body Parameters

- customer\_id







integer





\\* Required














Unique numeric identifier for the customer associated with the address.

- address1







string





\\* Required














The street associated with the `Address`. Minimum length is 1 character.

- address2







string














Any additional information associated with the shipping address.

- city







string





\\* Required














The city associated with the shipping address.

- company







string














The company associated with the shipping address.

- country\_code







string





\\* Required














2-letter country code.







Check if the store supports shipping to this country. This is set by the merchant in their Shipping Settings page.

- discounts







array














List of discounts applied on the `Address`.










Show object attributes


- first\_name







string





\\* Required














The customer’s first name associated with the address. Minimum length is 1 character.

- last\_name







string





\\* Required














The customer’s last name associated with the address. Minimum length is 1 character.

- order\_attributes







array












[BigCommerce](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

















Extra information that is added to the order.










Show object attributes


- order\_note







string














Notes to be added to all orders associated with the address.

- payment\_method\_id







integer














Payment method id for the `Payment_method` to be associated to this address.

- phone







string





\\* Required














The phone number associated with the address. Must be included in the request schema but can be an empty string.

- presentment\_currency







string














The currency that charges on this address will be processed in. If no presentment\_currency is passed, it will be set to your default store currency.

- province







string





\\* Required














The state or province associated with the address. Check if country requires a province `COUNTRIES_REQUIRING_PROVINCE`.

- shipping\_lines\_override







array














Used when shipping rates need to be overridden. If this parameter has value `null`, rates will be fetched when a related `Charge` is created or regenerated










Show object attributes


- zip







string





\\* Required














The zip or postal code associated with the address.







Check if the `country` requires a `zip` code `COUNTRIES_NOT_REQUIRING_ZIP`. If not included in the list then a zip code with the minimum length of 1 character is required. If the country is `United States` validate against regex `UNITED_STATES_ZIP_REGEX`. If country is `United Kingdom` then validate against regex `UNITED_KINGDOM_ZIP_REGEX`.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/addresses


cURLPythonPHPRuby

```hljs js
curl https://api.rechargeapps.com/addresses \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "customer_id": 22152215,
  "address1": "1776 Washington Street",
  "address2": "",
  "city": "Los Angeles",
  "company": "Recharge",
  "country_code": "US",
  "first_name": "John",
  "last_name": "Doe",
  "order_attributes": [\
    {\
      "name": "custom name",\
      "value": "custom value"\
    }\
  ],
  "phone": "5551234567",
 "presentment_currency": "USD",
  "province": "California",
  "zip": "90404"
}'
```

Response

201


```hljs json
{
  "address": {
    "id": 42171447,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Retrieve an address

Retrieves address for customer based on specified address id.

Scopes:
read\_customers


##### Responses

- 200




















successful response










Show response object



GET

/addresses/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/addresses/21317826' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "address": {
    "id": 42171447,
    "payment_method_id": 17874235,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Update an address

Updates an existing address to match the specified parameters.

## Example: remove discounts from an address

To remove all discounts from an address, set the `discounts` parameter to an empty array: `{"discounts": []}`

Note: When updating the `country` property you will have to update the `zip` property as well, otherwise you will receive an error.

Scopes:
write\_customers


##### Body Parameters

- address1







string














The street associated with the `Address`. Minimum length is 1 character.

- address2







string














Any additional information associated with the shipping address.

- city







string














The city associated with the shipping address. Minimum length is 1 character.

- company







string














The company associated with the shipping address.

- country\_code







string














2-letter country code.







Check if the `store` supports shipping to this country. This is set by the merchant in their Shipping Settings page.

- discounts







array














A list of discounts applied on the address. These discounts will apply to future recurring charges associated with this address.










Show object attributes


- first\_name







string














The customer’s first name associated with the address. Minimum length is 1 character.

- last\_name







string














The customer’s last name associated with the address. Minimum length is 1 character.

- order\_attributes







array












[BigCommerce](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

















Extra information that is added to the order.










Show object attributes


- order\_note







string














Notes to be added to all orders associated with the address.

- payment\_method\_id







integer














Payment method id for the `Payment_method` to be associated to this address.

- phone







string














The phone number associated with the address. Must be included in the request schema but can be an empty string.

- province







string














The state or province associated with the address. Check if country requires a province `COUNTRIES_REQUIRING_PROVINCE`.

- shipping\_lines\_override







array












[BigCommerce](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)











[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)











[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)











[SCI](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

















Used when shipping rates need to be overridden. If this parameter has value `null`, rates will be fetched when a related `Charge` is created or regenerated.










Show object attributes


- zip







string














The zip or postal code associated with the address. Check if the country requires a zip code `COUNTRIES_NOT_REQUIRING_ZIP`. If not included in the list then a zip code with the minimum length of 1 character is required. If the country is `United States` then validate against regex `UNITED_STATES_ZIP_REGEX`. If country is `United Kingdom` then validate against regex `UNITED_KINGDOM_ZIP_REGEX`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/addresses/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/addresses/38700614' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"address1": "1776 Washington Street"}'
```

Response

200


```hljs json
{
  "address": {
    "id": 42171447,
    "payment_method_id": 17874235,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Delete an address

It is possible to delete certain addresses from the store using API.

Only `Addresses` with no active `Subscriptions` can be deleted.

Scopes:
write\_customers


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/addresses/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/addresses/38700614'\
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List addresses

Returns all addresses from the store, or addresses for the user given in the parameter.

## HTTP examples

`GET /addresses`

`GET /addresses?customer_id=<customer_id>`

`GET /addresses?discount_id=<discount_id>`

`GET /addresses?discount_code=<discount_code>`

You can combine `created_at_min` and `created_at_max` to return all addresses created in the given timespan. This also applies to `updated_at_min` and `updated_at_max` parameters.

Scopes:
read\_customers


##### Query Parameters

- created\_at\_max







datetime














Returns addresses created before the given time.

- created\_at\_min







datetime














Returns addresses created after the given time.

- customer\_id







integer














Unique identifier of the customer.

- discount\_code







string














Returns addresses that have the provided discount\_code.

- discount\_id







string














Returns addresses that have the provided discount\_id.

- ids







string














Filter addresses by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










The amount of results. Default is 50 while the maximum is 250.

- page







string





\*Deprecated













Default: 1










The page to show. Default is 1.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- updated\_at\_max







string














Returns addresses updated before the given date.

- updated\_at\_min







string














Returns addresses updated after the given time.

- is\_active







boolean














Returns active addresses.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/addresses


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/addresses' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "addresses": [\
    {\
      "id": 42171447,\
      "payment_method_id": 17874235,\
      "address1": "1030 Barnum Ave",\
      "address2": "Suite 101",\
      "city": "Stratford",\
      "company": "Fake Company",\
      "country_code": "US",\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "customer_id": 37657002,\
      "discounts": [\
        {\
          "id": 123456\
        }\
      ],\
      "first_name": "Fake First",\
      "last_name": "Fake Last",\
      "order_attributes": [\
        {\
          "name": "custom name",\
          "value": "custom value"\
        }\
      ],\
      "order_note": "My recurring order note",\
      "phone": "999-999-9999",\
      "presentment_currency": "USD",\
      "province": "Connecticut",\
      "shipping_lines_conserved": [],\
      "shipping_lines_override": [\
        {\
          "code": "Standard Shipping",\
          "price": "0.00",\
          "title": "Standard Shipping"\
        }\
      ],\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "zip": "06614"\
    }\
  ]
}
```

# Merge addresses

Merges up to 10 source addresses into 1 target address.

If one of the `Addresses` being merged has a different presentment currency, the entire merge will fail and throw an error.

Scopes:
write\_customers


##### Body Parameters

- delete\_source\_addresses







boolean














Indicates whether source addresses should be deleted.

- next\_charge\_date







string














Specifies the next charge date of the associated subscriptions on the target address.

- target\_address







object





\\* Required














The address all of the subscriptions should be moved to.










Show object attributes


- source\_addresses







array





\\* Required














The list of addresses that the subscriptions should move from.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/addresses/merge


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/addresses/merge' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"target_address": {"id": 42171447}, "source_addresses": [{"id": 42171446}, {"id": 42171445}]}'
```

Response

200


```hljs json
{
  "address": {
    "id": 42171447,
    "payment_method_id": 17874235,
    "address1": "1030 Barnum Ave",
    "address2": "Suite 101",
    "city": "Stratford",
    "company": "Fake Company",
    "country_code": "US",
    "created_at": "2022-10-12T20:16:09+00:00",
    "customer_id": 37657002,
    "discounts": [],
    "first_name": "Fake First",
    "last_name": "Fake Last",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "order_note": "My recurring order note",
    "phone": "999-999-9999",
    "presentment_currency": "USD",
    "province": "Connecticut",
    "shipping_lines_conserved": [],
    "shipping_lines_override": [],
    "updated_at": "2022-10-12T20:16:09+00:00",
    "zip": "06614"
  }
}
```

# Skip future charge

Skip a `Charge` in the future for one or multiple `Subscriptions` associated with the `Address`.

If the `Charge` does not exist on the date, it will be created with a `SKIPPED` status.

Scopes:
write\_orders


##### Body Parameters

- date







datetime





\\* Required














The date in the future of the `Charge` to be skipped.







This date must be within the delivery schedules of the `Customer`.

- subscription\_ids







array





\\* Required














A list containing the `Subscription` IDs to be skipped.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 404




















the `Address` with `id` does not exist










Show response object


- 422




















invalid data passed to the endpoint










Show response object



POST

/addresses/{id}/charges/skip


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/addresses/91977136/charges/skip' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"date": "2022-09-15", "purchase_item_ids": [27363808, 27363809]}'
```

Response

200

404

422


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": null,
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "skipped",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Bundle Selections

Pro plan

[SCI](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

A bundle selection represents the contents within a Bundle linked to an individual Subscription. It can represent the selection for upcoming orders or past orders. A `BundleSelection` is associated with a corresponding `Subscription` and a `BundleVariant` (the `BundleVariant` is used to validate contents in the selection). When a new order for the associated `Subscription` occurs, it will extract the current contents of the `BundleSelection` for the Bundle item in the order.

Endpoints

GET

/bundle\_selections


GET

/bundle\_selections/{id}


POST

/bundle\_selections


PUT

/bundle\_selections/{id}


DELETE

/bundle\_selections/{id}


Expand

# The bundle selection object

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

A bundle selection represents the contents within a Bundle linked to an individual Subscription. It can represent the selection for upcoming orders or past orders. A `BundleSelection` is associated with a corresponding `Subscription` and a `BundleVariant` (the `BundleVariant` is used to validate contents in the selection).

##### Attributes

- id







integer














The unique numeric identifier for the `BundleSelection`.

- bundle\_variant\_id







integer














The ID of the `BundleVariant` associated with the `BundleSelection`.

- purchase\_item\_id







integer














The ID of the `PurchaseItem` associated with the `BundleSelection`.

- created\_at







datetime














The date and time when the contents were selected.

- external\_product\_id







string














The product id as it appears in the external e-commerce platform. The `external_product_id` of the `Product` record in Recharge, linking the `BundleSelection` to a `Product` associated with a Bundle.

- external\_variant\_id







string














The variant id as it appears in the external e-commerce platform. The `external_variant_id` of the `Product` record in Recharge, linking the `BundleSelection` to a `Product` associated with a Bundle.

- items







array














A list of `item` objects, each containing information about a distinct product selected as part of the Bundle.










Show object attributes


- updated\_at







datetime














The date and time at which the `BundleSelection` was most recently updated.


##### Error related attributes

##### More Attributes

The bundle selection object

```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# List bundle selections

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Returns a list of `BundleSelections`.

## HTTP request examples

`GET /bundle_selections?purchase_item_ids=:purchase_item_id_1,:purchase_item_id_2`

`GET /bundle_selections?bundle_variant_ids=:bundle_variant_id_1,:bundle_variant_id_2`

`GET /bundle_selections?limit=1`

`GET /bundle_selections?limit=1&page=2`

`GET /bundle_selections?sort_by=updated_at-desc`

Returned `BundleSelections` are sorted descending by ID value by default.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
read\_subscriptions


##### Query Parameters

- purchase\_item\_ids







string














Filter `BundleSelections` by `Subscription` or `Onetime` ID.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- bundle\_variant\_ids







string














Filter `BundleSelections` by `BundleVariants`.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- item\_external\_variant\_ids







string














Filter `BundleSelections` by contents. If the Variant ID exists as a content of the `BundleSelection` it will appear as a result.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- item\_external\_product\_ids







string














Filter `BundleSelections` by contents. If the Product ID exists as a content of the `BundleSelection` it will appear as a result.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- limit







string













Default: 50





Max: 250










The amount of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- sort\_by







string














Sort listed `BundleSelections` in a specific order.

Available sort options: `id-asc`, `id-desc`, `updated_at-asc`, `updated_at-desc`.

- active\_purchase\_items







boolean














Bundle selections are not directly linked to Subscriptions. By default, the endpoint returns Bundle Selections, even those associated with cancelled subscriptions, unless the Bundle Selection has been deleted.

_To exclude cancelled subscriptions from your results, include `active_purchase_items=true` in your query._


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/bundle\_selections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/bundle_selections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "bundle_selections": [\
    {\
      "id": 100714428,\
      "bundle_variant": 382417,\
      "purchase_item_id": 199820883,\
      "created_at": "2022-08-26T18:31:28+00:00",\
      "external_product_id": "7121697210548",\
      "external_variant_id": "41450875650228",\
      "items": [\
        {\
          "id": 541,\
          "collection_id": "287569608884",\
          "collection_source": "shopify",\
          "created_at": "2022-08-26T18:31:28+00:00",\
          "external_product_id": "7121693671604",\
          "external_variant_id": "41450853105844",\
          "quantity": 3,\
          "updated_at": "2022-08-26T18:52:41+00:00"\
        }\
      ],\
      "updated_at": "2022-08-26T18:31:28+00:00"\
    }\
  ]
}
```

# Retrieve a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Retrieve a `BundleSelection` using the `bundle_selection_id`.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object


- 404




















the `BundleSelection` with `bundle_selection_id` does not exist










Show response object



GET

/bundle\_selections/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/bundle_selections/100714428' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200

404


```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# Create a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Create a `BundleSelection`.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_subscriptions


##### Body Parameters

- purchase\_item\_id







integer





\\* Required














The ID of the `PurchaseItem` associated with the `BundleSelection`.

- plan\_id







integer














A Recharge Plan ID. If provided in a dynamically-priced Bundle, the unit price of each product variant will be inferred from the plan associated with the ID; otherwise, it will be inferred from the plan with the greatest discount for each product in the selection. This is not used in fixed-priced Bundles.

- items







array





\\* Required














A list of `item` objects, each containing information about a distinct product selected as part of the Bundle.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 422




















missing required field or invalid items passed










Show response object



POST

/bundle\_selections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/bundle_selections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "purchase_item_id": 199820883,
  "items": [\
    {\
      "collection_id": "287569608884",\
      "collection_source": "shopify",\
      "external_product_id": "7121693671604",\
      "external_variant_id": "41450853105844",\
      "quantity": 3\
    }\
  ]
}'
```

Response

200

422


```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# Update a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Modify an existing `BundleSelection` to match the specified parameters.

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_subscriptions


##### Body Parameters

- purchase\_item\_id







integer














The ID of the `PurchaseItem` associated with the `BundleSelection`.

- plan\_id







integer














A Recharge Plan ID. If provided in a dynamically-priced Bundle, the unit price of each product variant will be inferred from the plan associated with the ID; otherwise, it will be inferred from the plan with the greatest discount for each product in the selection. This is not used in fixed-priced Bundles.

- items







array














A list of `item` objects, each containing information about a distinct product selected as part of the Bundle.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 404




















the `BundleSelection` with `bundle_selection_id` does not exist










Show response object


- 422




















invalid items passed










Show response object



PUT

/bundle\_selections/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/bundle_selections/100714428' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "purchase_item_id": 199820883,
  "items": [\
    {\
      "collection_id": "287569608884",\
      "collection_source": "shopify",\
      "external_product_id": "7121693671604",\
      "external_variant_id": "41450853105844",\
      "quantity": 3\
    }\
  ]
}'
```

Response

200

404

422


```hljs json
{
  "bundle_selection": {
    "id": 100714428,
    "bundle_variant": 382417,
    "purchase_item_id": 199820883,
    "created_at": "2022-08-26T18:31:28+00:00",
    "external_product_id": "7121697210548",
    "external_variant_id": "41450875650228",
    "items": [\
      {\
        "id": 541,\
        "collection_id": "287569608884",\
        "collection_source": "shopify",\
        "created_at": "2022-08-26T18:31:28+00:00",\
        "external_product_id": "7121693671604",\
        "external_variant_id": "41450853105844",\
        "quantity": 3,\
        "updated_at": "2022-08-26T18:52:41+00:00"\
      }\
    ],
    "updated_at": "2022-08-26T18:31:28+00:00"
  }
}
```

# Delete a bundle selection

Pro plan

[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Delete a `BundleSelection`

`BundleSelections` endpoints are available for Recharge Pro merchants. If you’re interested in leveraging the Recharge `bundle_selections` endpoints, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_subscriptions


##### Responses

- 204




















the `BundleSelection` has been removed and there is no content to send back in the response body.










Show response object


- 404




















the `BundleSelection` with `id` does not exist










Show response object



DELETE

/bundle\_selections/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/bundle_selections/100714428' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204

404


```hljs json
{}
```

# Charges

A charge is the representation of a financial transaction linked to the purchase of an item (past or future). It can be a transaction that was processed already or the representation of an upcoming transaction. A `Charge` is linked to its corresponding `Orders` (one `Order` for pay as you go subscriptions and several for pre-paid). `Orders` are created once the corresponding `Charge` is successful. After successful payment, the first `Order` will be immediately submitted to the external platform if applicable (e.g. Shopify, BigCommerce). ![](https://developer.getrecharge.com/images/charge.png)

Endpoints

GET

/charges/{id}


GET

/charges


POST

/charges/{id}/apply\_discount


POST

/charges/{id}/remove\_discount


POST

/charges/{id}/skip


POST

/charges/{id}/unskip


POST

/charges/{id}/refund


POST

/charges/{id}/process


POST

/charges/{id}/capture\_payment


Expand

# The charge object

A `Charge` is the representation of the financial transaction linked to a purchase (past or future). It can be a transaction that was processed already or the representation of an upcoming transaction. A charge is linked to its corresponding `Orders` (one for pay as you go subscriptions and several for pre-paid).

A `Charge` can have many parent subscriptions. All subscriptions on a given `Address` with the same `next_charge_date` date will be merged into one `Charge` and that charge will contain one `line_item` per `Subscription`.

##### Attributes

- id







integer














The unique numeric identifier for the `Charge`.

- address\_id







integer














The ID of the shipping `Address` tied to the `Charge`.

- analytics\_data







object














An object containing analytics data associated with the `Charge`.










Show object attributes


- billing\_address







object














All the billing information related to the charge.










Show object attributes


- client\_details







object














Details of the access method used by the purchaser.










Show object attributes


- created\_at







datetime














The date and time when the transaction was created.

- currency







string














The code of the currency for this `Charge`, such as `USD`.







Related guides: [Supported currencies](https://support.rechargepayments.com/hc/en-us/articles/360037897534-Supported-currencies)

- customer







object














An object containing `Customer` information associated with this `Charge`.










Show object attributes


- discounts







array














An array of `Discounts` associated with the `Charge`.










Show object attributes


- external\_order\_id







object














An object containing the associated external order ID.










Show object attributes


- external\_transaction\_id







object














An object containing the associated external transaction ID.










Show object attributes


- line\_items







array














A list of `line_item` objects, each containing information about a distinct purchase item.










Show object attributes


- note







string














Notes associated with the `Charge`.

- order\_attributes







array














An array of name-value pairs of order attributes on the `Charge`.










Show object attributes


- orders\_count







integer














The number of `Orders` generated from this `Charge` (>1 for prepaid `Subscriptions`).

- payment\_processor







string














The payment processor used for this `Charge`.

- processed\_at







datetime














The date and time when the transaction was processed.

- scheduled\_at







date














The date time of when the `Charge` is/was scheduled to process.

- shipping\_address







object














The shipping `Address` of the `Charge`.










Show object attributes


- shipping\_lines







array














An array of shipping lines associated with the `Charge`.










Show object attributes


- status







string













Possible values:

success,

error,

queued,

skipped,

refunded,

partially\_refunded,

pending\_manual\_payment,

pending










The status of the `Charge`.

- subtotal\_price







string














The combined price of all `line_items` without taxes and shipping.

- tags







string














A comma-separated list of tags on the `Charge`.

- tax\_lines







array














An array of tax lines that apply to the `Charge`.










Show object attributes


- taxable







boolean














A boolean indicator of the taxability of the `Charge`.

- taxes\_included







boolean














Whether taxes are included in the order subtotal.

- total\_discounts







string














The sum of the `Discounts` applied to the `Charge`.

- total\_line\_items\_price







string














The total price of all line items of the `Charge`.

- total\_price







string














The sum of all the prices of all the items in the `Charge`, taxes and discounts included (must be positive).

- total\_refunds







string














The sum of all refunds that were applied to the `Charge`.

- total\_tax







string














The total tax due associated with the `Charge`.

- total\_weight\_grams







integer














The total weight of the `Charge`’s line items in grams.

- type







string













Possible values:

checkout,

recurring










An indicator of the `Charge`’s type, either checkout or recurring.

- updated\_at







datetime














The date time at which the `Charge` was most recently updated.


##### Error related attributes

- error







string














Error reason as sentence text (typically returned direct from the payment processor). e.g. `"error": "Customer needs to update credit card"`

- error\_type







string














Structured reason why the charge failed such as `CUSTOMER_NEEDS_TO_UPDATE_CARD`.

- charge\_attempts







integer














Shows how many times an attempt to charge was placed.

- external\_variant\_id\_not\_found







boolean














Indicates if Recharge was able to find the `external_variant_id` from the `Charge`.

- retry\_date







date














The date when the next attempt will be placed.


##### More Attributes

- has\_uncommited\_changes







boolean














Specifies whether the `Charge` is scheduled for a regeneration (if the `Subscription` related to the charge was updated in the last 5 seconds using `commit=false`).


The charge object

```hljs json
{
  "charge": {
    "id": 100714428,
    "address_id": 21317826,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "differentiate-content",\
          "utm_data_source": "cookie",\
          "utm_medium": "email",\
          "utm_source": "newsletter",\
          "utm_term": "test-term",\
          "utm_time_stamp": "2019-12-16T23:57:28.752Z"\
        }\
      ]
    },
    "billing_address": {
      "address1": "3030 Nebraska Avenue",
      "address2": null,
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Mike",
      "last_name": "Flynn",
      "phone": "3103843698",
      "province": "California",
      "zip": "90404"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2018-11-14T09:45:44+00:00",
    "currency": "USD",
    "customer": {
      "id": 12345,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "10DOLLAROFF",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_XXXXXXXXXXXXXXX"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "99999999999"\
        },\
        "grams": 4536,\
        "images": {\
          "large": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee_large.png",\
          "medium": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee__medium.png",\
          "original": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee_.png",\
          "small": "https://cdn.shopify.com/s/files/1/0175/0695/9460/products/Sumatra_Coffee__small.png"\
        },\
        "original_price": "12.00",\
        "properties": [\
          {\
            "name": "grind",\
            "value": "drip"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "MILK-1",\
        "tax_due": "1.14",\
        "tax_lines": [\
          {\
            "price": "0.870",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.270",\
            "rate": 0.0225,\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "12.00",\
        "title": "Sumatra Coffee",\
        "total_price": "13.14",\
        "unit_price": "12.00",\
        "variant_title": "Milk - a / b"\
      }\
    ],
    "note": "next order #1",
    "order_attributes": [\
      {\
        "name": "custom name",\
        "value": "custom value"\
      }\
    ],
    "processor_name": "stripe",
    "scheduled_at": "2018-12-12",
    "shipping_address": {
      "address1": "3030 Nebraska Avenue",
      "address2": "",
      "city": "Los Angeles",
      "company": "Recharge",
      "country": "United States",
      "first_name": "Mike",
      "last_name": "Flynn",
      "phone": "3103843698",
      "province": "California",
      "zip": "90404"
    },
    "shipping_lines": [\
      {\
        "code": "Standard Shipping",\
        "price": "0.00",\
        "title": "Standard Shipping"\
      }\
    ],
    "status": "queued",
    "subtotal_price": "12.00",
    "tags": "Subscription",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles County Tax"\
      }\
    ],
    "taxes_included": true,
    "total_discounts": "0.00",
    "total_line_items_price": "12.00",
    "total_price": "13.14",
    "total_refunds": null,
    "total_tax": "1.14",
    "total_weight_grams": 4536,
    "type": "recurring",
    "updated_at": "2018-11-14T09:45:44+00:00"
  }
}
```

# Retrieve a charge

Retrieve a `Charge` using the `charge_id`.

Starting March 19th, 2025, processed charges (those where status equals success, refunded, or partially-refunded) that have a value for processed\_at greater than 90 days in the past will no longer appear in responses. As a result, you may receive an error.

Charge data processed over 90 days ago will remain available through the [Exports tool](https://support.getrecharge.com/hc/en-us/articles/360049725373-Available-exports-in-the-Export-Builder#h_9ade00c9-7cdb-474d-9d91-1e976689eca9) in the Recharge merchant portal and within the [Merchant portal UI](https://support.getrecharge.com/hc/en-us/articles/360008829113-Viewing-order-information-in-the-merchant-portal).

Example of unaffected API calls:

\[RETRIEVE A CHARGE\] `/charges/{id}` (if it’s a charge that does not have a processed\_at date or the processed\_at date is within the last 90 days)

Example of API calls that will result in an error:

\[RETRIEVE A CHARGE\] `/charges/{id}` (if it’s a charge with a processed\_at date older than 90 days)

Scopes:
read\_orders


##### Responses

- 200




















successful response










Show response object



GET

/charges/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": "2021-01-01",
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "taxes_included": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# List charges

Returns a list of `Charges`.

## HTTP request examples

`GET /charges?address_id=:address_id`

`GET /charges?created_at_min=2016-05-18&created_at_max=2016-06-18`

`GET /charges?customer_id=:customer_id`

`GET /charges?discount_code=10PERCENTOFF`

`GET /charges?discount_id=:discount_id`

`GET /charges?external_order_id=:external_order_id`

`GET /charges?ids=1123551,262667345,12341535`

`GET /charges?purchase_item_id=:purchase_item_id`

`GET /charges?scheduled_at=2016-06-18`

`GET /charges?scheduled_at_min=2016-05-18&scheduled_at_max=2016-06-18`

`GET /charges?sort_by=id-desc`

`GET /charges?status=queued`

`GET /charges?status=queued,refunded,partially_refunded`

`GET /charges?updated_at_min=2016-05-18&updated_at_max=2016-06-18`

`GET /charges?processed_at_min=2022-01-18&processed_at_max=2022-02-18`

Starting March 19th, 2025, processed charges (those where status equals success, refunded, or partially- refunded) that have a value for processed\_at greater than 90 days in the past will no longer appear in responses. As a result, you may receive a partial data set or an empty list.

Charge data processed over 90 days ago will remain available through the [Exports tool](https://support.getrecharge.com/hc/en-us/articles/360049725373-Available-exports-in-the-Export-Builder#h_9ade00c9-7cdb-474d-9d91-1e976689eca9) in the Recharge merchant portal and within the [Merchant portal UI](https://support.getrecharge.com/hc/en-us/articles/360008829113-Viewing-order-information-in-the-merchant-portal).

Examples of unaffected API calls:

\[LIST CHARGES\] `/charges?status=queued`

\[LIST CHARGES\] `/charges?status=error`

Examples of API calls that may return partial results:

\[LIST CHARGES\] `/charges?processed_at_min=2024-01-01` (this would only return results that have a processed\_at date in the last 90 days)

\[LIST CHARGES\] `/charges?status=success,queued` (this would return all queued charges but only return success charges that have a processed\_at date in the last 90 days)

Example of API calls that will result in an empty list:

\[LIST CHARGES\] `/charges?processed_at_max=2024-01-01` (any date over 90 days old)

Reminder: returned charges are sorted ascending by id value by default.

Scopes:
read\_orders


##### Query Parameters

- address\_id







string














Filter `Charges` by `Address`.

- created\_at\_max







string














Show `Charges` created before the given date.

- created\_at\_min







string














Show `Charges` created after the given date.

- customer\_id







string














Filter `Charges` by `Customer`.

- discount\_code







string














List `Charges` that contain the given `discount_code`.

- discount\_id







string














List `Charges` that contain the given `discount_id`.

- external\_order\_id







string














Filter `Charges` by the associated order ID in the external e-commerce platform.

- ids







string














Filter `Charges` by ID.







If passing multiple values, must be comma separated. Non-integer values will result in a `422` error.

- limit







string













Default: 50





Max: 250










The amount of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- purchase\_item\_id







string














Filter `Charges` by a `Subscription` or `Onetime` ID.

- purchase\_item\_ids







string














Filter `Charges` by a comma-separated list of `Subscription` or `Onetime` IDs.

- scheduled\_at







string














Filter `Charges` by specific scheduled charge date.

- scheduled\_at\_max







string














Show `Charges` scheduled to be processed before the given date.

- scheduled\_at\_min







string














Show `Charges` scheduled to be processed after the given date.

- sort\_by







string














Sort listed `Charges` in a specific order.

Available sort options: `id-asc`, `id-desc`, `updated_at-asc`, `updated_at-desc`, `scheduled_at-asc`, `scheduled_at-desc`.

- status







string














Filter charges by status.

Available status: `success`, `queued`, `error`, `refunded`, `partially_refunded`, `skipped`, `pending_manual_payment`, `pending`.

- updated\_at\_max







string














Show charges updated before the given date.

- updated\_at\_min







string














Show charges updated after the given date.

- processed\_at\_min







string














Show charges processed after, and including, the given date.

- processed\_at\_max







string














Show charges processed before, and including, the given date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/charges


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next": "next_cursor",
  "previous": "previous_cursor",
  "charges": [\
    {\
      "id": 377749210,\
      "address_id": 42171447,\
      "analytics_data": {\
        "utm_params": [\
          {\
            "utm_source": "facebook",\
            "utm_medium": "cpc"\
          }\
        ]\
      },\
      "billing_address": {\
        "address1": "601 SW Washing St.",\
        "address2": "Suite 101",\
        "city": "Portland",\
        "company": "Acme Corp",\
        "country_code": "US",\
        "first_name": "Jane",\
        "last_name": "Doe",\
        "phone": "888-888-8888",\
        "province": "Oregon",\
        "zip": "97205"\
      },\
      "client_details": {\
        "browser_ip": "192.168.0.1",\
        "user_agent": "safari webkit"\
      },\
      "created_at": "2021-11-09T19:22:13+00:00",\
      "currency": "USD",\
      "customer": {\
        "id": 37657002,\
        "email": "test@test.com",\
        "external_customer_id": {\
          "ecommerce": "2879413682227"\
        },\
        "hash": "7e706455cbd13e40"\
      },\
      "discounts": [\
        {\
          "id": 12345,\
          "code": "TESTCODE10",\
          "value": 10,\
          "value_type": "fixed_amount"\
        }\
      ],\
      "error": null,\
      "error_type": null,\
      "external_order_id": {\
        "ecommerce": "2541635698739"\
      },\
      "external_transaction_id": {\
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"\
      },\
      "has_uncommitted_changes": false,\
      "line_items": [\
        {\
          "purchase_item_id": 63898947,\
          "external_product_id": {\
            "ecommerce": "4381728735283"\
          },\
          "external_variant_id": {\
            "ecommerce": "999999999999"\
          },\
          "grams": 454,\
          "handle": "shirt-package",\
          "images": {\
            "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
            "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
            "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
            "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
          },\
          "original_price": "10.00",\
          "properties": [\
            {\
              "name": "Color",\
              "value": "Blue"\
            }\
          ],\
          "purchase_item_type": "subscription",\
          "quantity": 1,\
          "sku": "TOM0001",\
          "tax_due": "1.30",\
          "tax_lines": [\
            {\
              "price": "0.9931",\
              "rate": "0.0725",\
              "title": "CA State Tax",\
              "unit_price": "0.3310"\
            },\
            {\
              "price": "0.3082",\
              "rate": "0.0225",\
              "title": "LA County Tax",\
              "unit_price": "0.1027"\
            }\
          ],\
          "taxable": true,\
          "taxable_amount": "10.00",\
          "title": "Shirt package",\
          "total_price": "11.30",\
          "unit_price": "10.00",\
          "unit_price_includes_tax": false,\
          "variant_title": "Blue T-shirt"\
        }\
      ],\
      "note": "next order in sequence 3",\
      "order_attributes": [\
        {\
          "name": "Checkout-Method",\
          "value": "delivery"\
        }\
      ],\
      "orders_count": 1,\
      "payment_processor": "stripe",\
      "processed_at": "2021-11-09T23:59:31+00:00",\
      "retry_date": "2021-01-01",\
      "scheduled_at": "2021-12-09",\
      "shipping_address": {\
        "address1": "1030 Barnum Ave",\
        "address2": "Suite 101",\
        "city": "Stratford",\
        "company": "Fake Company",\
        "country_code": "US",\
        "first_name": "Fake First",\
        "last_name": "Fake Last",\
        "phone": "999-999-9999",\
        "province": "Connecticut",\
        "zip": "06614"\
      },\
      "shipping_lines": [\
        {\
          "code": "Standard",\
          "price": "4.90",\
          "source": "shopify",\
          "taxable": true,\
          "tax_lines": [\
            {\
              "price": "0.355",\
              "rate": 0.0725,\
              "title": "CA State Tax"\
            },\
            {\
              "price": "0.110",\
              "rate": 0.0225,\
              "title": "Los Angeles  County Tax"\
            }\
          ],\
          "title": "Standard"\
        }\
      ],\
      "status": "success",\
      "subtotal_price": "10.00",\
      "tags": "Subscription, Subscription Recurring Order",\
      "tax_lines": [\
        {\
          "price": "0.950",\
          "rate": 0.0725,\
          "title": "CA State Tax"\
        },\
        {\
          "price": "0.335",\
          "rate": 0.0225,\
          "title": "Los Angeles  County Tax"\
        }\
      ],\
      "taxable": true,\
      "taxes_included": true,\
      "total_discounts": "10.0",\
      "total_line_items_price": "10.00",\
      "total_price": "11.29",\
      "total_refunds": "0.00",\
      "total_tax": "1.29",\
      "total_weight_grams": 454,\
      "type": "recurring",\
      "updated_at": "2021-11-09T23:59:32+00:00"\
    }\
  ]
}
```

# Apply a discount

Endpoint for adding `Discount` to an existing queued `Charge`.

You cannot add a `Discount` to an existing queued `Charge` if the `Charge` or the associated `Address` already has one.

You can provide either `discount_id` or `discount_code`. If both parameters are passed, the value for `discount_id` will take precedence.

If a `Charge` has a `Discount` and it gets updated, or a regeneration occurs, the `Discount` will be lost. Regeneration is a process that refreshes the `Charge` JSON with new data in the case of the `Subscription` or `Address` being updated.

Scopes:
write\_orders


##### Body Parameters

- discount\_code







string














Code of the `Discount` you want to apply to a `Charge`.

- discount\_id







integer














ID of the `Discount` you want to apply to a `Charge`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/apply\_discount


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/105805051/apply_discount' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"discount_code": "test"}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": "2021-01-01",
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Remove a discount

Remove a `Discount` from a `Charge` without destroying the `Discount`.

## HTTP request examples

`POST /charges/<charge_id>/remove_discount/`

In most cases the `Discount` should be removed from the `Address`. When the `Discount` is removed from the `Address`, the `Discount` is also removed from any future `Charges`.

If the `Discount` is on the parent `Address`, you cannot remove it using `charge_id`. When removing your `Discount`, it is preferable to pass the `address_id` so that the `Discount` stays removed if the `Charge` is regenerated. Only pass `charge_id` in edge cases in which there are two or more `Charges` on a parent `Address` and you only want to remove the `Discount` from one `Charge`. If you pass both parameters, it will remove the `Discount` from the `Address`.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/remove\_discount


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/459904607/remove_discount' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": "2021-01-01",
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Skip a charge

Skip a `Charge`.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/skip


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210/skip' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"purchase_item_ids": [27363808, 27363809]}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": null,
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "skipped",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Unskip a charge

Unskip a `Charge`.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object


- 422




















Unprocessable










Show response object



POST

/charges/{id}/unskip


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210/unskip' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"purchase_item_ids": [27363808]}'
```

Response

200

422


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": null,
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "queued",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Refund a charge

[BigCommerce](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Refund a `Charge`.

After the `POST` request, that particular `Charge` will have `status` parameter updated to `refunded` or `partially_refunded` depending on the value of the `amount` parameter. If `retry` is `true`, `error` and `error_type` are required, the `Charge` will have `status` parameter updated to `error`. This means a new transaction would occur if the charge dunning process succeeds again. This functionality is used when the order submission attempt on the remote platform failed after the transaction succeeded.

Scopes:
write\_orders

write\_payment\_methods


##### Body Parameters

- amount







string





\\* Required














Amount of money that will be refunded. It can be fully or partially refunded.

- full\_refund







boolean














If this parameter has value `true`, the `Charge` will be totally refunded.

- retry







boolean














If this parameter has value `true` and `full_refund` has value `true`, the `Charge` will be retried. The `status` on the `Charge` will be returned as “error”.

- error







string














If the `retry` parameter has value `true`, this value is required. Valid values are “insufficient\_inventory”.

- error\_type







string














If the `retry` parameter has value `true`, this value is required.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/refund


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/377749210/refund' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"amount": 11.00}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "refunded",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "11.29",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Process a charge

Pro only

The charge processing route can be used to process `Charges` that are in a `queued` or `error` status.

Related guides:
[Charges FAQ](https://docs.rechargepayments.com/docs/charges#charges-faq)

The `/charges/{id}/process` endpoint is available to Recharge Pro merchants on a request basis. If you’re interested in leveraging the Recharge `Charge` processing API, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_payments


##### Responses

- 200




















successful response










Show response object



POST

/charges/{id}/process


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/100714428/process' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Capture a charge

If you are leveraging the authorize/capture workflow with Recharge, the `charge/{id}/capture_payment` endpoint is how to capture the funds of a previously authorized `Charge`.

## Capture Window

You can only capture payment on `Charges` that have been authorized within the last 7 days. This is a limitation of payment providers/financial institutions and Recharge cannot configure or override this limit. Any `Charges` that are attempted to be captured beyond that 7 day window may result in an error indicating the `Charge` cannot be captured.

As a result, Recharge provides a `charge/uncaptured` `Webhook`. If subscribed, this `Webhook` will notify you of any `Charges` that are not captured 6 days after authorization. Please refer to the [webhooks section](https://developer.getrecharge.com/2021-01/webhooks_endpoints) for more information.

The `/charges/{id}/capture_payment` endpoint is available to Recharge Pro merchants in the Recharge Closed Beta group. If you’re interested in leveraging the Recharge `capture_payment` endpoint, reach out to your account manager or our Support team.

[Learn more about Recharge Pro](https://rechargepayments.com/products/).

Scopes:
write\_customers

write\_orders

write\_payment\_methods

write\_subscriptions


##### Responses

- 200




















Charge captured successfully










Show response object


- 400




















Bad Request










Show response object


- 404




















Not Found










Show response object


- 422




















Unprocessable










Show response object



POST

/charges/{id}/capture\_payment


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/charges/100714428/capture_payment' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200

400

404

422


```hljs json
{
  "charge": {
    "id": 377749210,
    "address_id": 42171447,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "Suite 101",
      "city": "Portland",
      "company": "Acme Corp",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2021-11-09T19:22:13+00:00",
    "currency": "USD",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "2879413682227"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "error_type": null,
    "external_order_id": {
      "ecommerce": "2541635698739"
    },
    "external_transaction_id": {
      "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
    },
    "has_uncommitted_changes": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "handle": "shirt-package",\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_due": "1.30",\
        "tax_lines": [\
          {\
            "price": "0.9931",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.3310"\
          },\
          {\
            "price": "0.3082",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.1027"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt package",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue T-shirt"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "Checkout-Method",\
        "value": "delivery"\
      }\
    ],
    "orders_count": 1,
    "payment_processor": "stripe",
    "processed_at": "2021-11-09T23:59:31+00:00",
    "retry_date": null,
    "scheduled_at": "2021-12-09",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "source": "shopify",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": 0.0725,\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": 0.0225,\
            "title": "Los Angeles  County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.0",
    "total_line_items_price": "10.00",
    "total_price": "11.29",
    "total_refunds": "0.00",
    "total_tax": "1.29",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2021-11-09T23:59:32+00:00"
  }
}
```

# Checkouts

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

`Checkouts` allow you to create, update, and process a `Checkout` programmatically. Shipping cost and sales tax determination are automatic functions of the Recharge Checkout resource.

Related guides: [Recharge checkout integrations](https://docs.rechargepayments.com/docs/checkout), [How to use the Checkout resource](https://docs.rechargepayments.com/docs/checkouts#how-to-use-checkout-api)

**Important -** The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Endpoints

POST

/checkouts


GET

/checkouts/{token}


POST

/checkouts


PUT

/checkouts/{token}


GET

/checkouts/{token}/shipping\_rates


POST

/checkouts/{token}/charge


# The checkout object

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

`Checkouts` resource allows you to create, update, and process a checkout programmatically. Shipping cost and sales tax determination are automatic functions of the Recharge Checkout resource.

The `Checkout` endpoints are only available for BigCommerce and Custom. `Checkouts` on Shopify must go through Shopify.

##### Attributes

- charge\_id







integer














ID for the `Charge` resulting from processing the `Checkout`.

- analytics\_data







object














Urchin Tracking Module (UTM) parameters are used for online marketing campaigns.










Show object attributes


- applied\_discounts







array














`Discount` details, populated once the `Discount` has been applied successfully to the `Checkout`.










Show object attributes


- applied\_shipping\_rate







object














Shipping rates details, populated once the rates have been selected and applied successfully to the `Checkout`.










Show object attributes


- available\_shipping\_rates







array














Shipping rates available for the shipping address provided in the `Checkout`.







`Checkout` object must contain the `shipping_address` before the `available_shipping_rates` are populated.










Show object attributes


- billing\_address







object














Billing `Address` for the `Checkout`.










Show object attributes


- completed\_at







datetime














Timestamp for when the `Checkout` was processed.

- created\_at







datetime














Timestamp for when the `Checkout` was created.

- currency







string














Currency of the `Checkout`.

- email







string














Email address for the `Customer`.

- external\_checkout\_id







string














External checkout reference, if one exists.

- external\_checkout\_source







string














External checkout platform, if one exists.

- external\_customer\_id







object














External customer reference, if one exists.










Show object attributes


- external\_transaction\_id







object














The ID of the associated transaction in a payment processor system (like Stripe).










Show object attributes


- line\_items







array














A list of items included in the `Checkout`







`quantity` and `external_variant_id` are required parameters in `line_items`.










Show object attributes


- note







string














Custom note.

- notification\_preferences







object














Notification preferences for the `Customer`.










Show object attributes


- order\_attributes







array














List of name-value pairs for custom attributes.










Show object attributes


- payment\_processor







string














Name of the payment processor.

- requires\_shipping







boolean














Whether or not the `Checkout` contains items that require shipping.

- shipping\_address







object














Shipping `Address` for the `Checkout`.










Show object attributes


- shipping\_lines







object














Details of shipping rate, cost…










Show object attributes


- subtotal\_price







string














Value of the `Checkout` minus shipping and tax.

- tax\_lines







array














Array of `tax_line` objects.










Show object attributes


- taxable







boolean














Whether the `Checkout` contains items that are taxable.

- taxes\_included







boolean














Whether the tax is included in the price of the items.

- token







string














Unique token for the `Checkout`.

- total\_price







string














Full price of the `Checkout` including shipping and tax.

- total\_tax







string














Tax charged on the `Checkout`.

- updated\_at







datetime














Timestamp for the latest `Checkout` update.


##### Error related attributes

##### More Attributes

The checkout object

```hljs json
{
  "checkout": {
    "charge_id": null,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discounts": [\
      {\
        "amount": "5.00",\
        "applicable": true,\
        "discount_code": "5_DOLLARS_OFF",\
        "non_redeemable_reason": null,\
        "value": "5.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "applied_shipping_rate": {
      "checkout": {
        "subtotal_price": null,
        "total_price": null,
        "total_tax": null
      },
      "code": "Flat rate (3 - 7 Business Days)",
      "delivery_range": null,
      "description": null,
      "handle": "recharge-Flat%20rate%20%283%20-%207%20Business%20Days%29-7.49",
      "name": "Flat rate (3 - 7 Business Days)",
      "phone_required": null,
      "price": "7.49",
      "tax_lines": [],
      "title": "Flat rate (3 - 7 Business Days)"
    },
    "available_shipping_rates": [\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "Flat rate (3 - 7 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-Flat%20rate%20%283%20-%207%20Business%20Days%29-7.49",\
        "name": "Flat rate (3 - 7 Business Days)",\
        "phone_required": null,\
        "price": "7.49",\
        "tax_lines": [],\
        "title": "Flat rate (3 - 7 Business Days)"\
      },\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "3 Days (3 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-3%20Days%20%283%20Business%20Days%29-11.75",\
        "name": "3 Days (3 Business Days)",\
        "phone_required": null,\
        "price": "11.75",\
        "tax_lines": [],\
        "title": "3 Days (3 Business Days)"\
      }\
    ],
    "billing_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "completed_at": null,
    "created_at": "2021-11-16T00:51:28+00:00",
    "currency": "USD",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "<external_cart_id>",
    "external_checkout_source": "custom",
    "external_customer_id": {
      "ecommerce": null,
      "payment_processor": null
    },
    "external_transaction_id": {
      "payment_processor": null
    },
    "line_items": [\
      {\
        "id": 0,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "12345"\
        },\
        "external_variant_id": {\
          "ecommerce": "123456"\
        },\
        "handle": "shirt-with-design",\
        "images": {\
          "small": "https://veryniceimage.jpg"\
        },\
        "properties": [\
          {\
            "name": "size",\
            "value": "xl"\
          }\
        ],\
        "purchase_item_type": "onetime",\
        "quantity": 3,\
        "recurring_unit_price": "12.00",\
        "requires_shipping": true,\
        "sku": null,\
        "subscription_preferences": {\
          "charge_delay": null,\
          "charge_interval_frequency": null,\
          "charge_on_day_of_month": null,\
          "charge_on_day_of_week": null,\
          "number_charges_until_expiration": null,\
          "shipping_interval_frequency": null,\
          "shipping_interval_unit_type": null\
        },\
        "tax_lines": [],\
        "taxable": false,\
        "title": "A Nice Shirt",\
        "total_price": "36.00",\
        "unit_price": "12.00",\
        "variant_title": null,\
        "weight": 340,\
        "weight_unit": "g"\
      }\
    ],
    "note": "flash sale",
    "notification_preferences": {
      "email": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      },
      "sms": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      }
    },
    "order_attributes": {
      "customer_niceness": "very"
    },
    "payment_processor": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "shipping_lines": [\
      {\
        "code": "Flat rate (3 - 7 Business Days)",\
        "price": "7.49",\
        "tax_lines": [],\
        "taxable": false,\
        "title": "Flat rate (3 - 7 Business Days)"\
      }\
    ],
    "subtotal_price": "31.00",
    "tax_lines": [],
    "taxable": false,
    "taxes_included": false,
    "token": "efd5a6b12b984f439ec16ce2a00fb5c3",
    "total_price": "31.00",
    "total_tax": "0.00",
    "updated_at": "2021-11-16T00:51:28+00:00"
  }
}
```

# Create a checkout

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Create a `Checkout`

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Scopes:
write\_checkouts


##### Query Parameters

- get\_shipping\_rates







boolean














If specified as a query parameter, shipping rates will be retrieved and will allow providing applied\_shipping\_rate upon checkout creation.


##### More Parameters

##### Body Parameters

- analytics\_data







object














Urchin Tracking Module (UTM) parameters are used for online marketing campaigns.










Show object attributes


- applied\_discounts







array














`Discount` to apply to the `Checkout`.










Show object attributes


- applied\_shipping\_rate







object














Shipping rates details, populated once the rates have been selected and applied successfully to the `Checkout`.







Important: You can only create a checkout with `applied_shipping_rate` if you pass the query parameter `get_shipping_rates=true` or if you supply a list of shipping rates using `custom_shipping_rate_options`.










Show object attributes


- custom\_shipping\_rate\_options







array














List of available shipping rates to use when selecting a shipping rate with `applied_shipping_rate`. Custom shipping rates will take precedence over any default rates fetched using `get_shipping_rates=true`.










Show object attributes


- billing\_address







object














Billing `Address` for the `Checkout`.










Show object attributes


- currency







string














Currency of the `Checkout`.

- email







string














Email address for the `Customer`.

- external\_checkout\_id







string














External checkout reference, if one exists.

- external\_checkout\_source







string














External checkout platform, if one exists.

- external\_transaction\_id







object














The ID of the associated transaction in a payment processor system (like Stripe).










Show object attributes


- line\_items







array





\\* Required














A list of items included in the `Checkout`







`quantity` and `external_variant_id` are required parameters in `line_items`.










Show object attributes


- note







string














Custom note.

- order\_attributes







array














List of name-value pairs for custom attributes.










Show object attributes


- shipping\_address







object














Shipping `Address` for the `Checkout`.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/checkouts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "analytics_data": {
    "utm_params": [\
      {\
        "utm_campaign": "spring_sale",\
        "utm_content": "textlink",\
        "utm_data_source": "shopify_cookie",\
        "utm_medium": "cpc",\
        "utm_source": "google",\
        "utm_term": "mleko",\
        "utm_timestamp": "2020-03-05T00:00:00"\
      }\
    ]
  },
  "applied_discounts": [\
    {\
      "discount_code": "5_DOLLARS_OFF"\
    }\
  ],
  "billing_address": {
    "address1": "6419 Ocean Front Walk",
    "address2": "Apt 2",
    "city": "Los Angeles",
    "company": "",
    "country_code": "US",
    "first_name": "Novak",
    "last_name": "Djokovic",
    "phone": "1-800-800-8000",
    "province": "California",
    "zip": "90293"
  },
  "email": "somerandomemail@test.com",
  "external_checkout_id": "<external_cart_id>",
  "external_checkout_source": "custom",
  "line_items": [\
    {\
      "external_product_id": {\
        "ecommerce": "12345"\
      },\
      "external_variant_id": {\
        "ecommerce": "123456"\
      },\
      "handle": "shirt-with-design",\
      "images": {\
        "small": "http://small.jpg"\
      },\
      "properties": [\
        {\
          "name": "size",\
          "value": "xl"\
        },\
        {\
          "name": "color",\
          "value": "fuchsia"\
        }\
      ],\
      "quantity": 3,\
      "subscription_preferences": {\
        "charge_interval_frequency": null,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": null,\
        "interval_unit": null,\
        "order_day_of_month": null,\
        "order_day_of_week": null,\
        "order_interval_frequency": null\
      },\
      "tax_lines": [\
        {\
          "price": "0.950",\
          "rate": 0.0725,\
          "title": "CA State Tax"\
        }\
      ]\
    }\
  ],
  "note": "flash sale",
  "order_attributes": {
    "customer_niceness": "very"
  },
  "shipping_address": {
    "address1": "6419 Ocean Front Walk",
    "address2": "Apt 2",
    "city": "Los Angeles",
    "company": "",
    "country_code": "US",
    "first_name": "Novak",
    "last_name": "Djokovic",
    "phone": "1-800-800-8000",
    "province": "California",
    "zip": "90293"
  }
}'
```

Response

200


```hljs json
{
  "checkout": {
    "charge_id": null,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "shopify_cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discounts": [\
      {\
        "amount": "5.00",\
        "applicable": true,\
        "discount_code": "5_DOLLARS_OFF",\
        "non_redeemable_reason": null,\
        "value": "5.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "billing_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "completed_at": null,
    "created_at": "2021-11-16T00:51:28+00:00",
    "currency": "USD",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "f71848585658686-36f6-d9efg8125rogkfdaa",
    "external_checkout_source": "custom",
    "external_customer_id": {
      "ecommerce": null,
      "payment_processor": null
    },
    "external_transaction_id": {
      "payment_processor": null
    },
    "line_items": [\
      {\
        "id": null,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "12345"\
        },\
        "external_variant_id": {\
          "ecommerce": "123456"\
        },\
        "handle": "shirt-with-design",\
        "images": {\
          "small": "http://small.jpg"\
        },\
        "properties": [\
          {\
            "name": "size",\
            "value": "xl"\
          },\
          {\
            "name": "color",\
            "value": "fuchsia"\
          }\
        ],\
        "purchase_item_type": "onetime",\
        "quantity": 3,\
        "requires_shipping": true,\
        "sku": null,\
        "subscription_preferences": {\
          "charge_interval_frequency": null,\
          "cutoff_day_of_month": null,\
          "cutoff_day_of_week": null,\
          "expire_after_specific_number_of_charges": null,\
          "interval_unit": null,\
          "order_day_of_month": null,\
          "order_day_of_week": null,\
          "order_interval_frequency": null\
        },\
        "tax_lines": [],\
        "taxable": false,\
        "title": "A Very Nice Shirt",\
        "total_price": "36.00",\
        "unit_price": "12.00",\
        "variant_title": null,\
        "weight": 340,\
        "weight_unit": "g"\
      }\
    ],
    "note": "flash sale",
    "notification_preferences": {
      "email": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      },
      "sms": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      }
    },
    "order_attributes": {
      "customer_niceness": "very"
    },
    "payment_processor": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "subtotal_price": "31.00",
    "tax_lines": [],
    "taxable": false,
    "taxes_included": false,
    "token": "efd5a6b12b984f439ec16ce2a00fb5c3",
    "total_price": "31.00",
    "total_tax": "0.00",
    "updated_at": "2021-11-16T00:51:28+00:00"
  }
}
```

# Retrieve a checkout

Pro plan

[BigCommerce](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Retrieve a checkout.

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Scopes:
read\_checkouts


##### Responses

- 200




















successful response










Show response object



GET

/checkouts/{token}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts/6a7c36a1213a4d7fb746e6588fa55005' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

200


```hljs json
{
  "checkout": {
    "charge_id": null,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "shopify_cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discounts": [\
      {\
        "amount": "5.00",\
        "applicable": true,\
        "discount_code": "5_DOLLARS_OFF",\
        "non_redeemable_reason": null,\
        "value": "5.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "applied_shipping_rate": {
      "checkout": {
        "subtotal_price": null,
        "total_price": null,
        "total_tax": null
      },
      "code": "3 Days (3 Business Days)",
      "delivery_range": null,
      "description": null,
      "handle": "recharge-3%20Days%20%283%20Business%20Days%29-11.75",
      "name": "3 Days (3 Business Days)",
      "phone_required": null,
      "price": "11.75",
      "tax_lines": [],
      "title": "3 Days (3 Business Days)"
    },
    "available_shipping_rates": [\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "Flat rate (3 - 7 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-Flat%20rate%20%283%20-%207%20Business%20Days%29-7.49",\
        "name": "Flat rate (3 - 7 Business Days)",\
        "phone_required": null,\
        "price": "7.49",\
        "tax_lines": [],\
        "title": "Flat rate (3 - 7 Business Days)"\
      },\
      {\
        "checkout": {\
          "subtotal_price": null,\
          "total_price": null,\
          "total_tax": null\
        },\
        "code": "3 Days (3 Business Days)",\
        "delivery_range": null,\
        "description": null,\
        "handle": "recharge-3%20Days%20%283%20Business%20Days%29-11.75",\
        "name": "3 Days (3 Business Days)",\
        "phone_required": null,\
        "price": "11.75",\
        "tax_lines": [],\
        "title": "3 Days (3 Business Days)"\
      }\
    ],
    "billing_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "completed_at": null,
    "created_at": "2021-11-16T00:51:28+00:00",
    "currency": "USD",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "<external_cart_id>",
    "external_checkout_source": "headless",
    "external_customer_id": {
      "ecommerce": null,
      "payment_processor": null
    },
    "external_transaction_id": {
      "payment_processor": null
    },
    "line_items": [\
      {\
        "id": null,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "12345"\
        },\
        "external_variant_id": {\
          "ecommerce": "123456"\
        },\
        "handle": "shirt-with-design",\
        "images": {\
          "small": "http://small.jpg"\
        },\
        "properties": [\
          {\
            "name": "size",\
            "value": "xl"\
          }\
        ],\
        "purchase_item_type": "onetime",\
        "quantity": 3,\
        "requires_shipping": true,\
        "sku": null,\
        "subscription_preferences": {\
          "charge_interval_frequency": null,\
          "cutoff_day_of_month": null,\
          "cutoff_day_of_week": null,\
          "expire_after_specific_number_of_charges": null,\
          "interval_unit": null,\
          "order_day_of_month": null,\
          "order_day_of_week": null,\
          "order_interval_frequency": null\
        },\
        "tax_lines": [],\
        "taxable": false,\
        "title": "A Very Nice Shirt",\
        "total_price": "36.00",\
        "unit_price": "12.00",\
        "variant_title": null,\
        "weight": 340,\
        "weight_unit": "g"\
      }\
    ],
    "note": "flash sale",
    "notification_preferences": {
      "email": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      },
      "sms": {
        "promotional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "replenishment": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        },
        "transactional": {
          "last_opt_in_at": null,
          "last_opt_in_source": null,
          "last_opt_out_at": null,
          "last_opt_out_source": null,
          "status": "unspecified"
        }
      }
    },
    "order_attributes": {
      "customer_niceness": "very"
    },
    "payment_processor": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": null,
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "subtotal_price": "31.00",
    "tax_lines": [],
    "taxable": false,
    "taxes_included": false,
    "token": "efd5a6b12b984f439ec16ce2a00fb5c3",
    "total_price": "31.00",
    "total_tax": "0.00",
    "updated_at": "2021-11-16T00:51:28+00:00"
  }
}
```

# Update a checkout

You can modify an existing checkout to match the specified parameters.

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

Scopes:
write\_checkouts


##### Query Parameters

- get\_shipping\_rates







boolean














If specified as a query parameter, shipping rates will be retrieved and will allow providing applied\_shipping\_rate upon checkout update.


##### More Parameters

##### Body Parameters

- analytics\_data







array














Urchin Tracking Module (UTM) parameters are used for online marketing campaigns.










Show object attributes


- applied\_shipping\_rate







object














Shipping rates details, populated once the rates have been selected and applied successfully to the `Checkout`.







Important: You can only set `applied_shipping_rate` if you have already collected the `available_shipping_rates` by calling `GET /checkout/<checkout_token>/shipping_rates` or if you pass the query parameter `get_shipping_rates=true` when calling this route.



`code`, `price` and `title` are required when setting a custom shipping rate










Show object attributes


- billing\_address







object














Billing address for the checkout.










Show object attributes


- buyer\_accepts\_marketing







boolean














Does the buyer accept marketing, newsletters etc.

- discount\_code







string














Discount code to be used on the checkout, e.g. “DISCOUNT20”.

- currency







string














Currency of the `Checkout`.

- email







string














Email address for the customer.

- external\_checkout\_id







string














Represents the external cart token.

- external\_checkout\_source







string














Represents the source for `external_checkout_id`.

- line\_items







array














`quantity`, `product_id` and `variant_id` are required parameters in line\_items.










Show object attributes


- note







string














Note attribute used to store custom notes.

- partial\_shipping







boolean














When set to true, shipping address validations are reduced to only require country and zip when creating/updating a checkout. The full shipping address including address line 1 must be added to the checkout before processing associated charges. This is helpful for mobile payments.



Related guides: [Mobile payments](https://docs.rechargepayments.com/docs/checkouts#mobile-payments-with-checkout-api)

- order\_attributes







array














Structured custom notes.










Show object attributes


- phone







string














Customer phone number.

- shipping\_address







object














Shipping address for the checkout.







When using mobile payment options, insufficient shipping address data is available until payment intent, which causes validation errors when updating the checkout object.



Related guides: [Checkout mobile payment](https://docs.rechargepayments.com/docs/checkouts#mobile-payments-with-checkout-api)










Show object attributes


- shipping\_line







array














Shipping lines.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/checkouts/{token}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/checkouts/b706eecfd66c45329d3886a02d7515d6' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "line_items": [\
    {\
      "product_id": 4546063663207,\
      "quantity": 6,\
      "variant_id": 3844924611\
    }\
  ]
}'
```

Response

200


```hljs json
{
  "checkout": {
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_campaign": "spring_sale",\
          "utm_content": "textlink",\
          "utm_data_source": "shopify_cookie",\
          "utm_medium": "cpc",\
          "utm_source": "google",\
          "utm_term": "mleko",\
          "utm_timestamp": "2020-03-05T00:00:00+00:00"\
        }\
      ]
    },
    "applied_discount": {
      "amount": "7.50",
      "applicable": true,
      "non_applicable_reason": "",
      "value": "7.50",
      "value_type": "fixed_amount"
    },
    "billing_address": null,
    "buyer_accepts_marketing": false,
    "charge_id": null,
    "completed_at": null,
    "created_at": "2020-07-10T09:21:46.259352+00:00",
    "currency": "USD",
    "discount_code": "POPUS_25",
    "email": "somerandomemail@test.com",
    "external_checkout_id": "<shopify_cart_token>",
    "external_checkout_source": "shopify",
    "line_items": [\
      {\
        "charge_interval_frequency": 5,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": null,\
        "first_recurring_charge_delay": null,\
        "fulfillment_service": "manual",\
        "image": "//cdn.shopify.com/s/files/1/0279/8387/2103/products/kazan_small.jpg?v=1586451337",\
        "line_price": "30.00",\
        "order_day_of_month": null,\
        "order_day_of_week": null,\
        "order_interval_frequency": 5,\
        "order_interval_unit": "day",\
        "order_interval_unit_type": "day",\
        "original_price": "5.00",\
        "price": "5.00",\
        "product_id": 4546063663207,\
        "product_type": "Milk",\
        "properties": null,\
        "quantity": 6,\
        "recurring_price": "5.00",\
        "requires_shipping": true,\
        "sku": "kRaViCah-1",\
        "tax_code": null,\
        "taxable": false,\
        "title": "Powder Milk",\
        "type": "SUBSCRIPTION",\
        "variant_id": 32165284380775,\
        "variant_title": "1 / Powder",\
        "vendor": "Imlek"\
      }\
    ],
    "note": null,
    "order_attributes": null,
    "payment_processor": null,
    "payment_processor_customer_id": null,
    "payment_processor_transaction_id": null,
    "phone": null,
    "requires_shipping": true,
    "shipping_address": {
      "address1": "6419 Ocean Front Walk",
      "address2": "Apt 2",
      "city": "Los Angeles",
      "company": "",
      "country_code": "US",
      "first_name": "Novak",
      "last_name": "Djokovic",
      "phone": "1-800-800-8000",
      "province": "California",
      "zip": "90293"
    },
    "shipping_address_validations": {
      "country_is_supported": true,
      "ups": true
    },
    "shipping_line": null,
    "shipping_rate": null,
    "subtotal_price": "22.50",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxes_included": false,
    "token": "b706eecfd66c45329d3886a02d7515d6",
    "total_price": "22.50",
    "total_tax": "0.00",
    "updated_at": "2020-07-10T09:21:46.284703+00:00"
  }
}
```

# Retrieve shipping rates

You can retrieve all shipping rates for a specific checkout.

Scopes:
read\_checkouts


##### Responses

- 200




















successful response










Show response object



GET

/checkouts/{token}/shipping\_rates


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts/6a7c36a1213a4d7fb746e6588fa55005/shipping_rates' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

200


```hljs json
{
  "shipping_rates": [\
    {\
      "checkout": {\
        "subtotal_price": "22.50",\
        "total_price": "42.40",\
        "total_tax": "0.00"\
      },\
      "code": "Standard",\
      "delivery_range": null,\
      "description": null,\
      "handle": "shopify-Standard-19.90",\
      "name": "Standard",\
      "phone_required": false,\
      "price": "19.90",\
      "title": "Standard"\
    }\
  ]
}
```

# Process a checkout

You can process and charge checkout using our API.

The `Checkout` endpoints are only available for BigCommerce and Custom. Checkouts on Shopify must go through Shopify.

We support **Stripe**, **Apple Pay**, **Google Pay**, and **Braintree** as payment processor.

If you are using test stripe keys, you can use `tok_visa` as your token.

Related guides: [Mobile payments](https://docs.rechargepayments.com/docs/checkouts#mobile-payments-with-checkout-api)

Scopes:
write\_checkouts


##### Body Parameters

- payment\_processor







string





\\* Required













Possible values:

stripe,

braintree,

authorize










The name of payment processor.

- payment\_token







string





\\* Required














Payment token that will be used in transaction.







For Stripe this field needs to be populated with a payment method.

For Braintree this field needs to be populated with a payment nonce.

- payment\_type







string













Possible values:

CREDIT\_CARD,

PAYPAL,

APPLE\_PAY,

GOOGLE\_PAY,

SEPA\_DEBIT










The payment type used for the `Checkout`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/checkouts/{token}/charge


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/checkouts/5a5c19ea31c44641855017f1276db959/process' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "payment_processor": "stripe",
  "payment_token": "<payment_token>",
  "payment_type": "CREDIT_CARD"
}'
```

Response

200


```hljs json
{
  "checkout_charge": {
    "authorization_token": null,
    "charge_id": 258065996,
    "free": false,
    "payment_processor": "stripe",
    "processor_customer_token": "cus_HcbgqiS49fABBg62E",
    "processor_payment_method_token": "pm_lkj3lkl4lk34",
    "payment_processor_transaction_id": "ch_1H3McXJ2zdqHvZaRd191xV2idRt",
    "payment_token": "tok_visa",
    "payment_type": "CREDIT_CARD",
    "status": "successful"
  }
}
```

# Collections

`Collections` allow to create and manage a logical list of `Products` called a `Collection`. A `Collection` contains an ordered list of `Products` and can be used for selective display of `Products` on chosen interfaces or for business logic automation (e.g. `Discounts` definition…).

Endpoints

POST

/collections


GET

/collections/{id}


PUT

/collections/{id}


DELETE

/collections/{id}


GET

/collections


GET

/collection\_products


POST

/collections/{id}/collection\_products-bulk


DELETE

/collections/{id}/collection\_products-bulk


Expand

# The collection object

##### Attributes

- id







integer














Unique numeric identifier for the `Collection`.

- created\_at







datetime














The date and time when the `Collection` was created.

- description







string














The `Collection` description. Used to store a detailed explanation of the `Collection` content and its purpose.

- sort\_order







string













Possible values:

id-asc,

id-desc,

title-asc,

title-desc,

created\_at-asc,

created\_at-desc










The order in which the `Products` in the collection should appear.

- title







string














The title of the `Collection`. A short descriptive definition of the `Collection`.

- type







string













Possible values:

manual










The type of the `Collection`.







`manual` stands for `Collections` which were manually created ie. when the products where explicitly selected to be part of the `Collection`.

- updated\_at







datetime














The date and time when the `Collection` was last updated.


##### Error related attributes

##### More Attributes

The collection object

```hljs json
{
  "id": 4021,
  "created_at": "2021-08-30T17:25:57+00:00",
  "description": "August 2021 cat products new release.",
  "sort_order": "id-desc",
  "title": "Cats Summer Collection",
  "type": "manual",
  "updated_at": "2021-08-30T17:25:57+00:00"
}
```

# Create a collection

Create a `Collection` in Recharge.

Scopes:
write\_products


##### Body Parameters

- description







string





\\* Required














The `Collection` description. Used to store a detailed explanation of the `Collection` content and its purpose.

- sort\_order







string













Default: id-desc









Possible values:

id-asc,

id-desc,

title-asc,

title-desc,

created-asc,

created-desc










The order in which the `Products` in the collection should appear.

- title







string





\\* Required














The title of the `Collection`. A short descriptive definition of the `Collection`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/collections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "description": "cat products new release",
  "title": "Cats Spring 2022"
}
```

Response

200


```hljs json
{
  "collection": {
    "id": 134157,
    "created_at": "2022-03-29T04:57:36+00:00",
    "description": "cat products new release",
    "sort_order": "id-desc",
    "title": "Cats Spring 2022",
    "type": "manual",
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Retrieve a collection

Retrieve one `Collection` using `collection_id`.

Scopes:
read\_products


##### Responses

- 200




















successful response










Show response object


- 404




















Not found










Show response object



GET

/collections/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collections/134157' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200

404


```hljs json
{
  "collection": {
    "id": 134157,
    "created_at": "2022-03-29T04:57:36+00:00",
    "description": "cat products new release",
    "sort_order": "id-desc",
    "title": "Cats Spring 2022",
    "type": "manual",
    "updated_at": "2022-03-29T04:57:36+00:00"
  }
}
```

# Update a collection

Modify an existing `Collection` to match the specified parameters.

Scopes:
write\_products


##### Body Parameters

- description







string














The `Collection` description. Used to store a detailed explanation of the `Collection` content and its purpose.

- sort\_order







string













Possible values:

id-asc,

id-desc,

title-asc,

title-desc,

created-asc,

created-desc










The order in which the `Products` in the collection should appear.

- title







string














The title of the `Collection`. A short descriptive definition of the `Collection`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 404




















Not found










Show response object


- 415




















Unprocessable entity










Show response object



PUT

/collections/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/collections/134157' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"sort_order": "title-asc"}'
```

Response

200

404

415


```hljs json
{
  "collection": {
    "id": 134157,
    "created_at": "2022-03-29T04:57:36+00:00",
    "description": "cats products new release",
    "sort_order": "title-asc",
    "title": "Cats Spring 2022",
    "type": "manual",
    "updated_at": "2022-03-29T05:27:39+00:00"
  }
}
```

# Delete a collection

Delete a `Collection`

For safety and good UX, you can only delete a `Collection` if it is not in use in the Customer Portal

Scopes:
write\_products


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object


- 404




















Not found










Show response object



DELETE

/collections/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/collections/134129' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204

404


```hljs json
{}
```

# List collections

Return a list of `Collections` in your store.

## HTTP request examples

`GET /collections`

`GET /collections?title=Cats`

Scopes:
read\_products


##### Query Parameters

- title







string














The title of the `Collection`. A short descriptive definition of the `Collection`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/collections


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collections' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "collections": [\
    {\
      "id": 134136,\
      "created_at": "2022-03-28T15:38:27+00:00",\
      "description": "cat products august 2022",\
      "sort_order": "title-asc",\
      "title": "Cats",\
      "type": "manual",\
      "updated_at": "2022-03-28T15:38:27+00:00"\
    },\
    {\
      "id": 134129,\
      "created_at": "2022-03-28T12:27:03+00:00",\
      "description": "kitten accessories soft.",\
      "sort_order": "id-asc",\
      "title": "Soft Kitty",\
      "type": "manual",\
      "updated_at": "2022-02-23T11:27:34+00:00"\
    }\
  ]
}
```

# List collections products

Return a list of the product ids included in `Collections` in your store.

## HTTP request examples

`GET /collection_products`

`GET /collection_products?collection_id=134157`

Scopes:
read\_products


##### Query Parameters

- collection\_id







integer














The id of the `Collection` for which you want to see the products.


##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 422




















Errors. Unprocessable entity.










Show response object



GET

/collection\_products


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/collection_products' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200

422


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "collection_products": [\
    {\
      "collection_id": 111733,\
      "created_at": "2022-03-30T18:12:09+00:00",\
      "external_product_id": "5",\
      "updated_at": "2022-03-30T18:12:09+00:00"\
    },\
    {\
      "collection_id": 111733,\
      "created_at": "2022-02-12T12:53:33+00:00",\
      "external_product_id": "2",\
      "updated_at": "2022-02-12T12:53:33+00:00"\
    },\
    {\
      "collection_id": 111735,\
      "created_at": "2022-02-12T06:46:49+00:00",\
      "external_product_id": "3",\
      "updated_at": "2022-02-12T06:46:49+00:00"\
    }\
  ]
}
```

# Add collection products

Add products to a `Collection` in Recharge.

Scopes:
write\_products


##### Body Parameters

- collection\_products







array





\\* Required














An array of products and their collection definition to be added to the `Collection`.







Important: there is a set limit of 250 products that can be added per request.










Show object attributes



##### More Parameters

##### Responses

- 201




















successful response










Show response object


- 422




















unprocessable entity










Show response object


- 500




















internal server error. (often the external\_product\_id entered does not exist)










Show response object



POST

/collections/{id}/collection\_products-bulk


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/collections/134129/collection_products-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "collection_products": [\
    {\
      "external_product_id": "7"\
      }\
    ]
}'
```

Response

201

422

500


```hljs json
{
  "collection_products": [\
    {\
      "collection_id": 111733,\
      "created_at": "2022-03-29T04:57:36+00:00",\
      "external_product_id": "7",\
      "updated_at": "2022-03-30T18:32:35+00:00"\
    }\
  ]
}
```

# Delete collection products

Removes products from a `Collection` in Recharge.

Scopes:
write\_products


##### Body Parameters

- collection\_products







array





\\* Required














The array of products to be removed from the `Collection` identified by their `external_product_id`.







Important: there is a set limit of 250 products that can be added per request.










Show object attributes



##### More Parameters

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object


- 404




















Not found










Show response object



DELETE

/collections/{id}/collection\_products-bulk


cURLPythonPHPRuby

```hljs js
curl '-X DELETE https://api.rechargeapps.com/collections/134129/collection_products-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "collection_products": [\
    {\
      "external_product_id": "7"\
      }\
    ]
}'
```

Response

204

404


```hljs json
{}
```

# Credits

Retain

The Credit Account object represents a set of positive and negative credit adjustments that when summed equal an available balance. Credit accounts may not have negative balances. A credit account may be associated with a customer, via the customer\_id attribute. A customer may be associated with many credit accounts.

A credit adjustment represents a financial adjustment to the balance of a Credit Account. An adjustment of type ‘credit’ results in an increase in the available balance of a credit account, where an adjustment of type ‘debit’ results in a decrease.

Access to the Credits endpoints are only available for merchants using [Retain](https://getrecharge.com/products/retain/).

Endpoints

GET

/credit\_accounts


GET

/credit\_accounts/{id}


GET

/credit\_adjustments


GET

/credit\_adjustments/{id}


GET

/credit\_accounts/{id}/credit\_adjustments


Expand

# The credit account object

##### Attributes

- id







integer














Unique numeric identifier for the Credit Account

- customer\_id







integer














Unique numeric identifier for the `customer` associated with the `credit_account`.

- available\_balance







string














The dollar amount of available credit in the credit account, in the associated Store’s default currency as configured in Recharge

- created\_at







datetime














The date and time at which the credit account was created.

- currency\_code







string














The currency code for the credit account.

- expires\_at







datetime














The date and time at which the credit account expires, and can no longer be adjusted.

- initial\_value







string














The initial value of the credit account at the time of creation.

- name







string














The name of the credit account

- type







string














The type of the credit account. Accepted values are `rewards` and `manual`.

- updated\_at







datetime














The date and time at which the credit account was last updated.


##### Error related attributes

##### More Attributes

The credit account object

```hljs json
{
  "credit_account": {
    "id": 697470,
    "customer_id": 36885098,
    "available_balance": "10.00",
    "created_at": "2024-07-08T20:40:30+00:00",
    "currency_code": "USD",
    "expires_at": null,
    "initial_value": "1.55",
    "name": "Reward Credit",
    "type": "reward",
    "updated_at": "2024-07-08T20:40:30+00:00"
  }
}
```

# List credit accounts

Return a list of credit accounts.

Scopes:
read\_credit\_accounts


##### Query Parameters

- customer\_id







string














Return the list of credit accounts linked to the given Recharge `customer_id`

- limit







string














The amount of results. Default is 50 while the maximum is 250.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/credit\_accounts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_accounts' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": "eyJzdGFydGluZ19iZWZvcmVfaWQiOjQ5ODg2NywibGFzdF92YWx1ZSI6NDk4ODY3LCJzb3J0X2J5IjoiaWQtZGVzYyIsImN1cnNvcl9kaXIiOiJuZXh0In0",
  "previous_cursor": null,
  "credit_accounts": [\
    {\
      "id": 697470,\
      "customer_id": 36885098,\
      "available_balance": "0.00",\
      "created_at": "2024-07-08T20:40:30+00:00",\
      "currency_code": "USD",\
      "expires_at": null,\
      "initial_value": "0.45",\
      "name": "Reward Credit",\
      "type": "reward",\
      "updated_at": "2024-07-08T20:40:30+00:00"\
    }\
  ]
}
```

# Retrieve a credit account

Retrieve one credit account using `credit_account_id`.

Scopes:
read\_credit\_accounts


##### Responses

- 200




















successful response










Show response object



GET

/credit\_accounts/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_accounts/697470' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "credit_account": {
    "id": 697470,
    "customer_id": 36885098,
    "available_balance": "0.00",
    "created_at": "2024-07-08T20:40:30+00:00",
    "currency_code": "USD",
    "expires_at": null,
    "initial_value": "0.45",
    "name": "Reward Credit",
    "type": "reward",
    "updated_at": "2024-07-08T20:40:30+00:00"
  }
}
```

# List credit adjustments

Retrieve a list of credit adjustments.

Scopes:
read\_credit\_adjustments


##### Query Parameters

- limit







string














The amount of results. Default is 50 while the maximum is 250.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/credit\_adjustments


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_adjustments' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": "eyJzdGFydGluZ19iZWZvcmVfaWQiOjQ4NjY4NDksImxhc3RfdmFsdWUiOjQ4NjY4NDksInNvcnRfYnkiOiJpZC1kZXNjIiwiY3Vyc29yX2RpciI6Im5leHQifQ",
  "previous_cursor": null,
  "credit_adjustments": [\
    {\
      "id": 4866849,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-08-08T04:06:37+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.00",\
      "note": "Amount related with shop order shop.myshopify.com. Address Id: 169902120 Charge Id: 1125729345",\
      "type": "debit",\
      "updated_at": "2024-08-08T04:06:37+00:00"\
    }\
  ]
}
```

# Retrieve a credit adjustment

Retrieve one credit adjustment using `credit_adjustment_id`.

Scopes:
read\_credit\_adjustments


##### Responses

- 200




















successful response










Show response object



GET

/credit\_adjustments/{id}


cURLPythonPHPRuby

```hljs js
curl 'api.rechargeapps.com/credit_adjustments/4866849' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": "eyJzdGFydGluZ19iZWZvcmVfaWQiOjQ4NjY4NDksImxhc3RfdmFsdWUiOjQ4NjY4NDksInNvcnRfYnkiOiJpZC1kZXNjIiwiY3Vyc29yX2RpciI6Im5leHQifQ",
  "previous_cursor": null,
  "credit_adjustments": [\
    {\
      "id": 4866849,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-08-08T04:06:37+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.00",\
      "note": "Amount related with shop order jordans-curious-tomatoes.myshopify.com Address Id: 169902120 Charge Id: 1125729345",\
      "type": "debit",\
      "updated_at": "2024-08-08T04:06:37+00:00"\
    }\
  ]
}
```

# List Credit Adjustments for a Credit Account

Retrieve credit adjustments associated with specific credit account using `credit_account_id`.

Scopes:
read\_credit\_adjustments


##### Query Parameters

- limit







string














The amount of results. Default is 50 while the maximum is 250.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/credit\_accounts/{id}/credit\_adjustments


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/credit_accounts/697470/credit_adjustments' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "credit_adjustments": [\
    {\
      "id": 4866849,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-08-08T04:06:37+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.00",\
      "note": "Amount related with shop order store.myshopify.com Address Id: 169902120 Charge Id: 1125729345",\
      "type": "debit",\
      "updated_at": "2024-08-08T04:06:37+00:00"\
    },\
    {\
      "id": 4719708,\
      "credit_account_id": 697470,\
      "amount": "0.45",\
      "created_at": "2024-07-08T20:40:31+00:00",\
      "currency_code": "USD",\
      "ending_balance": "0.45",\
      "note": "3% Cash back on curious tomatoes",\
      "type": "credit",\
      "updated_at": "2024-07-08T20:40:31+00:00"\
    }\
  ]
}
```

# Customers

The `Customer` object holds account information. Email is unique on the `Customer`; no two customers for a store can have the same email. `Address` is a child of the `Customer` object. There can be many child `Addresses` on a customer, but only one parent `Customer` per `Address`. ![](https://developer.getrecharge.com/images/customer.png)

Endpoints

POST

/customers


GET

/customers/{id}


PUT

/customers/{id}


DELETE

/customers/{id}


GET

/customers


GET

/customers/{id}/delivery\_schedule


GET

/customers/{id}/credit\_summary


Expand

# The customer object

##### Attributes

- id







integer














Unique numeric identifier for the `Customer`.

- analytics\_data







object














An object containing analytics data associated with the customer.










Show object attributes


- apply\_credit\_to\_next\_recurring\_charge







boolean














A boolean that indicates whether Recharge credits will be applied to the next recurring charge.

- created\_at







datetime














The date and time when the customer was created.

- email







string














The email address of the customer.

- external\_customer\_id







object














An object containing external ids for the customer record.










Show object attributes


- first\_charge\_processed\_at







datetime














Date when first charge was processed for the customer.

- first\_name







string














The customer’s first name.

- has\_payment\_method\_in\_dunning







boolean














A boolean that indicates if the customer has a payment method that is in dunning (failed charge).

- has\_valid\_payment\_method







boolean














Is the payment method valid or not.

- hash







string














The unique string identifier used in a customers portal link.

- last\_name







string














The customer’s last name.

- phone







string














The customer’s phone number.

- subscriptions\_active\_count







integer














The number of active subscriptions on addresses associated with the customer.

- subscriptions\_total\_count







integer














The total number of subscriptions created on addresses associated with the customer.

- subscription\_related\_charge\_streak







integer














The number of consecutive subscription-related charges processed for this customer, while they retain at least one active subscription. When all subscriptions for this customer are cancelled or expired, this value will reset to zero.

- tax\_exempt







boolean














Whether the customer tax exempt or not.

- updated\_at







datetime














The date and time when the customer was last updated.


##### Error related attributes

##### More Attributes

The customer object

```hljs json
{
  "id": 18819267,
  "analytics_data": {
    "utm_params": [\
      {\
        "utm_source": "facebook",\
        "utm_medium": "cpc"\
      }\
    ]
  },
  "created_at": "2018-11-14T08:40:38+00:00",
  "email": "example_mail@gmail.com",
  "external_customer_id": {
    "ecommerce": "126576412310131454"
  },
  "first_charge_processed_at": null,
  "first_name": "Jacob",
  "has_payment_method_in_dunning": false,
  "has_valid_payment_method": false,
  "hash": "18819267b1f9095be98f13a8",
  "last_name": "Bronowski",
  "phone": "+16175551212",
  "subscriptions_active_count": 0,
  "subscriptions_total_count": 1,
  "tax_exempt": false,
  "updated_at": "2020-11-14T08:40:38+00:00"
}
```

# Create a customer

[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[SCI](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Create a customer in Recharge.

If you plan to add payment information, **it must be the tokenized customer representation. We do not accept card data directly**. For Stripe users, please make sure it starts with ‘cus’ and not with a 'tok’, as the 'cus’ is prefix for customer token, and 'tok’ is prefix for payment token.

Creating a customer in Recharge will not create the customer on any other platform at this time.

`write_payment_methods` permission is only required when creating customers with payment token information, or updating payment token information on a customer.

`phone` must be in E.164 format, such as `+16175551212`.

Scopes:
write\_customers

write\_payment\_methods


##### Body Parameters

- email







string





\\* Required














The customer’s email address.

- external\_customer\_id







object














An object containing external ids for the customer record.










Show object attributes


- first\_name







string





\\* Required














The customer’s first name.

- last\_name







string





\\* Required














The customer’s last name.

- phone







string














The customer’s phone number.

- tax\_exempt







boolean














Whether or not the customer is tax exempt.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/customers


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "first_name": "Niels",
  "last_name": "Bohr",
  "email": "fake@example.com"
}
```

Response

200


```hljs json
{
  "customer": {
    "id": 37657002,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "created_at": "2020-02-19T17:40:07+00:00",
    "email": "fake@example.com",
    "external_customer_id": {
      "ecommerce": "2879413682227"
    },
    "first_charge_processed_at": "2020-02-19T17:40:11+00:00",
    "first_name": "Jane",
    "has_payment_method_in_dunning": false,
    "has_valid_payment_method": true,
    "hash": "7e706455cbd13e40",
    "last_name": "Doe",
    "phone": null,
    "subscriptions_active_count": 0,
    "subscriptions_total_count": 0,
    "subscription_related_charge_streak": 0,
    "tax_exempt": false,
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Retrieve a customer

Retrieve one customer using `customer_id`.

Scopes:
read\_customers


##### Responses

- 200




















successful response










Show response object



GET

/customers/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers/37657002' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "customer": {
    "id": 37657002,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "created_at": "2020-02-19T17:40:07+00:00",
    "email": "fake@example.com",
    "external_customer_id": {
      "ecommerce": "2879413682227"
    },
    "first_charge_processed_at": "2020-02-19T17:40:11+00:00",
    "first_name": "Jane",
    "has_payment_method_in_dunning": false,
    "has_valid_payment_method": true,
    "hash": "7e706455cbd13e40",
    "last_name": "Doe",
    "phone": "+16175551212",
    "subscriptions_active_count": 0,
    "subscriptions_total_count": 1,
    "subscription_related_charge_streak": 0,
    "tax_exempt": false,
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Update a customer

Modify an existing `Customer` to match the specified parameters.

For US citizens, parameter `billing_zip` is required when updating customer’s `billing_country` parameter.

`phone` must be in E.164 format, such as `+16175551212`.

Scopes:
write\_customers


##### Body Parameters

- apply\_credit\_to\_next\_recurring\_charge







boolean














A boolean that indicates whether Recharge credits will be applied to the next recurring charge.







This property is dependent upon the store’s credit settings. If a call is made attempting to update this and the store has recurring redemption turned off or set to automatically redeem, the API will return a 422 response.

- email







string














Email address of the customer.

- external\_customer\_id







object














An object containing external ids for the customer record.










Show object attributes


- first\_name







string














Customer’s first name.

- last\_name







string














Customer’s last name.

- phone







string














The customer’s phone number.

- tax\_exempt







boolean














Whether or not the customer is tax exempt.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/customers/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/customers/37657002' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"last_name": "Doe"}'
```

Response

200


```hljs json
{
  "customer": {
    "id": 37657002,
    "analytics_data": {
      "utm_params": [\
        {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      ]
    },
    "created_at": "2020-02-19T17:40:07+00:00",
    "email": "fake@example.com",
    "external_customer_id": {
      "ecommerce": "2879413682227"
    },
    "first_charge_processed_at": "2020-02-19T17:40:11+00:00",
    "first_name": "Jane",
    "has_payment_method_in_dunning": false,
    "has_valid_payment_method": true,
    "hash": "7e706455cbd13e40",
    "last_name": "Doe",
    "phone": "+16175551212",
    "subscriptions_active_count": 0,
    "subscriptions_total_count": 1,
    "tax_exempt": false,
    "updated_at": "2020-12-17T18:50:39+00:00"
  }
}
```

# Delete a customer

Customer deletion will automatically cancel and delete all child Address, Subscription, Onetime, etc. resources of that customer to eliminate orphaned child data.

To delete a certain address without deleting the customer you can use the Delete Address endpoint.

Scopes:
write\_customers


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/customers/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/customers/37657002' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List customers

Return a list of customers in your store.

## HTTP request examples

`GET /customers`

`GET /customers?email=example@email.com`

`GET /customers?hash=143806234a9ff87a8d9e`

`GET /customers?limit=250`

`GET /customers?page=2`

`GET /customers?external_customer_id=98273498`

If emails contain special characters such as ‘john+doe@example.com’, you will need to encode them in the URLs, i.e. `?email=john%2Bdoe@example.com`

Scopes:
read\_customers


##### Query Parameters

- email







string














Returns the user linked to the email address provided.

- created\_at\_max







string














Gets all customers created before this date.

- created\_at\_min







string














Gets all customers created after this date.

- hash







string














Returns the user linked to the given recharge customer hash.

- ids







string














Filter customers by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










Number of results.

- page







string





\*Deprecated













Default: 1










Page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- external\_customer\_id







string














Returns the user linked to the given `external_customer_id`.

- updated\_at\_max







string














Gets all customers updated before this date.

- updated\_at\_min







string














Gets all customers updated after this date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/customers


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": "next_cursor",
  "previous_cursor": "previous_cursor",
  "customers": [\
    {\
      "id": 37657002,\
      "analytics_data": {\
        "utm_params": [\
          {\
            "utm_source": "facebook",\
            "utm_medium": "cpc"\
          }\
        ]\
      },\
      "created_at": "2020-02-19T17:40:07+00:00",\
      "email": "fake@example.com",\
      "external_customer_id": {\
        "ecommerce": "2879413682227"\
      },\
      "first_charge_processed_at": "2020-02-19T17:40:11+00:00",\
      "first_name": "Jane",\
      "has_payment_method_in_dunning": false,\
      "has_valid_payment_method": true,\
      "hash": "7e706455cbd13e40",\
      "last_name": "Doe",\
      "phone": "+16175551212",\
      "subscriptions_active_count": 0,\
      "subscriptions_total_count": 1,\
      "tax_exempt": false,\
      "updated_at": "2020-12-17T18:50:39+00:00"\
    }\
  ]
}
```

# Retrieve a customer delivery schedule

Returns the list of projected deliveries in a specific interval.

If several filters are passed in parameters, the most restrictive will dominate.

The maximum length of the future delivery interval is 365 days.

Scopes:
read\_customers


##### Query Parameters

- delivery\_count\_future







integer














The count of delivery objects that should be included that reference projected orders.







Will not return deliveries past 365 days in the future.

- future\_interval







integer














The count of days forward to report deliveries on.







Defaults to store setting or 90. Maximum of 365 days.

- date\_max







string














The end date of the requested delivery schedule.







Cannot be in the past. Cannot exceed 365 days in the future.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/customers/{id}/delivery\_schedule


cURLPythonPHPRuby

```hljs js
curl -X GET 'https://api.rechargeapps.com/customers/37657002/delivery_schedule' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "deliverySchedule": {
    "customer": {
      "id": 73720164,
      "email": "test@example.com",
      "first_name": "Aria",
      "last_name": "Beciu"
    },
    "deliveries": [\
      {\
        "date": "2022-02-07",\
        "orders": [\
          {\
            "id": null,\
            "address_id": 79342717,\
            "charge_id": 507503288,\
            "line_items": [\
              {\
                "subscription_id": 186930285,\
                "external_product_id": {\
                  "ecommerce": "1642443555555"\
                },\
                "external_variant_id": {\
                  "ecommerce": null\
                },\
                "images": {},\
                "is_skippable": true,\
                "is_skipped": false,\
                "is_prepaid": false,\
                "original_price": "17.00",\
                "plan_type": "subscription",\
                "product_title": "Organic coffee beans",\
                "properties": [\
                  {\
                    "name": "shipping_interval_unit_type",\
                    "value": "month"\
                  },\
                  {\
                    "name": "shipping_interval_frequency",\
                    "value": "1"\
                  },\
                  {\
                    "name": "subscription_id",\
                    "value": null\
                  }\
                ],\
                "quantity": 1,\
                "subtotal_price": "17.00",\
                "unit_price": "17.00",\
                "variant_title": "Refill large"\
              }\
            ],\
            "order_subtotal": "17.00",\
            "payment_method": {\
              "id": 769874,\
              "billing_address": {\
                "address1": "90 avenue du Rouergue",\
                "address2": null,\
                "city": "Rodez",\
                "company": null,\
                "country_code": "FR",\
                "first_name": "Diane",\
                "last_name": "Farley",\
                "phone": null,\
                "province": null,\
                "zip": "12000"\
              },\
              "payment_details": {}\
            },\
            "shipping_address": {\
              "address1": "149 Forest Avenue",\
              "address2": null,\
              "city": "New York City",\
              "company": null,\
              "country_code": "US",\
              "first_name": "Aria",\
              "last_name": "Beciu",\
              "phone": "1234567890",\
              "province": "New York",\
              "zip": "10019"\
            }\
          }\
        ]\
      }\
    ]
  }
}
```

# Retrieve a customer's credit summary

Beta

Returns a credit summary for the customer.

Scopes:
read\_credit\_summary


##### Responses

- 200




















successful response










Show response object



GET

/customers/{id}/credit\_summary


cURLPythonPHPRuby

```hljs js
curl -X GET 'https://api.rechargeapps.com/customers/37657002/credit_summary' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "credit_summary": {
    "customer_id": 37657002,
    "total_available_balance": "0.00",
    "currency_code": "USD"
  }
}
```

# Discounts

Discounts can be applied to a `Checkout`, or can be applied directly to an `Address`. Depending on configuration they allow for single use, or recurring discounts. More details on how to add or remove discounts from an `Address` can be found at [Update an address](https://developer.getrecharge.com/2021-11/addresses/update_address).

Often discounts can be used in combination with webhooks, such that when a specific event occurs, it can apply a discount dependent on custom business logic.

There are various options that can be utilized for discounts such as minimum price, single use, recurring for a set number of charges, or ongoing. You can also set the date from which time the discount will become applicable and when it can no longer be applied to a new subscription.

Endpoints

POST

/discounts


GET

/discounts/{id}


PUT

/discounts/{id}


DELETE

/discounts/{id}


GET

/discounts


Expand

# The discount object

##### Attributes

- id







integer














Unique numeric identifier for the discount in Recharge.

- applies\_to







object














An object encompassing data that limits discount application on the basis of an associated record (such as customer, products, etc.).










Show object attributes


- channel\_settings







object














A list of channel objects containing information regarding discount behaviors for each.

If you’re on the SCI Platform, checkout channel will not apply during Shopify checkouts.










Show object attributes


- code







string














The code used to apply the discount.

- created\_at







datetime














The date and time when the discount was created.

- ends\_at







datetime














The expiration timestamp of the discount. Past this time the `Discount` can no longer be redeemed. After `ends_at` the `status` of the `Discount` will go from `active` to `disabled`.







Recurring discounts applied prior to their `ends_at` time will still apply.

- external\_discount\_id







object














An object containing external ids of the discount.










Show object attributes


- first\_time\_customer\_restriction







boolean














Discount can be used on checkout for customer that still don’t exist in Recharge database.

- prerequisite\_subtotal\_min







string














The minimum cart subtotal needed for the discount to be applicable.

- starts\_at







datetime














The date when the discount becomes active.







When not specified on creation `starts_at` will default to `null` which translates into no restrictions.

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










The status of the discount. Value can be:

\\* `enabled` discount is active to be applied

\\* `disabled` discount can’t be applied on new purchases. Discount will remain on existing charges to which it has already been applied.

\\* `fully_disabled` discount can no longer be applied. In addition, `Discount` is removed from every queued charge.







`disabled` and `fully_disabled` can both be reverted to `enabled`. However once a `Discount` has been updated to `fully_disabled` it will be removed from all `Charges` it had been applied to. This removal from `Charges` is irreversible.

- usage\_limits







object














An object containing limitations on a discount based on usage\_counts results










Show object attributes


- updated\_at







datetime














The date and time when the discount was last updated.

- value







string














The discounted value to be applied.

- value\_type







string













Possible values:

fixed\_amount,

percentage,

shipping










Type of discount mechanic.


##### Error related attributes

##### More Attributes

The discount object

```hljs json
{
  "discount": {
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "TEST_DISCOUNT",
    "created_at": "2021-04-01T16:13:53+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": "1642443555555"
    },
    "external_discount_source": null,
    "id": 25463058,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-04-13T22:24:59+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "20.00",
    "value_type": "percent"
  }
}
```

# Create a discount

Create a new discount.

##### Body Parameters

- applies\_to







object














An object encompassing data that limits discount application on the basis of an associated record (such as customer, products, etc.)










Show object attributes


- channel\_settings







object














A list of channel objects containing information regarding discount behaviors for each.

\\* can\_apply: a boolean to indicate if the discount may be applied using the associated channel (defaults to true for all channels).










Show object attributes


- code







string





\\* Required














The code used to apply the discount.

- ends\_at







datetime














The expiration timestamp of the discount. Past this time the `Discount` can no longer be redeemed. After `ends_at` the `status` of the `Discount` will go from `active` to `disabled`.







Recurring discounts applied prior to their `ends_at` time will still apply.

- prerequisite\_subtotal\_min







integer














The minimum cart subtotal needed for the discount to be applicable.

- starts\_at







datetime














The date when the discount becomes `ACTIVE`.







When not specified on creation `starts_at` will default to `null` which translates into no restrictions.

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










The status of the discount.

- usage\_limits







object














Sets the limit on the number of times a discount can be used by all customers.










Show object attributes


- value







string





\\* Required














The discounted value to be applied.

- value\_type







string





\\* Required













Possible values:

fixed\_amount,

percentage,

shipping










The discount type.


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/discounts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/discounts' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "applies_to": {
        "purchase_item_type": "ALL"
    },
    "channel_settings": {
        "api": {
            "can_apply": true
        },
        "checkout_page": {
            "can_apply": true
        },
        "customer_portal": {
            "can_apply": true
        },
        "merchant_portal": {
            "can_apply": true
        }
    },
    "code": "Discount1",
    "status": "enabled",
    "usage_limits": {
        "first_time_customer_restriction": false,
        "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
}'
```

Response

201


```hljs json
{
  "discount": {
    "id": 59568555,
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "Discount1",
    "created_at": "2021-07-26T19:16:17+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": null
    },
    "external_discount_source": null,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-07-26T19:16:17+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
  }
}
```

# Retrieve a discount

Retrieve a single Recharge Discount

##### Responses

- 200




















successful response










Show response object



GET

/discounts/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/discounts/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "discount": {
    "id": 59568555,
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "Discount1",
    "created_at": "2021-07-26T19:16:17+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": null
    },
    "external_discount_source": null,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-07-26T19:16:17+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
  }
}
```

# Update a discount

You can modify an existing discount to match the specified parameters.

##### Body Parameters

- applies\_to







object














An object encompassing data that limits discount application on the basis of an associated record (such as customer, products, etc.)










Show object attributes


- channel\_settings







object














A list of channel objects containing information regarding discount behaviors for each.

\\* can\_apply: a boolean to indicate if the discount may be applied using the associated channel (defaults to true for all channels).










Show object attributes


- code







string














The code used to apply the discount…

- ends\_at







datetime














The expiration timestamp of the discount. Past this time the `Discount` can no longer be redeemed. After `ends_at` the `status` of the `Discount` will go from `active` to `disabled`.







Recurring discounts applied prior to their `ends_at` time will still apply.

- prerequisite\_subtotal\_min







integer














The minimum cart subtotal needed for the discount to be applicable.

- starts\_at







datetime














The date when the discount becomes active.

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










The status of the discount. Value can be:

\\* `enabled` discount is active to be applied

\\* `disabled` discount can’t be applied on new purchases. Discount will remain on existing charges to which it has already been applied.

\\* `fully_disabled` discount can no longer be applied. In addition, `Discount` is removed from every queued charge.







`disabled` and `fully_disabled` can both be reverted to `enabled`. However once a `Discount` has been updated to `fully_disabled` it will be removed from all `Charges` it had been applied to. This removal from `Charges` is irreversible.

- usage\_limits







object














Sets the limit on the number of times a discount can be used by all customers.










Show object attributes


- value







string














The discounted value to be applied.

- value\_type







string













Possible values:

fixed\_amount,

percentage,

shipping










The discount type.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/discounts/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/discounts/11127406' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "usage_limits": {},
  "starts_at": "2021-11-01T00:00:00+00:00"
}'
```

Response

200


```hljs json
{
  "discount": {
    "id": 59568555,
    "applies_to": {
      "ids": [],
      "purchase_item_type": "ALL",
      "resource": null
    },
    "channel_settings": {
      "api": {
        "can_apply": true
      },
      "checkout_page": {
        "can_apply": true
      },
      "customer_portal": {
        "can_apply": true
      },
      "merchant_portal": {
        "can_apply": true
      }
    },
    "code": "Discount1",
    "created_at": "2021-07-26T19:16:17+00:00",
    "ends_at": null,
    "external_discount_id": {
      "ecommerce": null
    },
    "external_discount_source": null,
    "prerequisite_subtotal_min": null,
    "starts_at": null,
    "status": "enabled",
    "updated_at": "2021-07-26T19:16:17+00:00",
    "usage_limits": {
      "first_time_customer_restriction": false,
      "max_subsequent_redemptions": null,
      "one_application_per_customer": false
    },
    "value": "100.00",
    "value_type": "percentage"
  }
}
```

# Delete a discount

Delete a discount

For safety reasons, to delete a discount you will need to set its status to `fully_disabled`.

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/discounts/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/discounts/12081717' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

204


```hljs json
{}
```

# List discounts

Return a list of discounts in your store.

## HTTP request examples

`GET /discounts`

`GET /discounts?created_at_max=2017-10-01`

`GET /discounts?created_at_max=2017-10-01`

`GET /discounts?created_at_min=2017-10-01`

`GET /discounts?discount_code=Discount`

`GET /discounts?discount_type=percentage`

`GET /discounts?updated_at_min=2017-10-01`

##### Query Parameters

- created\_at\_max







string














Get all discounts created before a specified date.

- created\_at\_min







string














Get all discounts created after a specified date.

- discount\_code







string














Search for a particular discount code.

- value\_type







string













Possible values:

percentage,

fixed\_amount,

shipping










Filter based on type of discount.

- ids







string














Filter discounts by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










Number of results to return.

- page







string





\*Deprecated













Default: 1










Page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- status







string













Possible values:

enabled,

disabled,

fully\_disabled










Returns all discounts with status `enabled`, `disabled` or `fully_disabled`.

- updated\_at\_max







string














Get all discounts updated before a specified date.

- updated\_at\_min







string














Get all discounts updated after a specified date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/discounts


cURLPythonPHPRuby

```hljs js
curl -X GET 'https://api.rechargeapps.com/discounts' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "discounts": [\
    {\
      "id": 59568555,\
      "applies_to": {\
        "ids": [],\
        "purchase_item_type": "ALL",\
        "resource": null\
      },\
      "channel_settings": {\
        "api": {\
          "can_apply": true\
        },\
        "checkout_page": {\
          "can_apply": true\
        },\
        "customer_portal": {\
          "can_apply": true\
        },\
        "merchant_portal": {\
          "can_apply": true\
        }\
      },\
      "code": "Discount1",\
      "created_at": "2021-07-26T19:16:17+00:00",\
      "ends_at": null,\
      "external_discount_id": {\
        "ecommerce": null\
      },\
      "external_discount_source": null,\
      "prerequisite_subtotal_min": null,\
      "starts_at": null,\
      "status": "enabled",\
      "updated_at": "2021-07-26T19:16:17+00:00",\
      "usage_limits": {\
        "first_time_customer_restriction": false,\
        "max_subsequent_redemptions": null,\
        "one_application_per_customer": false\
      },\
      "value": "100.00",\
      "value_type": "percentage"\
    }\
  ]
}
```

# Metafields

Metafields allow users to add additional information to other resources. They can be used for adding custom fields to objects, and are useful for storing specialized information.

Endpoints

POST

/metafields


GET

/metafields/{id}


PUT

/metafields/{id}


DELETE

/metafields/{id}


GET

/metafields


Expand

# The metafield object

Metafields feature allows to add additional information to other resources. They can be used for adding custom fields to objects, and are useful for storing specialized information.

You can extend the responses of some of these objects by appending the `include?=metafields` as part of your `GET` request.

cf. [Extending responses](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#extending_responses) for more info.

##### Attributes

- id







integer














Unique numeric identifier for the metafield.

- created\_at







datetime














The date and time when the metafield was created.

- description







string














Description of the metafield.

- key







string














The name of the metafield.

- namespace







string














A category or container that differentiates your metadata from other metafields.

- owner\_id







string














Unique numeric identifier of the `owner_resource`.

- owner\_resource







string













Possible values:

address,

store,

customer,

subscription,

order,

charge










Objects which support `Metafields`

- updated\_at







datetime














The date and time when the metafield was last updated.

- value







string














The content of the metafield.

- value\_type







string













Possible values:

string,

integer,

json\_string










The type of the value parameter.


##### Error related attributes

##### More Attributes

The metafield object

```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Create a metafield

Creates a metafield for a specific object.

There is a limit of 50 metafields per `owner_id`.

You need to have `WRITE` rights to the resource you want to create a `Metafield` for.

Scopes:
WRITE\_{target\_resource}


##### Body Parameters

- description







string














Description of the metafield.

- key







string





\\* Required














The name of the metafield.

- namespace







string





\\* Required














A category or container that differentiates your metadata from other metafields.

- owner\_id







string





\\* Required














Unique numeric identifier of the owner resource.

- owner\_resource







string





\\* Required













Possible values:

address,

store,

customer,

subscription,

order,

charge










The owner of the resource.

- value







string





\\* Required














The content of the metafield.

- value\_type







string





\\* Required













Possible values:

string,

integer,

json\_string










The type of the value parameter.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/metafields


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/metafields' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "metafield": {
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_resource": "customer",
    "owner_id": 18301938,
    "value_type": "integer",
    "value": "3103103101"
  }
}'
```

Response

200


```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Retrieve a metafield

Retrieves a single metafield based on a specified id.

## HTTP request examples

`GET /metafields/<metafield_id>`

In addition to that, you can retrieve them by `subscription_id` by using:

`GET /metafields?owner_resource=subscription&owner_id=<subscription_id>`

Scopes:
read\_{target\_resource}


##### Responses

- 200




















successful response










Show response object



GET

/metafields/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/metafields/33' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

200


```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Update a metafield

Updates a metafield based on a specified `owner_resource`.

Scopes:
write\_{target\_resource}


##### Body Parameters

- description







string














Description of the metafield.

- owner\_id







string














Unique numeric identifier of the resource.

- owner\_resource







string













Possible values:

address,

store,

customer,

subscription,

order,

charge










The owner of the resource can be one of the following values: `address`, `store`, `customer`, `subscription`, `order`, `charge`. There may be more objects added in the future.

- value







string














The content of the metafield.

- value\_type







string













Possible values:

string,

integer,

json\_string










The type of the value parameter.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



PUT

/metafields/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/metafields/33' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d '{
  "metafield": {
    "description": "phone_number_of_customer",
    "owner_id": 18293088,
    "owner_resource": "customer",
    "value": "0333103133",
    "value_type": "integer"
  }
}'
```

Response

201


```hljs json
{
  "metafield": {
    "id": 33,
    "created_at": "2018-11-07T14:00:10",
    "description": "customer_phone_number",
    "key": "phone_number",
    "namespace": "personal_info",
    "owner_id": 18301938,
    "owner_resource": "customer",
    "updated_at": "2018-11-07T14:00:10",
    "value": "3103103101",
    "value_type": "integer"
  }
}
```

# Delete a metafield

Delete a metafield based on a specified id.

Scopes:
write\_{target\_resource}


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/metafields/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/metafields/6' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11'
```

Response

204


```hljs json
{}
```

# List metafields

Retrieves a list of metafields.

## HTTP request examples

`GET /metafields?owner_resource=<owner_resource>`

`GET /metafields?owner_resource=subscription&owner_id=<subscription_id>`

`GET /metafields?owner_resource=customer&owner_id=<customer_id>`

`GET /metafields?owner_resource=store&owner_id=<store_id>`

**When getting metafields, you must specify owner\_resource in the URL. It can be `address`, `store`, `customer`, `subscription`, `order`, `charge`**

You can list metafields that are created for all subscription objects using:

`GET /metafields?owner_resource=subscription` \- `**owner_id**` in the response will be the ID of the subscription.

Scopes:
read\_{target\_resource}


##### Query Parameters

- limit







string













Default: 50





Max: 250










Amount of results.

(default:50) (maximum: 250).

- namespace







string














A category or container that differentiates your metadata from other metafields.

- owner\_id







string














Unique numeric identifier of the owner resource.

- owner\_resource







string













Possible values:

address,

store,

customer,

subscription,

order,

charge










The owner of the resource can be one of the following values: `address`, `store`, `customer`, `subscription`, `order`, `charge`. There may be more objects added in the future.

- page







string





\*Deprecated













Default: 1










Page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/metafields


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/metafields' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -d owner_resource=address \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": "next_cursor",
  "previous_cursor": "previous_cursor",
  "metafields": [\
    {\
      "id": 33,\
      "created_at": "2018-11-07T14:00:10",\
      "description": "customer_phone_number",\
      "key": "phone_number",\
      "namespace": "personal_info",\
      "owner_id": 18301938,\
      "owner_resource": "customer",\
      "updated_at": "2018-11-07T14:00:10",\
      "value": "3103103101",\
      "value_type": "integer"\
    },\
    {\
      "id": 15,\
      "created_at": "2018-11-05T12:59:30",\
      "description": "desc lorem ipsum",\
      "key": "marjan",\
      "namespace": "nmsp2c",\
      "owner_id": 17868054,\
      "owner_resource": "customer",\
      "updated_at": "2018-11-05T15:48:42",\
      "value": "5",\
      "value_type": "integer"\
    },\
    {\
      "id": 9,\
      "created_at": "2018-11-05T12:47:27",\
      "description": "desc lorem ipsum",\
      "key": "marjan",\
      "namespace": "nmspc",\
      "owner_id": 17868054,\
      "owner_resource": "customer",\
      "updated_at": "2018-11-05T12:47:27",\
      "value": "5",\
      "value_type": "integer"\
    }\
  ]
}
```

# Notifications

The Customer Notifications resource is used to dispatch email notifications to customers within Recharge. The endpoint uses your configured Recharge email templates, and will dispatch an email to the address associated with the indicated `customer_id`. Some email templates require variable values, which are sent through the Customer Notifications resource via the template\_vars attribute. See below examples for all available template types.

Endpoints

POST

/customers/{id}/notifications


Expand

# Send email notification

Sends a notification email to the customer with the `customer_id` indicated in the route. To view the upcoming charge email template, visit the Notifications section in your Recharge Merchant Admin Portal.

Scopes:
write\_notifications


##### Body Parameters

- type







integer





\\* Required














Identifies the type of the notifications. Value can be email only.

- template\_type







string





\\* Required













Possible values:

upcoming\_charge,

get\_account\_access,

shopify\_update\_payment\_information










Identifies the type of the email notifications.

- template\_vars







object














An object containing the necessary template variables for this email template type.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/customers/{id}/notifications


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/customers/18819267/notifications' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "type": "email",
  "template_type": "upcoming_charge",
  "template_vars":{
    "address_id":1234567890,
    "charge_id":9876543210
  }
}'
```

Response

200


```hljs json
{}
```

# Onetimes

Onetimes represent non-recurring line items on a `QUEUED` `Charge`.

Endpoints

POST

/onetimes


GET

/onetimes/{id}


PUT

/onetimes/{id}


DELETE

/onetimes/{id}


GET

/onetimes


Expand

# The onetime object

##### Attributes

- id







integer














Unique numeric identifier for the `Onetime` purchase.

- address\_id







integer














Unique numeric identifier for the address the `Onetime` Purchase is associated with (cannot be used with `next_charge_scheduled_at`)

- created\_at







datetime














The time the `Onetime` item was first created.

- customer\_id







integer














Unique numeric identifier for the customer the `Onetime` purchase is tied to.

- external\_product\_id







string














An object containing the product id as it appears in external platforms.










Show object attributes


- external\_variant\_id







string














An object containing the variant id as it appears in external platforms.










Show object attributes


- is\_cancelled







boolean














Flag indicating if the the onetime is cancelled.

- next\_charge\_scheduled\_at







datetime














Date of the `Onetime` purchase execution.







Cannot be used with `add_to_next_charge`

- price







string














The price of the item before discounts, taxes, or shipping have been applied.

- product\_title







string














The name of the product in a shop’s catalog.

- properties







array














An array containing key value pairs for any supplementary data.










Show object attributes


- quantity







integer














The number of items in the `Onetime` purchase.

- sku







string














A unique identifier of the item in the fulfillment.

- sku\_override







boolean














Flag that is automatically updated to `true` when SKU is passed on `POST` or `PUT`.







When `sku_override` is `true`, the `sku` on the `Onetime` will be used to generate `Charges` and `Orders`.

When `sku_override` is `false`, Recharge will dynamically fetch the `sku` from the corresponding `external_platform_variant`.

- updated\_at







string














The time the `Onetime` purchase was last updated.

- variant\_title







string














The name of the variant in a shop’s catalog.


##### Error related attributes

##### More Attributes

The onetime object

```hljs json
{
  "onetime": {
    "id": 16909886,
    "address_id": 21317826,
    "customer_id": 18819267,
    "created_at": "2018-11-14T11:20:05+00:00",
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2018-12-17T00:00:00+00:00",
    "price": null,
    "product_title": "SuperKiwi ONETIME",
    "properties": [\
      {\
        "name": "grind",\
        "value": "drip"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2018-11-14T11:20:05+00:00",
    "variant_title": "Blue star"
  }
}
```

# Create a onetime

Create a new `Onetime`.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer





\\* Required














Unique numeric identifier for the address the one time purchase is associated with.

- add\_to\_next\_charge







boolean














Instructs to add the `Onetime` to the next charge scheduled under this `Address`.

- external\_product\_id







object














Unique numeric identifier of the product in external platform.










Show object attributes


- external\_variant\_id







object





\\* Required














Unique numeric identifier of the product variant in external platform.










Show object attributes


- next\_charge\_scheduled\_at







datetime





\\* Required














This will set the charge date of a new Onetime purchase.







Cannot be used with `add_to_next_charge`

- price







string





\\* Required














The price of the product.

- product\_title







string





\\* Required














The name of the product.

- properties







string














List of properties.

- quantity







integer





\\* Required














The quantity of the product.

- sku







string














A unique identifier of the item in the fulfillment.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/onetimes


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/onetimes' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "address_id": 45154492,
  "next_charge_scheduled_at": "2021-12-17",
  "price": 6,
  "product_title": "ABC Shirt",
  "properties": [\
    {\
      "name": "Color",\
      "value": "Blue"\
    },\
    {\
      "name": "Size",\
      "value": "Medium"\
    }\
  ],
  "quantity": 1,
  "external_variant_id": {
      "ecommerce": "3844892483"
  }
}'
```

Response

201


```hljs json
{
  "onetime": {
    "id": 156155818,
    "address_id": 45154492,
    "customer_id": 40565990,
    "created_at": "2021-05-24T19:14:25+00:00",
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",
    "price": "6.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Red"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2021-05-24T19:30:14+00:00",
    "variant_title": "Blue star"
  }
}
```

# Retrieve a onetime

Retrieve a Onetime.

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/onetimes/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/onetimes/16909886' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "onetime": {
    "id": 16909886,
    "address_id": 45154492,
    "created_at": "2021-05-24T19:14:25+00:00",
    "customer_id": 40565990,
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",
    "price": "6.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2021-05-24T19:30:14+00:00",
    "variant_title": "Blue star"
  }
}
```

# Update a onetime

Update an existing `Onetime` item.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer














Unique numeric identifier for the address the `Onetime` Purchase is associated with (cannot be used with `next_charge_scheduled_at`)

- next\_charge\_scheduled\_at







datetime














This will set the charge date of a new `Onetime` purchase.

- price







string














The price of the product.

- product\_title







string














The name of the product.

- properties







array














List of properties.










Show object attributes


- quantity







integer














The quantity of the product.

- external\_variant\_id







object














Unique numeric identifier of the product variant.










Show object attributes


- sku







string














A unique alphanumeric identifier of the item in the fulfillment.

- variant\_title







string














The name of the product variant.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/onetimes/{id}


cURLPythonPHPRuby

```hljs js
curl -x PUT 'https://api.rechargeapps.com/onetimes/16909886' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"quantity": 1}'
```

Response

200


```hljs json
{
  "onetime": {
    "id": 16909886,
    "address_id": 45154492,
    "created_at": "2021-05-24T19:14:25+00:00",
    "customer_id": 40565990,
    "external_product_id": {
      "ecommerce": "4950280863846"
    },
    "external_variant_id": {
      "ecommerce": "32139793137766"
    },
    "is_cancelled": false,
    "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",
    "price": "6.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "updated_at": "2021-05-24T19:30:14+00:00",
    "variant_title": "Blue star"
  }
}
```

# Delete a onetime

Delete a `Onetime`.

Scopes:
write\_subscriptions


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/onetimes/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/onetimes/16665185' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List onetimes

Returns a list of all `Onetime` products from store.

Scopes:
read\_subscriptions


##### Query Parameters

- address\_id







string














Return the onetimes linked to the given `address_id`.

- address\_ids







string














Return the onetimes linked to the given comma-separated list of `address_ids`.

- created\_at\_max







datetime














Return the onetimes created before the given date.

- created\_at\_min







datetime














Return the onetimes created after the given date.

- customer\_id







string














Return the onetimes linked to the given Recharge `customer_id`.

- include\_cancelled







boolean














If `true` the response will include the cancelled `Onetimes` as well as the others.

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- external\_variant\_id







string














Return the one time purchases linked to the given external platform product `variant_id`.

- updated\_at\_max







datetime














Return the onetimes updated before the given date.

- updated\_at\_min







datetime














Return the onetimes updated after the given date.

- ids







array














Comma-separated list of one time purchase ids to filter.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/onetimes


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/onetimes' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next": "next_cursor",
  "previous": "previous_cursor",
  "onetimes": [\
    {\
      "id": 16909886,\
      "address_id": 45154492,\
      "created_at": "2021-05-24T19:14:25+00:00",\
      "customer_id": 40565990,\
      "external_product_id": {\
        "ecommerce": "4950280863846"\
      },\
      "external_variant_id": {\
        "ecommerce": "32139793137766"\
      },\
      "is_cancelled": false,\
      "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",\
      "price": "6.00",\
      "product_title": "ABC Shirt",\
      "properties": [\
        {\
          "name": "Color",\
          "value": "Blue"\
        }\
      ],\
      "quantity": 1,\
      "sku": "TOM0001",\
      "sku_override": false,\
      "updated_at": "2021-05-24T19:30:14+00:00",\
      "variant_title": "Blue star"\
    }\
  ]
}
```

# Orders

An order is created after a `Charge` is successfully processed. The `Order` contains all the same json data as the `Charge`. In case of a prepaid order creation, the order will be queued for a particular date and submitted on that date to the external platform.

Endpoints

GET

/orders/{id}


POST

/orders/{id}/clone


POST

/orders/{id}/delay


PUT

/orders/{id}


DELETE

/orders/{id}


GET

/orders


Expand

# The order object

##### Attributes

- id







integer














The unique numeric identifier for the order.

- address\_id







integer














The id of the associated `Address` within Recharge.

- billing\_address







object














The billing address at the time the order was created. See `Addresses` for detailed address information.










Show object attributes


- charge







object














An object containing parameters of the `Charge`.










Show object attributes


- client\_details







object














Details of the access method used by the purchase.










Show object attributes


- created\_at







datetime














The date when the order was created.

- currency







string














The currency of the payment used to create the order.

- customer







object














Object that contains information about the `Customer`.










Show object attributes


- discounts







array














An array of `Discounts` associated with the `Order`.










Show object attributes


- external\_cart\_token







string














The cart token as it appears in an external system.

- external\_order\_id







object














An object containing external order ids.










Show object attributes


- external\_order\_number




















An object containing the external order numbers.










Show object attributes


- is\_prepaid







boolean














A boolean representing if this `Order` is generated from a prepaid purchase.

- line\_items







array














A list of `line_item` objects.










Show object attributes


- note







string














Notes associated with the `Order`.

- order\_attributes







array














An array of name value pairs of note attributes on the `Order`.










Show object attributes


- processed\_at







datetime














The date time that the associated charge was processed at.

- scheduled\_at







datetime














The date time of when the associated charge is/was scheduled to process.

- shipping\_address







object














The shipping address where the order will be shipped. See `Addresses` for detailed `Address` information.










Show object attributes


- shipping\_lines







array














An array of shipping lines associated with the order.










Show object attributes


- status







string













Possible values:

success,

error,

queued,

cancelled










The status of creating the `Order`.

- subtotal\_price







string














The subtotal price (sum of all line items \* their quantity) of the order less discounts.

- tags







string














A comma separated list of tags on the `Order`.

- tax\_lines







array














An array of tax lines that apply to the `Order`.










Show object attributes


- taxable







boolean














A boolean indicator of the taxability of the `Order`.

- total\_discounts







string














The total discounted dollar value of the `Order`.

- total\_duties







string














The total cost of duties for the order.

- total\_line\_items\_price







integer














The total price of all line items of the `Order`.

- total\_price







string














The total amount due of the `Order`.

- total\_refunds







string














The total dollar amount of refunds associated with the `Order`.

- total\_tax







string














The total tax due associated with the `Order`.

- total\_weight\_grams







integer














The total weight of the order in grams.

- type







string













Possible values:

checkout,

recurring










An indicator of the order’s type.

- updated\_at







datetime














The date time at which the order was most recently updated.


##### Error related attributes

##### More Attributes

The order object

```hljs json
{
  "order": {
    "id": 70071255,
    "address_id": 4029306,
    "billing_address": {
      "address1": "1933 Manning",
      "address2": "204",
      "city": "los angeles",
      "company": "bootstrap",
      "country_code": "US",
      "first_name": "mike",
      "last_name": "flynn",
      "phone": "3103103101",
      "province": "California",
      "zip": "90025"
    },
    "charge": {
      "id": 97376832,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2018-11-08T08:08:09+00:00",
    "currency": "usd",
    "customer": {
      "id": 12354,
      "email": "example@email.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 123456,\
        "code": "TESTCODE10",\
        "value": "10.00",\
        "value_type": "fixed_amount"\
      }\
    ],
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "123496878536413"
    },
    "external_order_number": {
      "ecommerce": "125"
    },
    "hash": "42039120ee0e6cfa5c97805",
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 365974856,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "456123789"\
        },\
        "external_variant_id": {\
          "ecommerce": "4569876413"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2_large.jpeg",\
          "medium": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2_medium.jpeg",\
          "original": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2.jpeg",\
          "small": "https://cdn.shopify.com/s/files/1/0683/1951/products/milk2_small.jpeg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "grind",\
            "value": "drip"\
          },\
          {\
            "name": "size",\
            "value": "medium"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 4,\
        "sku": "TOM0001",\
        "tax_due": "3.80",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "unit_price": "0.331",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "unit_price": "0.102",\
            "title": "LA County Tax"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "title": "Shirt bundle",\
        "total_price": "43.80",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order #3   - Subscription Recurring Order",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": null,
    "scheduled_at": "2022-11-16T00:00:00+00:00",
    "shipping_address": {
      "address1": "1933 Manning",
      "address2": "204",
      "city": "los angeles",
      "company": "bootstrap",
      "country_code": "US",
      "first_name": "mike",
      "last_name": "flynn",
      "phone": "3103103101",
      "province": "California",
      "zip": "90025"
    },
    "shipping_lines": [\
      {\
        "code": "Standard Shipping",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.360",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "LA County Tax"\
          }\
        ],\
        "title": "Standard Shipping"\
      }\
    ],
    "status": "cancelled",
    "subtotal_price": "40.00",
    "tags": "Prepaid, Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": 0.0725,\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": 0.0225,\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_duties": "0.0",
    "total_line_items_price": "40.00",
    "total_price": "38.22",
    "total_refunds": "0.00",
    "total_tax": "3.32",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-20T13:25:52+00:00"
  }
}
```

# Retrieve an order

Retrieve one `Order` using the Recharge `order_id`.

Scopes:
read\_orders


##### Responses

- 200




















successful response










Show response object



GET

/orders/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/orders/70071255' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "order": {
    "id": 210987092,
    "address_id": 42171447,
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "",
      "city": "Portland",
      "company": "Fake Company Billing",
      "country_code": "US",
      "first_name": "Fake Billing First",
      "last_name": "Fake Billing Last",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "charge": {
      "id": 272382456,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2020-12-17T18:50:25+00:00",
    "currency": "usd",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "27117383938"
    },
    "external_order_number": {
      "ecommerce": "1938"
    },
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "1.30",\
        "title": "Shirt bundle",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": "2020-12-17T18:50:27+00:00",
    "scheduled_at": "2020-12-17T18:50:27+00:00",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_duties": "0.0",
    "total_line_items_price": "10.00",
    "total_price": "14.90",
    "total_refunds": "0.00",
    "total_tax": "10.00",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-17T18:50:27+00:00"
  }
}
```

# Clone an order

You may add additional `Orders` onto a success `Charge` if it has existing prepaid `Orders` by cloning an existing `Order`.

Scopes:
write\_orders


##### Body Parameters

- scheduled\_at







datetime





\\* Required














Date in future when this order will be sent.


##### More Parameters

##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/orders/{id}/clone


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/orders/70071255/clone' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"scheduled_at": "2022-11-16"}'
```

Response

201


```hljs json
{
  "order": {
    "id": 210987092,
    "address_id": 42171447,
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "",
      "city": "Portland",
      "company": "Fake Company Billing",
      "country_code": "US",
      "first_name": "Fake Billing First",
      "last_name": "Fake Billing Last",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "charge": {
      "id": 272382456,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2020-12-17T18:50:25+00:00",
    "currency": "usd",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "27117383938"
    },
    "external_order_number": {
      "ecommerce": "1938"
    },
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "1.30",\
        "title": "Shirt bundle",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": "2020-12-17T18:50:27+00:00",
    "scheduled_at": "2020-12-17T18:50:27+00:00",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_duties": "0.0",
    "total_line_items_price": "10.00",
    "total_price": "14.90",
    "total_refunds": "0.00",
    "total_tax": "10.00",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-17T18:50:27+00:00"
  }
}
```

# Delay an order

Delay a prepaid `Order` by one interval

The `id` must be for the next queued `Order` for a prepaid `Subscription`. The `Order` will be delayed by one interval, and all subsequent `Orders` and `Charges` will be shifted by the same amount.

Scopes:
write\_orders


##### Responses

- 200




















successful response










Show response object



POST

/orders/{id}/delay


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/orders/70071255/delay' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "order": {
    "id": 70071255,
    "address_id": 4029306,
    "created_at": "2022-02-04T23:19:52+00:00",
    "currency": "usd",
    "discounts": [],
    "error": null,
    "external_cart_token": null,
    "is_prepaid": true,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.993",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.308",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "1.30",\
        "title": "Shirt bundle",\
        "total_price": "11.30",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": null,
    "order_attributes": [],
    "processed_at": null,
    "scheduled_at": "2023-02-07T05:00:00+00:00",
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "queued",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.950",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.335",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "0.00",
    "total_duties": "0.0",
    "total_line_items_price": "10.00",
    "total_price": "14.90",
    "total_refunds": "0.00",
    "total_tax": "10.00",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2023-01-05T22:11:46+00:00"
  }
}
```

# Update an order

Updating existing `Order` using the `order_id`.

Scopes:
write\_orders


##### Body Parameters

- billing\_address







object














Billing address details.










Show object attributes


- customer







object














The key values related with customer.










Show object attributes


- line\_items







array














Line item properties can be updated on Prepaid Queued Orders. To change Queued Charges you must change the parent subscription(s) or address.







**Important:** When updating `line_items`, you must provide the entire json block that was in `line_items` before, as the data provided overrides the entire block and only new parameters will remain.










Show object attributes


- external\_order\_id







object














An object containing external order ids.










Show object attributes


- scheduled\_at







datetime














The date when the order will be shipped.

- shipping\_address







object














Shipping address details.










Show object attributes


- status







string













Possible values:

success,

error,

queued,

cancelled










The status of the order


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/orders/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/orders/70071255' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
"billing_address": {
  "city": "Los Angeles",
  "first_name": "mike",
  "last_name": "flynn",
  "zip": "90025"
 }
}'
```

Response

200


```hljs json
{
  "order": {
    "id": 210987092,
    "address_id": 42171447,
    "billing_address": {
      "address1": "601 SW Washing St.",
      "address2": "",
      "city": "Portland",
      "company": "Fake Company Billing",
      "country_code": "US",
      "first_name": "Fake Billing First",
      "last_name": "Fake Billing Last",
      "phone": "888-888-8888",
      "province": "Oregon",
      "zip": "97205"
    },
    "charge": {
      "id": 272382456,
      "external_transaction_id": {
        "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"
      }
    },
    "client_details": {
      "browser_ip": "192.168.0.1",
      "user_agent": "safari webkit"
    },
    "created_at": "2020-12-17T18:50:25+00:00",
    "currency": "usd",
    "customer": {
      "id": 37657002,
      "email": "test@test.com",
      "external_customer_id": {
        "ecommerce": "382028302"
      },
      "hash": "7e706455cbd13e40"
    },
    "discounts": [\
      {\
        "id": 12345,\
        "code": "TESTCODE10",\
        "value": 10,\
        "value_type": "fixed_amount"\
      }\
    ],
    "error": null,
    "external_cart_token": "aeic8101918fs0f8810",
    "external_order_id": {
      "ecommerce": "27117383938"
    },
    "external_order_number": {
      "ecommerce": "1938"
    },
    "is_prepaid": false,
    "line_items": [\
      {\
        "purchase_item_id": 63898947,\
        "external_inventory_policy": "decrement_obeying_policy",\
        "external_product_id": {\
          "ecommerce": "4381728735283"\
        },\
        "external_variant_id": {\
          "ecommerce": "999999999999"\
        },\
        "grams": 454,\
        "images": {\
          "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
          "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
          "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
          "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
        },\
        "original_price": "10.00",\
        "properties": [\
          {\
            "name": "Color",\
            "value": "Blue"\
          }\
        ],\
        "purchase_item_type": "subscription",\
        "quantity": 1,\
        "sku": "TOM0001",\
        "tax_lines": [\
          {\
            "price": "0.725",\
            "rate": "0.0725",\
            "title": "CA State Tax",\
            "unit_price": "0.331"\
          },\
          {\
            "price": "0.225",\
            "rate": "0.0225",\
            "title": "LA County Tax",\
            "unit_price": "0.102"\
          }\
        ],\
        "taxable": true,\
        "taxable_amount": "10.00",\
        "tax_due": "0.95",\
        "title": "Shirt bundle",\
        "total_price": "10.95",\
        "unit_price": "10.00",\
        "unit_price_includes_tax": false,\
        "variant_title": "Blue t-shirts"\
      }\
    ],
    "note": "next order in sequence 3",
    "order_attributes": [\
      {\
        "name": "subscription_cycle_count_min",\
        "value": "3"\
      }\
    ],
    "processed_at": "2020-12-17T18:50:27+00:00",
    "scheduled_at": "2020-12-17T18:50:27+00:00",
    "shipping_address": {
      "address1": "1030 Barnum Ave",
      "address2": "Suite 101",
      "city": "Stratford",
      "company": "Fake Company",
      "country_code": "US",
      "first_name": "Fake First",
      "last_name": "Fake Last",
      "phone": "999-999-9999",
      "province": "Connecticut",
      "zip": "06614"
    },
    "shipping_lines": [\
      {\
        "code": "Standard",\
        "price": "4.90",\
        "taxable": true,\
        "tax_lines": [\
          {\
            "price": "0.355",\
            "rate": "0.0725",\
            "title": "CA State Tax"\
          },\
          {\
            "price": "0.110",\
            "rate": "0.0225",\
            "title": "Los Angeles County Tax"\
          }\
        ],\
        "title": "Standard"\
      }\
    ],
    "status": "success",
    "subtotal_price": "10.00",
    "tags": "Subscription, Subscription Recurring Order",
    "tax_lines": [\
      {\
        "price": "0.355",\
        "rate": "0.0725",\
        "title": "CA State Tax"\
      },\
      {\
        "price": "0.110",\
        "rate": "0.0225",\
        "title": "Los Angeles  County Tax"\
      }\
    ],
    "taxable": true,
    "total_discounts": "10.00",
    "total_line_items_price": "10.00",
    "total_price": "5.37",
    "total_refunds": "0.00",
    "total_tax": "0.47",
    "total_weight_grams": 454,
    "type": "recurring",
    "updated_at": "2020-12-17T18:50:27+00:00"
  }
}
```

# Delete an order

You can delete a scheduled order.

Scopes:
write\_orders


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/orders/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/orders/70071255' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List orders

Returns a list of orders.

## HTTP request examples

`GET /orders`

`GET /orders?customer_id=123`

`GET /orders?address_id=4587216`

`GET /orders?charge_id=45678542`

`GET /orders?created_at_min=2016-05-18&created_at_max=2016-06-18`

Scopes:
read\_orders


##### Query Parameters

- address\_id







string














Filter orders by address.







`GET /orders/?address_id=123` will return all orders for the given `address_id`.

- charge\_id







string














Filter orders by charge.







`GET /orders/?charge_id=123` will return all orders for the given `charge_id`.

- created\_at\_max







datetime














Show orders created before the given date.

- created\_at\_min







datetime














Show orders created after the given date.

- customer\_id







string














Filter orders by customer.







`GET /orders/?customer_id=123` will return all orders for the given `customer_id`

- external\_customer\_id







string














Filter orders by external\_customer\_id.

- external\_order\_id







string














Filter orders by external\_order\_id.

- ids







string














Filter orders by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show. Default is 1.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- scheduled\_at\_max







datetime














Show orders scheduled before the given date.

- scheduled\_at\_min







datetime














Show orders scheduled after the given date.

- has\_external\_order







string














Filter orders with/without external\_order\_id.

- status







string













Possible values:

success,

queued,

error,

refunded,

skipped










Filter orders by status.

- type







string













Possible values:

checkout,

recurring










Filter orders by type.







`GET /api/orders/?type=recurring` will return all orders for the given type.

- purchase\_item\_id







string














Filter orders by subscription or onetime.

- updated\_at\_max







datetime














Show orders updated before the given date.

- updated\_at\_min







datetime














Show orders updated after the given date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/orders


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/orders' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d 'limit=3' -G
```

Response

200


```hljs json
{
  "next": "next_cursor",
  "previous": "previous_cursor",
  "orders": [\
    {\
      "id": 210987092,\
      "address_id": 42171447,\
      "billing_address": {\
        "address1": "601 SW Washing St.",\
        "address2": "",\
        "city": "Portland",\
        "company": "Fake Company Billing",\
        "country_code": "US",\
        "first_name": "Fake Billing First",\
        "last_name": "Fake Billing Last",\
        "phone": "888-888-8888",\
        "province": "Oregon",\
        "zip": "97205"\
      },\
      "charge": {\
        "id": 272382456,\
        "external_transaction_id": {\
          "payment_processor": "ch_1HzWElJ2zqHvZRd1TWKFFqDR"\
        }\
      },\
      "client_details": {\
        "browser_ip": "192.168.0.1",\
        "user_agent": "safari webkit"\
      },\
      "created_at": "2020-12-17T18:50:25+00:00",\
      "currency": "usd",\
      "customer": {\
        "id": 37657002,\
        "email": "test@test.com",\
        "external_customer_id": {\
          "ecommerce": "382028302"\
        },\
        "hash": "7e706455cbd13e40"\
      },\
      "discounts": [\
        {\
          "id": 12345,\
          "code": "TESTCODE10",\
          "value": 10,\
          "value_type": "fixed_amount"\
        }\
      ],\
      "error": null,\
      "external_cart_token": "aeic8101918fs0f8810",\
      "external_order_id": {\
        "ecommerce": "27117383938"\
      },\
      "external_order_number": {\
        "ecommerce": "1938"\
      },\
      "is_prepaid": false,\
      "line_items": [\
        {\
          "purchase_item_id": 63898947,\
          "external_inventory_policy": "decrement_obeying_policy",\
          "external_product_id": {\
            "ecommerce": "4381728735283"\
          },\
          "external_variant_id": {\
            "ecommerce": "999999999999"\
          },\
          "grams": 454,\
          "images": {\
            "large": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_large.jpg",\
            "medium": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_medium.jpg",\
            "original": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h.jpg",\
            "small": "https://example-cdn.com/s/files/1/0257/0351/4163/products/il_570xN.1723312095_a43h_small.jpg"\
          },\
          "original_price": "10.00",\
          "properties": [\
            {\
              "name": "Color",\
              "value": "Blue"\
            }\
          ],\
          "purchase_item_type": "subscription",\
          "quantity": 1,\
          "sku": "TOM0001",\
          "tax_lines": [\
            {\
              "price": "0.993",\
              "rate": "0.0725",\
              "title": "CA State Tax",\
              "unit_price": "0.331"\
            },\
            {\
              "price": "0.308",\
              "rate": "0.0225",\
              "title": "LA County Tax",\
              "unit_price": "0.102"\
            }\
          ],\
          "taxable": true,\
          "taxable_amount": "10.00",\
          "tax_due": "1.30",\
          "title": "Shirt bundle",\
          "total_price": "11.30",\
          "unit_price": "10.00",\
          "unit_price_includes_tax": false,\
          "variant_title": "Blue t-shirts"\
        }\
      ],\
      "note": "next order in sequence 3",\
      "order_attributes": [\
        {\
          "name": "subscription_cycle_count_min",\
          "value": "3"\
        }\
      ],\
      "processed_at": "2020-12-17T18:50:27+00:00",\
      "scheduled_at": "2020-12-17T18:50:27+00:00",\
      "shipping_address": {\
        "address1": "1030 Barnum Ave",\
        "address2": "Suite 101",\
        "city": "Stratford",\
        "company": "Fake Company",\
        "country_code": "US",\
        "first_name": "Fake First",\
        "last_name": "Fake Last",\
        "phone": "999-999-9999",\
        "province": "Connecticut",\
        "zip": "06614"\
      },\
      "shipping_lines": [\
        {\
          "code": "Standard",\
          "price": "4.90",\
          "taxable": true,\
          "tax_lines": [\
            {\
              "price": "0.355",\
              "rate": "0.0725",\
              "title": "CA State Tax"\
            },\
            {\
              "price": "0.110",\
              "rate": "0.0225",\
              "title": "Los Angeles County Tax"\
            }\
          ],\
          "title": "Standard"\
        }\
      ],\
      "status": "success",\
      "subtotal_price": "10.00",\
      "tags": "Subscription, Subscription Recurring Order",\
      "tax_lines": [\
        {\
          "price": "0.950",\
          "rate": "0.0725",\
          "title": "CA State Tax"\
        },\
        {\
          "price": "0.335",\
          "rate": "0.0225",\
          "title": "Los Angeles  County Tax"\
        }\
      ],\
      "taxable": true,\
      "total_discounts": "10.00",\
      "total_duties": "0.0",\
      "total_line_items_price": "10.00",\
      "total_price": "14.90",\
      "total_refunds": "0.00",\
      "total_tax": "10.00",\
      "total_weight_grams": 454,\
      "type": "recurring",\
      "updated_at": "2020-12-17T18:50:27+00:00"\
    }\
  ]
}
```

# Payment methods

The `Payment Method` object holds payment and billing information. A `Customer` may be associated with many `Payment Methods`, and an `Addresses` record must be associated with at least one `Payment_method`.

Important - If you see the following error when accessing Payment Methods endpoints: “You do not have sufficient permissions (scopes) for this object”, the token you are using has not been configured with correct access permissions. Update the token to have “Read access” or “Read and Write access” depending on your use case. ![](https://developer.getrecharge.com/images/paymentMethods.png)

Endpoints

POST

/payment\_methods


GET

/payment\_methods/{id}


PUT

/payment\_methods/{id}


DELETE

/payment\_methods/{id}


GET

/payment\_methods


Expand

# The payment method object

The Payment Method object holds payment and billing information. A `Customer` may be associated with many payment methods, and an `Addresses` record must be associated with at least one `Payment Method`.

##### Attributes

- id







integer














The unique payment method id for a customer.

- customer\_id







integer














The Recharge `customer_id`.

- created\_at







datetime














The date and time when the payment method was created.

- default







boolean














If this is the default `Payment_method` for the `Customer`.







`Customer` must have 1 and only 1 default payment `Payment_method`.

- payment\_details







object














Details about the specific payment method







Those details will vary based on the `payment_type`










Show object attributes


- payment\_type







string













Possible values:

CREDIT\_CARD,

PAYPAL,

APPLE\_PAY,

GOOGLE\_PAY,

SEPA\_DEBIT










The type of payment this is.







If passed, must also be accompanied by one of `stripe_customer_token`, `paypal_customer_token` or `authorizedotnet_customer_token` in `processor_payment_method_token`.

- processor\_customer\_token







string














The customer token at the processor.

- processor\_name







string













Possible values:

stripe,

braintree,

authorize,

shopify\_payments,

mollie










This will impact validation on billing\_details.







Currently, `shopify_payments` is in read-only mode and can only be managed by Shopify.

- processor\_payment\_method\_token







string














The payment token at the processor.

- status







string













Possible values:

unvalidated,

valid,

invalid,

empty










State of the `Payment Method`.

- status\_reason







string














The status reason for the payment method.







Often used when `invalid` to provide background details in invalidity.

- updated\_at







datetime














Last time the `Payment_method` was updated.


##### Error related attributes

##### More Attributes

- billing\_address







object














An object with the customer’s address information.










Show object attributes



The payment method object

```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country": "United States",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": 1234
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3ebcBaL6pCx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "retry_date": null,
    "status": null,
    "status_reason": null,
    "taxable": true,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Create a payment method

[BigCommerce](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Create a Payment Method in Recharge.

Scopes:
write\_payment\_methods


##### Body Parameters

- customer\_id







integer





\\* Required














The Recharge `customer_id`.

- default







boolean














If this is the default `Payment Method` for the customer, customer must have 1 and only 1 default `Payment Method`.

- payment\_type







string





\\* Required













Possible values:

CREDIT\_CARD,

PAYPAL,

APPLE\_PAY,

GOOGLE\_PAY,

SEPA\_DEBIT










The type of payment.

- processor\_customer\_token







string





\\* Required














The customer token at the processor.







On Stripe this begins with `cus_`.

- processor\_name







string





\\* Required













Possible values:

stripe,

braintree,

authorize,

shopify\_payments,

mollie










This will impact validation on billing\_details.







Currently, `shopify_payments` is in read-only mode and can only be managed by Shopify.

- processor\_payment\_method\_token







string














The payment token at the processor.


##### More Parameters

- billing\_address







object














An object with the customer’s address information.










Show object attributes


- retry\_charges







boolean














Whether charges associated with this payment method should be retried. If `true` then charges with previous payment-related errors will be set to retry during the next automated processing.


##### Responses

- 201




















OK: The request was successful, created a new resource, and resource created is in the body.










Show response object



POST

/payment\_methods


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/payment_methods' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "customer_id": 62824147,
  "default": true,
  "payment_type": "CREDIT_CARD",
  "processor_customer_token": "cus_JGYtLWi2HS8ymD",
  "processor_name": "stripe",
  "processor_payment_method_token": "pm_34jdshjs"
}'
```

Response

201


```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": "1234"
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3457BaL90Cx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "status": null,
    "status_reason": null,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Retrieve a payment method

Retrieve an existing `Payment Method` using the Recharge `Payment Method` `id`.

Scopes:
read\_payment\_methods


##### Responses

- 200




















successful response










Show response object



GET

/payment\_methods/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/payment_methods/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": "1234"
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3457BaL90Cx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "status": null,
    "status_reason": null,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Update a payment method

[BigCommerce](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Modify an existing `Payment Method`.

Scopes:
write\_payment\_methods


##### Body Parameters

- default







boolean














If this is the default `Payment Method` for the `Customer`.







`Customer` must have 1 and only 1 default payment `Payment_method`.

- processor\_name







string













Possible values:

stripe,

braintree,

authorize,

shopify\_payments,

mollie










This will impact validation on billing\_details.







Currently, `shopify_payments` is in read-only mode and can only be managed by Shopify.

- billing\_address







object














An object with the customer’s address information.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/payment\_methods/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/payment_methods/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"default": true}'
```

Response

200


```hljs json
{
  "payment_method": {
    "id": 1234567,
    "customer_id": 62459147,
    "billing_address": {
      "address1": "123 Washington Street",
      "address2": "Suite 101",
      "city": "Los Angeles",
      "company": "Recharge",
      "country_code": "US",
      "first_name": "Jane",
      "last_name": "Doe",
      "phone": "1234567890",
      "province": "California",
      "zip": "90210"
    },
    "created_at": "2018-11-14T09:00:01",
    "default": true,
    "payment_details": {
      "brand": "visa",
      "exp_month": 12,
      "exp_year": 2021,
      "last4": "1234"
    },
    "payment_type": "CREDIT_CARD",
    "processor_customer_token": "cus_AB3457BaL90Cx9",
    "processor_name": "stripe",
    "processor_payment_method_token": "pm_1LdKdfj2zqHvUId1uGheBEHy",
    "status": null,
    "status_reason": null,
    "updated_at": "2018-11-14T09:00:01"
  }
}
```

# Delete a payment method

[BigCommerce](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

[RCS](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Permanently delete a `Payment Method`.

Scopes:
write\_payment\_methods


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/payment\_methods/{id}


cURLPythonPHPRuby

```hljs js
curl --X DELETE 'https://api.rechargeapps.com/payment_methods/1234567' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List payment methods

Return a list of payment methods in your store.

## HTTP request examples

`GET /payment_methods`

Scopes:
read\_payment\_methods


##### Query Parameters

- customer\_id







string














Gets all `Payment methods` for this customer.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/payment\_methods


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/payment_methods' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "payment_methods": [\
    {\
      "id": 1234567,\
      "billing_address": {\
        "address1": "123 Washington Street",\
        "address2": "Suite 101",\
        "city": "Los Angeles",\
        "company_name": "Acme Corp",\
        "country_code": "US",\
        "name": "Jane Doe",\
        "phone": "1234567890",\
        "province": "California",\
        "zip": "90210"\
      },\
      "created_at": "2018-11-14T09:00:01",\
      "customer_id": 999123999,\
      "default": true,\
      "payment_details": [\
        {\
          "brand": "visa",\
          "exp_month": 12,\
          "exp_year": 2021,\
          "last4": 1234\
        }\
      ],\
      "payment_type": "CREDIT_CARD",\
      "processor_customer_token": "cus_AB3ebcBaL6pCx9",\
      "processor_name": "stripe",\
      "processor_payment_method_token": "pm_123123",\
      "updated_at": "2018-11-14T09:00:01"\
    }\
  ]
}
```

# Plans

The `Plans` resource is used to create and configure the transactional options for the `Product` (subscription, prepaid, and onetime purchase options) in Recharge. ![](https://developer.getrecharge.com/images/plan.png)

Endpoints

POST

/plans


PUT

/plans/{id}


DELETE

/plans/{id}


GET

/plans


POST

/products/{external\_product\_id}/plans-bulk


PUT

/products/{external\_product\_id}/plans-bulk


DELETE

/products/{external\_product\_id}/plans-bulk


Expand

# The plan object

The `Plan` object is used to create and configure the transactional options for the `Products` in Recharge.

Current transactional options are: subscription, prepaid and onetime.

**Important -** Updating/modifying plans in 2021-11 will impact /products in 2021-01. **These are not cross compatible.** Proceed with caution.

##### Attributes

- id







integer














Unique numeric identifier for the `Plan`.

- channel\_settings







object














An object containing the availability of the plan through various supported channels.










Show object attributes


- created\_at







datetime














The time the plan was created.

- deleted\_at







datetime














If deleted, the time the plan was deleted.

- discount\_amount







string














The discount amount applied to the product `price` when purchased through this `Plan`.







All `Plans` for a product must have the same discount amount.

- discount\_type







string













Possible values:

percentage










Used in combination with discount amount to determine the discount applied on a product price when purchased through this `Plan`.

- external\_plan\_group\_id







string














The id of the selling plan group as it appears in external platforms.

- external\_plan\_id







string














The id of the selling plan as it appears in external platforms.

- external\_plan\_name







string














The name of the selling plan as it appears in external platforms.

- external\_product\_id







object














An object containing the product id as it appears in external platforms.










Show object attributes


- external\_variant\_ids







array














An array of variant ids as they appear in external platforms.

- has\_variant\_restrictions







boolean













Default: false










Whether this plan applies to specific variants of the product

- sort\_order







integer














The number indicating the order which the plan will be in a list of related plans.

- subscription\_preferences







object














An object containing the various subscription preferences associated with this plan.










Show object attributes


- title







string














The title of the plan.







All `Plans` for a product must have the same `title`.

- type







string













Possible values:

subscription,

prepaid,

onetime










The type of the plan.







Products with a `prepaid` plan cannot have plans of other types.

- updated\_at







datetime














The time the plan was last updated.


##### Error related attributes

##### More Attributes

The plan object

```hljs json
{
  "plan": {
    "id": 88237,
    "channel_settings": {
      "api": {
        "display": true
      },
      "checkout_page": {
        "display": true
      },
      "customer_portal": {
        "display": true
      },
      "merchant_portal": {
        "display": true
      }
    },
    "created_at": "2021-07-27T19:07:34+00:00",
    "deleted_at": null,
    "discount_amount": "30.00",
    "discount_type": "percentage",
    "external_plan_group_id": "77695091010",
    "external_plan_id": "690103779650",
    "external_plan_name": "1 week subscription",
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "external_variant_ids": [],
    "has_variant_restrictions": false,
    "sort_order": 1,
    "subscription_preferences": {
      "apply_cutoff_date_to_checkout": false,
      "charge_interval_frequency": 30,
      "cutoff_day_of_month": null,
      "cutoff_day_of_week": null,
      "expire_after_specific_number_of_charges": null,
      "interval_unit": "day",
      "order_day_of_month": 1,
      "order_day_of_week": null,
      "order_interval_frequency": 30
    },
    "title": "Jarred Pickles",
    "type": "subscription",
    "updated_at": "2021-07-27T19:07:34+00:00"
  }
}
```

# Create a plan

Create a `Plan` for a `Product` in Recharge.

Multiple `Plans` may exist for any `Product`, see the `Plan` object for restrictions.

Scopes:
write\_products


##### Body Parameters

- channel\_settings







string














An object containing the availability of the plan through various supported channels.










Show object attributes


- discount\_amount







string














The discount amount applied to the product price when purchased through this plan. All plans for a product must have the same discount amount.







All `Plans` for a product must have the same discount amount.

- discount\_type







string













Possible values:

percentage










Used in combination with discount amount to determine the discount applied on a product price when purchased through this plan. (accepts: percentage)

- external\_product\_id







object





\\* Required














An object containing the product id as it appears in external platforms.










Show object attributes


- sort\_order







integer














The number indicating the order which the plan will be in a list of related plans.

- subscription\_preferences







object





\\* Required














An object containing the various subscription preferences associated with this plan.










Show object attributes


- title







string





\\* Required














The title of the plan.







All `Plans` for a product must have the same `title`.

- type







string





\\* Required













Possible values:

subscription,

prepaid,

onetime










The type of the plan. Products with a prepaid plan cannot have plans of other types.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/plans


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/plans' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "discount_amount": "10",
    "discount_type": "percentage",
    "external_product_id": {
        "ecommerce": "2103271587891"
    },
    "sort_order": 1,
    "subscription_preferences": {
        "charge_interval_frequency": 30,
        "expire_after_specific_number_of_charges": 6,
        "interval_unit": "day",
        "order_day_of_month": 1,
        "order_interval_frequency": 30
    }
    "title": "Concert T-Shirt",
    "type": "subscription",
}'
```

Response

200


```hljs json
{
  "plan": {
    "id": 88237,
    "channel_settings": {
      "api": {
        "display": true
      },
      "checkout_page": {
        "display": true
      },
      "customer_portal": {
        "display": true
      },
      "merchant_portal": {
        "display": true
      }
    },
    "created_at": "2021-07-27T19:07:34+00:00",
    "deleted_at": null,
    "discount_amount": "10",
    "discount_type": "percentage",
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "sort_order": 1,
    "subscription_preferences": {
      "charge_interval_frequency": 30,
      "cutoff_day_of_month": null,
      "cutoff_day_of_week": null,
      "expire_after_specific_number_of_charges": 6,
      "interval_unit": "day",
      "order_day_of_month": 1,
      "order_day_of_week": null,
      "order_interval_frequency": 30
    },
    "title": "Concert TShirt",
    "type": "subscription",
    "updated_at": "2021-07-27T19:07:34+00:00"
  }
}
```

# Update a plan

Update an existing Plan.

Scopes:
write\_products


##### Body Parameters

- channel\_settings







object














An object containing the availability of the plan through various supported channels.










Show object attributes


- discount\_amount







string














The discount amount applied to the product price when purchased through this plan. All plans for a product must have the same discount amount.







All `Plans` for a product must have the same discount amount.

- discount\_type







string













Possible values:

percentage










Used in combination with discount amount to determine the discount applied on a product price when purchased through this plan.

- external\_product\_id







object














An object containing the product id as it appears in external platforms.










Show object attributes


- sort\_order







string














The number indicating the order which the plan will be in a list of related plans.

- subscription\_preferences







object














An object containing the various subscription preferences associated with this plan.










Show object attributes


- title







string














The title of the plan.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/plans/{id}


cURLPythonPHPRuby

```hljs js
curl -x PUT 'https://api.rechargeapps.com/plans/16909886' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"discount_amount": "12.0","title": "Concert T-Shirt"}'
```

Response

200


```hljs json
{
  "plan": {
    "id": 88237,
    "channel_settings": {
      "api": {
        "display": true
      },
      "checkout_page": {
        "display": true
      },
      "customer_portal": {
        "display": true
      },
      "merchant_portal": {
        "display": true
      }
    },
    "created_at": "2021-07-27T19:07:34+00:00",
    "deleted_at": null,
    "discount_amount": "10",
    "discount_type": "percentage",
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "sort_order": 1,
    "subscription_preferences": {
      "charge_interval_frequency": 30,
      "cutoff_day_of_month": null,
      "cutoff_day_of_week": null,
      "expire_after_specific_number_of_charges": 6,
      "interval_unit": "day",
      "order_day_of_month": 1,
      "order_day_of_week": null,
      "order_interval_frequency": 30
    },
    "title": "Concert TShirt",
    "type": "subscription",
    "updated_at": "2021-07-27T19:07:34+00:00"
  }
}
```

# Delete a plan

Delete a plan.

Scopes:
write\_products


##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/plans/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/plans/321654' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List plans

Returns a list of all plans from `Store`.

Scopes:
read\_products


##### Query Parameters

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- external\_product\_id







string














Return the `Plans` linked to the `Product` record in Recharge with the indicated `external_product_id`

- ids







string














Filter plans by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error

- updated\_at\_max







datetime














Return the plans updated before the given date.

- updated\_at\_min







datetime














Return the plans updated after the given date.

- type







string













Possible values:

subscription,

prepaid,

onetime










Return the plans that are of a specific type.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/plans


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/plans' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "plans": [\
    {\
      "id": 88237,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "deleted_at": null,\
      "discount_amount": null,\
      "discount_type": null,\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 1,\
      "subscription_preferences": {\
        "charge_interval_frequency": 30,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": null,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_day_of_week": null,\
        "order_interval_frequency": 30\
      },\
      "title": "Jarred Pickles",\
      "type": "subscription",\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    }\
  ]
}
```

# Bulk create plans

Bulk create new plans.

**There is a limit of 20 plans per request.**

Scopes:
write\_products


##### Body Parameters

- plans







array





\\* Required














An array of plans to be created.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/products/{external\_product\_id}/plans-bulk


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products/2103271587891/plans-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "plans": [\
        {\
            "discount_amount": "10",\
            "discount_type": "percentage",\
            "sort_order": 1,\
            "title": "Concert T-Shirt",\
            "type": "subscription",\
            "subscription_preferences": {\
                "charge_interval_frequency": 30,\
                "expire_after_specific_number_of_charges": 6,\
                "interval_unit": "day",\
                "order_day_of_month": 1,\
                "order_interval_frequency": 30\
            }\
        },\
        {\
            "discount_amount": "10",\
            "discount_type": "percentage",\
            "sort_order": 2,\
            "title": "Concert T-Shirt",\
            "type": "subscription",\
            "subscription_preferences": {\
                "charge_interval_frequency": 60,\
                "expire_after_specific_number_of_charges": 6,\
                "interval_unit": "day",\
                "order_day_of_month": 1,\
                "order_interval_frequency": 60\
            }\
        }\
    ]
 }'
```

Response

200


```hljs json
{
  "plans": [\
    {\
      "id": 88237,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 1,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 30,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 30\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    },\
    {\
      "id": 88238,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 2,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 60,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 60\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    }\
  ]
}
```

# Bulk update plans

Bulk update existing plans.

**There is a limit of 20 plans per request.**

Scopes:
write\_products


##### Body Parameters

- plans







array





\\* Required














An array of plans to be updated. Must provide ID for each plan.










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/products/{external\_product\_id}/plans-bulk


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/products/2103271587891/plans-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "plans": [\
        {\
            "id": 88237,\
            "title": "Updated T-Shirt"\
        },\
        {\
            "id": 88238,\
            "title": "Updated T-Shirt"\
        }\
    ]
 }'
```

Response

200


```hljs json
{
  "plans": [\
    {\
      "id": 88237,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 1,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 30,\
        "cutoff_day_of_month": null,\
        "cutoff_day_of_week": null,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 30\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    },\
    {\
      "id": 88238,\
      "channel_settings": {\
        "api": {\
          "display": true\
        },\
        "checkout_page": {\
          "display": true\
        },\
        "customer_portal": {\
          "display": true\
        },\
        "merchant_portal": {\
          "display": true\
        }\
      },\
      "created_at": "2021-07-27T19:07:34+00:00",\
      "discount_amount": "10",\
      "discount_type": "percentage",\
      "external_product_id": {\
        "ecommerce": "2103271587891"\
      },\
      "sort_order": 2,\
      "title": "Concert T-Shirt",\
      "type": "subscription",\
      "subscription_preferences": {\
        "charge_interval_frequency": 60,\
        "expire_after_specific_number_of_charges": 6,\
        "interval_unit": "day",\
        "order_day_of_month": 1,\
        "order_interval_frequency": 60\
      },\
      "updated_at": "2021-07-27T19:07:34+00:00"\
    }\
  ]
}
```

# Bulk delete plans

Bulk delete existing plans.

**There is a limit of 20 plans per request.**

Scopes:
write\_products


##### Body Parameters

- plans







array





\\* Required














An array of plans to be deleted. Must provide ID for each plan.










Show object attributes



##### More Parameters

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/products/{external\_product\_id}/plans-bulk


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/products/2103271587891/plans-bulk' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "plans": [\
        {\
            "id": 88237\
        },\
        {\
            "id": 88238\
        }\
    ]
 }'
```

Response

204


```hljs json
{}
```

# Products

[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Representation of the Products from your catalog in Recharge. ![](https://developer.getrecharge.com/images/product.png)

Endpoints

POST

/products


GET

/products/{external\_product\_id}


PUT

/products/{external\_product\_id}


DELETE

/products/{external\_product\_id}


GET

/products


Expand

# The product object

##### Attributes

- external\_product\_id







string














Unique numeric identifier of the product record in Recharge. The primary id of the record.

- brand







string














The brand name of the product.

- external\_created\_at







datetime














The date and time at which the product was created in an external product catalog.

- external\_updated\_at







datetime














The date and time at which the product was updated in an external product catalog.

- images







array














An array of urls for various sizes of image files.










Show object attributes


- options




















An array of options for the product record, such as size, color, etc.










Show object attributes


- published\_at







datetime














The datetime at which the product became available for purchase. To make the product available, this should be set in the past.

- requires\_shipping







boolean














Indicator of shipping requirement.







Dictates the default for the variants. Can be overriden at the variant level.

- title







string














The title of the product.

- variants







array














An array of variants of the product.







If your PIM does not use variants, create a single variant product.










Show object attributes


- vendor







string














The vendor of the product.


##### Error related attributes

##### More Attributes

The product object

```hljs json
{
  "brand": "Recharge",
  "description": "A cotton shirt with the Recharge logo",
  "external_created_at": "2021-01-01T00:00:00+00:00",
  "external_product_id": "5",
  "external_updated_at": "2021-01-01T00:00:00+00:00",
  "images": [\
    {\
      "small": "https:...",\
      "medium": "https:...",\
      "large": "https:...",\
      "original": "https:...",\
      "sort_order": 2\
    }\
  ],
  "options": [\
    {\
      "name": "Size",\
      "position": 0,\
      "values": [\
        {\
          "label": "small",\
          "position": 0\
        },\
        {\
          "label": "medium",\
          "position": 1\
        },\
        {\
          "label": "large",\
          "position": 2\
        }\
      ]\
    }\
  ],
  "published_at": "2021-01-01:00:00+00:00",
  "requires_shipping": true,
  "title": "Recharge Logo Shirt",
  "variants": [\
    {\
      "external_variant_id": " 9",\
      "dimensions": {\
        "weight": 1234.5\
      },\
      "image": {\
        "small": "https:....jpeg",\
        "medium": "https:....jpeg",\
        "large": "https:....jpeg",\
        "original": "https:....jpeg"\
      },\
      "option_values": [\
        {\
          "label": "small"\
        }\
      ],\
      "requires_shipping": true,\
      "sku": "CLO123",\
      "title": "Recharge Logo Shirt - Small",\
      "taxable": true,\
      "tax_code": "CLOTHING",\
      "prices": {\
        "compare_at_price": "14.22",\
        "unit_price": "12.22"\
      }\
    }\
  ],
  "vendor": "Recharge Apparel Store"
}
```

# Create a product

[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Create a new product in your Recharge Product Catalog. After adding the record, subscription preferences may be added using the Products page of Recharge Admin Portal or you can use the `Plans` resource currently in `Alpha`.

Scopes:
write\_products


##### Body Parameters

- external\_product\_id







object





\\* Required














Unique numeric identifier of the product record in Recharge. The primary id of the record.










Show object attributes


- brand







string














The brand name of the product.

- external\_created\_at







datetime














The date and time at which the product was created in an external product catalog.

- external\_updated\_at







datetime














The date and time at which the product was updated in an external product catalog.

- images







array














An array of urls for various sizes of image files.







`small` is the default picture shown on the checkout. If `small` is not present we render `original`. Please note for better rendering we advise you populate `small`.










Show object attributes


- options











\\* Required














An array of options for the product record, such as size, color, etc.










Show object attributes


- published\_at







datetime














The date and time at which the product became available for purchase. To make the product available, this should be set in the past.

- requires\_shipping







string














Indicator of shipping requirement. If `true` the product associated to the variant needs to be shipped.







This is usually false for digital goods.

- title







string





\\* Required














The title of the product.

- variants







array





\\* Required














An array of variants of the product.







If your PIM does not use variants, create a single variant product.










Show object attributes


- vendor







string





\\* Required














The vendor of the product.


##### More Parameters

##### Responses

- 202




















successful response










Show response object



POST

/products


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products' \
 -H 'X-Recharge-Version: 2021-11'
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "external_product_id": "10",
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "images": [\
        {\
            "small": "https:...",\
            "medium": "https:...",\
            "large": "https:...",\
            "original": "https:...",\
            "sort_order": 2\
        }\
    ],
    "options": [\
        {\
            "name": "Size",\
            "position": 0,\
            "values": [\
                {"label": "small", "position": 0},\
                {"label": "medium", "position": 1},\
                {"label": "large", "position": 2}\
            ]\
        }\
    ],
    "published_at": "2021-01-01:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
        {\
            "external_variant_id": "9",\
            "dimensions": {\
                "weight": 1234.5\
            },\
            "image": {\
              "small": "https:...",\
              "medium": "https:...",\
              "large": "https:...",\
              "original": "https:..."\
            },\
            "option_values": [\
                {\
                    "label": "small"\
                }\
            ],\
            "sku": "CLO123",\
            "title": "Recharge Logo Shirt - Small",\
            "taxable": true,\
            "tax_code": "CLOTHING",\
            "prices": {\
                "compare_at_price": "14.22",\
                "unit_price": "12.22"\
            }\
        }\
    ],
    "vendor": "Recharge Apparel Store"
}'
```

Response

202


```hljs json
{
  "product": {
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "external_created_at": "2021-01-01T00:00:00+00:00",
    "external_product_id": "10",
    "external_updated_at": "2021-01-01T00:00:00+00:00",
    "images": [\
      {\
        "large": "https:...",\
        "medium": "https:...",\
        "original": "https:...",\
        "small": "https:...",\
        "sort_order": 2\
      }\
    ],
    "options": [\
      {\
        "name": "Size",\
        "position": 0,\
        "values": [\
          {\
            "label": "small",\
            "position": 0\
          },\
          {\
            "label": "medium",\
            "position": 1\
          },\
          {\
            "label": "large",\
            "position": 2\
          }\
        ]\
      }\
    ],
    "published_at": "2021-01-01T00:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
      {\
        "dimensions": {\
          "weight": 1234.5,\
          "weight_unit": "lb"\
        },\
        "external_variant_id": "9",\
        "image": {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:..."\
        },\
        "option_values": [\
          {\
            "label": "small"\
          }\
        ],\
        "prices": {\
          "compare_at_price": "14.22",\
          "unit_price": "12.22"\
        },\
        "sku": "CLO123",\
        "tax_code": "CLOTHING",\
        "taxable": true,\
        "title": "Recharge Logo Shirt - Small",\
        "requires_shipping": true\
      }\
    ],
    "vendor": "Recharge Apparel Store"
  }
}
```

# Retrieve a product

[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Retrieves a `Product` from store’s product catalog using the `external_product_id` as lookup id.

Scopes:
read\_products


##### Responses

- 200




















successful response










Show response object



GET

/products/{external\_product\_id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products/10' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "product": {
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "external_created_at": "2021-01-01T00:00:00+00:00",
    "external_product_id": "10",
    "external_updated_at": "2021-01-01T00:00:00+00:00",
    "images": [\
      {\
        "large": "https:...",\
        "medium": "https:...",\
        "original": "https:...",\
        "small": "https:...",\
        "sort_order": 2\
      }\
    ],
    "options": [\
      {\
        "name": "Size",\
        "position": 0,\
        "values": [\
          {\
            "label": "small",\
            "position": 0\
          },\
          {\
            "label": "medium",\
            "position": 1\
          },\
          {\
            "label": "large",\
            "position": 2\
          }\
        ]\
      }\
    ],
    "published_at": "2021-01-01T00:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
      {\
        "dimensions": {\
          "weight": 1234.5,\
          "weight_unit": "lb"\
        },\
        "external_variant_id": "9",\
        "image": {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:..."\
        },\
        "option_values": [\
          {\
            "label": "small"\
          }\
        ],\
        "prices": {\
          "compare_at_price": "14.22",\
          "unit_price": "12.22"\
        },\
        "sku": "CLO123",\
        "tax_code": "CLOTHING",\
        "taxable": true,\
        "title": "Recharge Logo Shirt - Small",\
        "requires_shipping": true\
      }\
    ],
    "vendor": "Recharge Apparel Store"
  }
}
```

# Update a product

[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Update an existing product.

Scopes:
write\_products


##### Body Parameters

- brand







string














The brand name of the product.

- external\_created\_at







datetime














The date and time at which the product was created in an external product catalog.

- external\_updated\_at







datetime














The date and time at which the product was updated in an external product catalog.

- images







array














An array of urls for various sizes of image files.










Show object attributes


- options




















An array of options for the product record, such as size, color, etc.










Show object attributes


- published\_at







datetime














The datetime at which the product became available for purchase. To make the product available, this should be set in the past.

- requires\_shipping







boolean














Indicator of shipping requirement. If `true` the product associated to the variant needs to be shipped.







This is usually `false` for digital goods.

- title







string














The title of the product.

- variants







array














An array of variants of the product.







If your PIM does not use variants, create a single variant product.










Show object attributes


- vendor







string














The vendor of the product.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/products/{external\_product\_id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/products/1327844' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
    "brand": "Recharge",
    "variants": [\
        {\
            "external_variant_id": "101",\
            "dimensions": {\
                "weight": 1234.5\
            },\
            "image": {\
              "small": "https:...",\
              "medium": "https:...",\
              "large": "https:...",\
              "original": "https:..."\
            },\
            "option_values": [{\
              "label": "small"\
            }],\
            "sku": "CLO123",\
            "title": "Small Recharge Logo Shirt",\
            "taxable": true,\
            "tax_code": "CLOTHING",\
            "prices": {\
                "compare_at_price": "14.22",\
                "unit_price": "12.22"\
            }\
        },\
        {\
            "external_variant_id": "102",\
            "dimensions": {\
                "weight": 1234.5\
            },\
            "image": {\
              "small": "https:...",\
              "medium": "https:...",\
              "large": "https:...",\
              "original": "https:..."\
            },\
            "option_values": [{\
              "label": "medium"\
            }],\
            "sku": "CLO124",\
            "title": "Medium Recharge Logo Shirt",\
            "taxable": true,\
            "tax_code": "CLOTHING",\
            "prices": {\
                "compare_at_price": "14.22",\
                "unit_price": "12.22"\
            }\
        }\
    ]
}'
```

Response

200


```hljs json
{
  "product": {
    "brand": "Recharge",
    "description": "A cotton shirt with the Recharge logo",
    "external_created_at": "2021-01-01T00:00:00+00:00",
    "external_product_id": "10",
    "external_updated_at": "2021-01-01T00:00:00+00:00",
    "images": [\
      {\
        "large": "https:...",\
        "medium": "https:...",\
        "original": "https:...",\
        "small": "https:...",\
        "sort_order": 2\
      }\
    ],
    "options": [\
      {\
        "name": "Size",\
        "position": 0,\
        "values": [\
          {\
            "label": "small",\
            "position": 0\
          },\
          {\
            "label": "medium",\
            "position": 1\
          },\
          {\
            "label": "large",\
            "position": 2\
          }\
        ]\
      }\
    ],
    "published_at": "2021-01-01T00:00:00+00:00",
    "requires_shipping": true,
    "title": "Recharge Logo Shirt",
    "variants": [\
      {\
        "dimensions": {\
          "weight": 1234.5,\
          "weight_unit": "lb"\
        },\
        "external_variant_id": "9",\
        "image": {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:..."\
        },\
        "option_values": [\
          {\
            "label": "small"\
          }\
        ],\
        "prices": {\
          "compare_at_price": "14.22",\
          "unit_price": "12.22"\
        },\
        "sku": "CLO123",\
        "tax_code": "CLOTHING",\
        "taxable": true,\
        "title": "Recharge Logo Shirt - Small",\
        "requires_shipping": true\
      }\
    ],
    "vendor": "Recharge Apparel Store"
  }
}
```

# Delete a product

[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

Delete product from `Store`.

Scopes:
write\_products


##### Responses

- 204




















successful response










Show response object



DELETE

/products/{external\_product\_id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/products/509780' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List products

[Custom](https://developer.getrecharge.com/2021-11/checkouts/checkout_create#tags_legend)

List products from store’s product catalog.

Scopes:
read\_products


##### Query Parameters

- external\_product\_ids







string














Filter products by external product ids.







`GET /products/?external_product_ids=123,223` will return all products with the associated `external_product_ids`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/products


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/products' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "products": [\
    {\
      "brand": "Recharge",\
      "description": "A cotton shirt with the Recharge logo",\
      "external_created_at": null,\
      "external_product_id": "10",\
      "external_updated_at": "2021-07-21T17:25:46+00:00",\
      "images": [\
        {\
          "large": "https:...",\
          "medium": "https:...",\
          "original": "https:...",\
          "small": "https:...",\
          "sort_order": 2\
        }\
      ],\
      "options": [\
        {\
          "name": "Size",\
          "position": 0,\
          "values": [\
            {\
              "label": "small",\
              "position": 0\
            },\
            {\
              "label": "medium",\
              "position": 1\
            },\
            {\
              "label": "large",\
              "position": 2\
            }\
          ]\
        }\
      ],\
      "published_at": "2021-01-01T00:00:00+00:00",\
      "requires_shipping": true,\
      "title": "Recharge Logo Shirt",\
      "variants": [\
        {\
          "dimensions": {\
            "weight": 1234.5,\
            "weight_unit": "lb"\
          },\
          "external_variant_id": "101",\
          "image": {\
            "large": "https:...",\
            "medium": "https:...",\
            "original": "https:...",\
            "small": "https:..."\
          },\
          "option_values": [\
            {\
              "label": "small"\
            }\
          ],\
          "prices": {\
            "compare_at_price": "14.22",\
            "unit_price": "12.22"\
          },\
          "sku": "CLO123",\
          "tax_code": "CLOTHING",\
          "taxable": true,\
          "title": "Small Recharge Logo Shirt",\
          "requires_shipping": true\
        },\
        {\
          "dimensions": {\
            "weight": 1234.5,\
            "weight_unit": "lb"\
          },\
          "external_variant_id": "102",\
          "image": {\
            "large": "https:...",\
            "medium": "https:...",\
            "original": "https:...",\
            "small": "https:..."\
          },\
          "option_values": [\
            {\
              "label": "medium"\
            }\
          ],\
          "prices": {\
            "compare_at_price": "14.22",\
            "unit_price": "12.22"\
          },\
          "sku": "CLO124",\
          "tax_code": "CLOTHING",\
          "taxable": true,\
          "title": "Medium Recharge Logo Shirt",\
          "requires_shipping": true\
        }\
      ],\
      "vendor": "Recharge Apparel Store"\
    }\
  ]
}
```

# Retention Strategies

Retention Strategies are customer retention workflows that are used to win back customers who are in the process of canceling their subscription. The workflow is determined by the cancellation reason selected by the customer.

Endpoints

POST

/retention\_strategies


GET

/retention\_strategies/{id}


PUT

/retention\_strategies/{id}


DELETE

/retention\_strategies/{id}


GET

/retention\_strategies


Expand

# The retention strategy object

The `RetentionStrategy` object holds a cancellation reason and an optional customer retention workflow. Possible retention workflows include delaying a shipment, skipping a shipment, swapping a product, and offering a discount.

##### Attributes

- id







integer














Unique numeric identifier for the `RetentionStrategy`.

- cancellation\_flow\_type







string













Possible values:

subscription,

membership










The type of `PurchaseItem` that the retention strategy applies to. The default value is “subscription”.

- created\_at







datetime














The date and time the `RetentionStrategy` was created.

- discount\_code







string














Discount code to offer customer when used with an `incentive_type` of `discount`.

- incentive\_type







string













Possible values:

delay\_subscription,

discount,

skip\_charge,

swap\_product










Type of incentive to offer customer.

- prevention\_text







string














A short phrase or question to ask for more details or to provide an alternative to canceling.

- reason







string














The reason for canceling.

- updated\_at







datetime














The date and time the `RetentionStrategy` was last updated.


##### Error related attributes

##### More Attributes

The retention strategy object

```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "created_at": "2021-07-31T20:45:00+00:00",
    "discount_code": null,
    "incentive_type": "swap_product",
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "updated_at": "2021-07-31T20:45:00+00:00"
  }
}
```

# Create a retention strategy

Create a retention strategy

Scopes:
write\_retention\_strategies


##### Body Parameters

- cancellation\_flow\_type







string













Possible values:

subscription,

membership










The type of `PurchaseItem` that the retention strategy applies to. The default value is “subscription”.

- incentive\_type







string













Possible values:

delay\_subscription,

discount,

skip\_charge,

swap\_product










Type of incentive to offer customer.

- discount\_code







string














Discount code to offer customer when used with an `incentive_type` of `discount`.







This field is required when `incentive_type` is set to `discount`.

- prevention\_text







string





\\* Required














A short phrase or question to ask for more details or to provide an alternative to canceling.

- reason







string





\\* Required














The reason for canceling.


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/retention\_strategies


cURLPythonPHPRuby

```hljs js
curl -X POST -i 'https://api.rechargeapps.com/retention_strategies' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -d '{
  "incentive_type": "swap_product",
  "prevention_text": "Would you like to swap the product out for another item?",
  "reason": "I want a different product or variety"
}'
```

Response

201


```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "incentive_type": "swap_product",
    "discount_code": null,
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "created_at": "2021-07-31T20:45:00+00:00",
    "updated_at": "2021-10-30T07:14:21+00:00"
  }
}
```

# Retrieve a retention strategy

Retrieve a retention strategy using the Recharge `retention_strategy_id`.

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/retention\_strategies/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/retention_strategies/12345' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "incentive_type": "swap_product",
    "discount_code": null,
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "created_at": "2021-07-31T20:45:00+00:00",
    "updated_at": "2021-07-31T20:45:00+00:00"
  }
}
```

# Update a retention strategy

Update an existing retention strategy.

Scopes:
write\_retention\_strategies


##### Body Parameters

- cancellation\_flow\_type







string













Possible values:

subscription,

membership










The type of `PurchaseItem` that the retention strategy applies to. The default value is “subscription”.

- incentive\_type







string













Possible values:

delay\_subscription,

discount,

skip\_charge,

swap\_product










Type of incentive to offer customer.

- discount\_code







string














Discount code to offer customer when used with an `incentive_type` of `discount`.







This field is required when `incentive_type` is set to `discount`.

- prevention\_text







string














A short phrase or question to ask for more details or to provide an alternative to canceling.

- reason







string














The reason for canceling.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/retention\_strategies/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/retention_strategies/12345' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"reason": "I want a different product or variety"}'
```

Response

200


```hljs json
{
  "retention_strategy": {
    "id": 12345,
    "cancellation_flow_type": "subscription",
    "incentive_type": "swap_product",
    "discount_code": null,
    "prevention_text": "Would you like to swap the product out for another item?",
    "reason": "I want a different product or variety",
    "created_at": "2021-07-31T20:45:00+00:00",
    "updated_at": "2021-07-31T20:45:00+00:00"
  }
}
```

# Delete a retention strategy

Delete a retention strategy.

Scopes:
write\_retention\_strategies


##### Responses

- 204




















successful response










Show response object



DELETE

/retention\_strategies/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/retention_strategies/12345' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List retention strategies

Retrieve all retention strategies

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/retention\_strategies


cURLPythonPHPRuby

```hljs js
curl -X GET -i 'https://api.rechargeapps.com/retention_strategies' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json"
```

Response

200


```hljs json
{
  "retention_strategies": [\
    {\
      "id": 12347,\
      "cancellation_flow_type": "subscription",\
      "incentive_type": null,\
      "discount_code": null,\
      "prevention_text": "Would you care to provide any additional details?",\
      "reason": "This was created by accident",\
      "created_at": "2021-11-09T16:00:00+00:00",\
      "updated_at": "2021-11-09T16:00:00+00:00"\
    },\
    {\
      "id": 12346,\
      "cancellation_flow_type": "subscription",\
      "incentive_type": "skip_charge",\
      "discount_code": null,\
      "prevention_text": "If you have more than you need, we can skip your upcoming order.",\
      "reason": "I already have more than I need",\
      "created_at": "2021-10-30T07:14:21+00:00",\
      "updated_at": "2021-10-30T07:14:21+00:00"\
    },\
    {\
      "id": 12345,\
      "cancellation_flow_type": "subscription",\
      "incentive_type": "swap_product",\
      "discount_code": null,\
      "prevention_text": "Would you like to swap the product out for another item?",\
      "reason": "I want a different product or variety",\
      "created_at": "2021-07-31T20:45:00+00:00",\
      "updated_at": "2021-07-31T20:45:00+00:00"\
    }\
  ]
}
```

# Store

The store endpoint includes ReCharge settings and other store specific information.

Endpoints

GET

/store


Expand

# The store object

The store endpoint includes Recharge settings and other store specific information.

##### Attributes

- id







integer














Unique number identifier of the store.

- checkout\_logo\_url







string














Checkout logo url.

- checkout\_platform







string














Checkout platform.

- created\_at







datetime














Date and time when the store is created.

- currency







string














Currency of the store.







Related guides: [Supported currencies](https://support.rechargepayments.com/hc/en-us/articles/360037897534-Supported-currencies)

- customer\_portal\_base\_url







string














Customer Portal Base URL.

- default\_api\_version







integer














Default API version.

- email







string














E-mail address of the store owner.

- enabled\_presentment\_currencies







array














Enabled currencies the store sells in.

- enabled\_presentment\_currencies\_symbols







array














Currency symbol used for enabled currencies the store sells in.










Show object attributes


- disabled\_currencies\_historical







array














A ledger of currencies that the store no longer sells in. If a currency is present in both the enabled\_presentment\_currencies and disabled\_currencies\_historical ledger it is because it was disabled at one point in time but is now enabled.

- external\_platform







string














External platform connected to Recharge.







Will be one of `shopify`, `big_commerce`, `headless`, or `magento`

- identifier







string














Unique identifier of the store on the external platform.

- merchant\_portal\_base\_url







string














Merchant portal base URL.

- name







string














Name of the store.

- phone







string














Phone number of the store owner.

- timezone







object














Timezone of the store.










Show object attributes


- updated\_at







datetime














The date and time when the address was last updated.

- weight\_unit







string














Weight unit for the store.


##### Error related attributes

##### More Attributes

The store object

```hljs json
{
  "store": {
    "id": 89559201,
    "checkout_logo_url": null,
    "checkout_platform": "recharge",
    "created_at": "2020-07-15T00:00:00+00:00",
    "currency": "USD",
    "customer_portal_base_url": null,
    "default_api_version": "2021-01",
    "email": "email@email.com",
    "external_platform": "shopify",
    "identifier": "store-id",
    "merchant_portal_base_url": null,
    "name": "store-name",
    "phone": "5555555555",
    "enabled_presentment_currencies": [\
      "USD"\
    ],
    "enabled_presentment_currencies_symbols": [\
      {\
        "currency": "USD",\
        "location": "before",\
        "suffix": "",\
        "symbol": "$"\
      }\
    ],
    "disabled_currencies_historical": [],
    "timezone": {
      "iana_name": "America/New_York",
      "name": "(GMT-05:00) Eastern Time (US & Canada)"
    },
    "updated_at": "2020-07-15T00:00:00+00:00",
    "weight_unit": "g"
  }
}
```

# Retrieve a store

Retrieve store details.

Scopes:
read\_store


##### Responses

- 200




















successful response










Show response object



GET

/store


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/store' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "store": {
    "id": 4797,
    "checkout_logo_url": null,
    "checkout_platform": "recharge",
    "created_at": "2020-04-22T00:20:52+00:00",
    "currency": "USD",
    "customer_portal_base_url": null,
    "default_api_version": "2021-01",
    "email": "email@email.com",
    "enabled_presentment_currencies": [\
      "USD"\
    ],
    "enabled_presentment_currencies_symbols": [\
      {\
        "currency": "USD",\
        "location": "before",\
        "suffix": "",\
        "symbol": "$"\
      }\
    ],
    "disabled_currencies_historical": [],
    "external_platform": "custom",
    "identifier": "store-id",
    "merchant_portal_base_url": null,
    "name": "store-name",
    "province": "Connecticut",
    "phone": "5555555555",
    "timezone": {
      "iana_name": "America/New_York",
      "name": "(GMT-05:00) Eastern Time (US & Canada)"
    },
    "updated_at": "2020-04-25T00:20:52+00:00",
    "weight_unit": "g"
  }
}
```

# Subscriptions

Subscriptions are individual items a customer receives on a recurring basis.

A `Subscription` is a `Product` added to an `Address`. ![](https://developer.getrecharge.com/images/subscription.png)

Endpoints

POST

/subscriptions


GET

/subscriptions/{id}


PUT

/subscriptions/{id}


DELETE

/subscriptions/{id}


GET

/subscriptions


POST

/subscriptions/{id}/set\_next\_charge\_date


POST

/subscriptions/{id}/change\_address


POST

/subscriptions/{id}/cancel


POST

/subscriptions/{id}/activate


POST

/subscriptions/skip\_gift


Expand

# The subscription object

Subscriptions are individual items a customer benefit from on a recurring basis.

These fields are deprecated, however they will not be removed from this API version.

`product_title` is deprecated. Use `title` instead.

`shipping_date` is deprecated. Use `scheduled_at` instead.

`shopify_id` is deprecated. Use `shopify_order_id` instead.

`address_is_active` is deprecated. Please ignore, not an applicable field.

##### Attributes

- id







integer














Unique numeric identifier for the subscription.

- address\_id







integer














Unique numeric identifier for the address the subscription is associated with.

- customer\_id







integer














Unique numeric identifier for the customer the subscription is tied to.

- analytics\_data







object














An object used to contain analytics data such as utm parameters.










Show object attributes


- cancellation\_reason







string














Reason provided for cancellation.

- cancellation\_reason\_comments







string














Additional comment for cancellation. Maximum length is 1024 characters.

- cancelled\_at







datetime














The time the subscription was cancelled.

- charge\_interval\_frequency







string













Max: 1000










The number of units (specified in `order_interval_unit`) between each `Charge`. For example, `order_interval_unit=month` and `charge_interval_frequency=3`, indicate charge every 3 months.







`Charges` must use the same unit types as orders.

- created\_at







datetime














The time the subscription was created.

- expire\_after\_specific\_number\_of\_charges







integer














Set the number of charges until subscription expires.

- external\_product\_id







object














An object containing the product id as it appears in external platforms.










Show object attributes


- external\_variant\_id







object














An object containing the variant id as it appears in external platforms.










Show object attributes


- has\_queued\_charges







boolean














Retrieves `true` if there is queued charge. Otherwise, retrieves `false`.

- is\_prepaid







boolean














Value is set to `true` if it is a prepaid item.

- is\_skippable







boolean














Value is set to `true` if it is not a prepaid item

- is\_swappable







boolean














Value is set to `true` if it is not a prepaid item and if in Customer portal settings swap is allowed for customers.

- max\_retries\_reached







boolean














Retrieves `true` if charge has an error max retries reached. Otherwise, retrieves `false`.

- next\_charge\_scheduled\_at







datetime














Date of the next charge for the subscription.

- order\_day\_of\_month







integer














The set day of the month order is created. Default is that there isn’t a strict day of the month when the order is created.







This is only applicable to subscriptions with `order_interval_unit:“month”`.

- order\_day\_of\_week







integer














The set day of the week order is created. Default is that there isn’t a strict day of the week order is created.







This is only applicable to subscriptions with `order_interval_unit = “week”`.

Value of 0 equals to Monday, 1 to Tuesday etc.

- order\_interval\_frequency







integer













Max: 1000










The number of units (specified in `order_interval_unit`) between each order. For example, order\_interval\_unit=month and order\_interval\_frequency=3, indicate order every 3 months. Max value: 1000

- order\_interval\_unit







string













Possible values:

day,

week,

month










The frequency unit used to determine when a subscription’s order is created.

- presentment\_currency







string














The presentment currency of the subscription.

- price







string














The price of the item before discounts, taxes, or shipping have been applied.

- product\_title







string














The name of the product in a store’s catalog.

- properties







array














A list of line item objects, each one containing information about the subscription. Custom key-value pairs can be installed here, they will appear on the connected queued charge and after it is processed on the order itself.










Show object attributes


- quantity







integer














The number of items in the subscription.

- sku







string














A unique identifier of the item in the fulfillment. In cases where SKU is blank, it will be dynamically pulled whenever it is used.

- sku\_override







boolean














Flag that is automatically updated to `true` when SKU is passed on create or update. When `sku_override` is `true`, the SKU on the subscription will be used to generate charges and orders. When `sku_override` is `false`, Recharge will dynamically fetch the SKU from the corresponding external platform variant.

- status







string













Possible values:

active,

cancelled,

expired










The status of the subscription.







`EXPIRED` \- This status occurs when the maximum number of charges for a product has been reached.

- updated\_at







datetime














The date time at which the purchase\_item record was last updated.

- variant\_title







string














The name of the variant in a shop’s catalog.


##### Error related attributes

##### More Attributes

The subscription object

```hljs json
{
  "subscription": {
    "id": 89559201,
    "address_id": 48563471,
    "customer_id": 43845860,
    "analytics_data": {
      "utm_params": []
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": "30",
    "created_at": "2021-02-25T21:27:19+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "2103271587891"
    },
    "external_variant_id": {
      "ecommerce": "18261278883891"
    },
    "has_queued_charges": true,
    "is_prepaid": true,
    "is_skippable": false,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2020-07-15",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 15,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": 5,
    "product_title": "Powder Milk 50.00% Off Auto renew",
    "properties": [\
      {\
        "name": "Colour",\
        "value": "White"\
      },\
      {\
        "name": "Package Material",\
        "value": "Paper"\
      }\
    ],
    "quantity": 3,
    "sku": null,
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-07-10T10:30:51+00:00",
    "variant_title": "1 / Powder"
  }
}
```

# Create a subscription

When creating a subscription via API, `order_interval_frequency` and `charge_interval_frequency` values do not necessarily need to match the values set in the respective `Plans`. The product, however, does need to have at least one `Plan` in order to be added to a subscription.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer





\\* Required














Unique numeric identifier of the customer’s address.

- charge\_interval\_frequency







integer





\\* Required














The number of units, specified in `order_interval_unit`, between each charge.

- expire\_after\_specific\_number\_of\_charges







integer














The number of charges until the subscription expires.

- next\_charge\_scheduled\_at







datetime





\\* Required














This will set the first charge date of a new subscription.

- order\_day\_of\_month







integer














This is populated when order\_interval\_unit has value “month”. Default value is 0.

- order\_day\_of\_week







integer














This is populated when order\_interval\_unit has value “week”.

- order\_interval\_frequency







integer





\\* Required














The number of units, specified in order\_interval\_unit, between each order.

- order\_interval\_unit







string





\\* Required













Possible values:

day,

week,

month










The frequency unit used to determine when a subscription order is created.

- plan\_id







integer














A Recharge Plan id that provides interval information. Automatically fills the following properties from the plan if they were not provided directly: charge\_interval\_frequency, expire\_after\_specific\_number\_of\_charges, order\_day\_of\_month, order\_day\_of\_week, order\_interval\_frequency, order\_interval\_unit.

- price







string














The price of the product.

- product\_title







string














The name of the product.

- properties







array














A list of key/value pairs representing properties of the subscription.










Show object attributes


- quantity







integer





\\* Required














The quantity of the product.

- external\_product\_id







object














Unique numeric identifier of the product id.










Show object attributes


- external\_variant\_id







object





\\* Required














Unique numeric identifier of the product variant id.










Show object attributes


- status







string













Possible values:

active,

cancelled,

expired










Default is set to `active`.


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/subscriptions


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "address_id": 48563471,
  "charge_interval_frequency": "30",
  "next_charge_scheduled_at": "2021-12-17",
  "order_interval_frequency": "30",
  "order_interval_unit": "day",
  "properties": [\
    {\
      "name": "Colour",\
      "value": "Yellow"\
    },\
    {\
      "name": "Bottle Material",\
      "value": "Glass"\
    }\
  ],
  "external_variant_id": {
    "ecommerce": "32165284380775"
  },
  "quantity": 3
}'
```

Response

201


```hljs json
{
  "subscription": {
    "id": 63898947,
    "address_id": 48563471,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 30,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32165284380775"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-12-17",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 30,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Retrieve a subscription

Retrieve a subscription using the Recharge `subscription_id`.

Scopes:
read\_subscriptions


##### Responses

- 200




















successful response










Show response object



GET

/subscriptions/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 63898947,
    "address_id": 48563471,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 30,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32165284380775"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-12-17",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 30,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Update a subscription

Update an existing subscription.

Updating parameters like `frequency`, `charge_interval_frequency`, `order_interval_frequency`, `order_interval_unit` will cause our algorithm to automatically recalculate the next charge date ( `next_charge_scheduled_at`). If you want to change the next charge date ( `next_charge_scheduled_at`) we recommend you to update these parameters first.

When updating subscription `status` attribute from `cancelled` to `active`, following attributes will be set to null: `cancelled_at`, `cancellation_reason` and `cancellation_reason_comments`

When updating `order_interval_unit` OR `order_interval_frequency` OR `charge_interval_frequency` all three parameters are required.

Scopes:
write\_subscriptions


##### Query Parameters

- commit







boolean














Controls whether the `QUEUED` charges linked to the subscription should be regenerated upon subscription update. By default the flag is set to `false` which will delay charge regeneration 5 seconds. This enables running multiple calls to perform changes and receive responses much faster since the API won’t wait for a charge regeneration to complete. Setting this parameter to `true` will cause charge regeneration to complete before returning a response.

- force\_update







boolean














If set to `True`, updates will also be applied to `CANCELLED` subscriptions. If `null` or `False`, only `ACTIVE` subscriptions will be updated.


##### More Parameters

##### Body Parameters

- charge\_interval\_frequency







integer













Max: 1000










The number of units (specified in order\_interval\_unit) between each charge. Required when updating order\_interval\_unit.



WARNING: This update will remove skipped and manually changed charges.

- expire\_after\_specific\_number\_of\_charges







integer














The number of charges until subscription expires.

- external\_variant\_id







object














Unique number identifier of the product variant in your external platform.










Show object attributes


- order\_day\_of\_month







string














The day of the month the order is created on.



WARNING: this update will remove skips and manually changed charges.

- order\_day\_of\_week







string














The day of the week the order is created on.



WARNING: this update will remove skips and manually changed charges.

- order\_interval\_frequency







string














The number of units (specified in order\_interval\_unit) between each order. Required when updating order\_interval\_unit.



WARNING: This update will remove skipped and manually changed charges.

- order\_interval\_unit







string













Possible values:

day,

week,

month










The frequency unit used to determine when a subscription order is created.



WARNING: This update will remove skipped and manually changed charges.

- plan\_id







integer














A Recharge Plan id that provides interval information. Automatically fills the following properties from the plan if they were not provided directly: charge\_interval\_frequency, expire\_after\_specific\_number\_of\_charges, order\_day\_of\_month, order\_day\_of\_week, order\_interval\_frequency, order\_interval\_unit.

- price







string














The price of the item before discounts, taxes, or shipping has been applied.

- product\_title







string














The name of the product.

- properties







array














A list of key/value pairs representing properties of the subscription.










Show object attributes


- quantity







string














The number of items in the subscription.

- sku







string














A unique identifier of the item in the fulfillment.

- sku\_override







boolean














Flag is automatically updated to `true` when SKU is passed on create or update. When `sku_override` is `true`, the SKU on the subscription will be used to generate charges and orders.

When `sku_override` is `false`, Recharge will dynamically fetch the sku from the corresponding external platform variant.

- use\_external\_variant\_defaults







boolean














Flag instructing to pull the `price` from the product variant passed.







You need to pass the variant\_id under `external_variant_id.ecommerce` and set this attribute to `true` in the request for the flag to work.

- variant\_title







string














The name of the product variant.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/subscriptions/{id}


cURLPythonPHPRuby

```hljs js
curl -X PUT 'https://api.rechargeapps.com/subscriptions/27363808' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{
  "quantity": 4
}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 63898947,
    "address_id": 48563471,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 30,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32165284380775"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-12-17",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 30,
    "order_interval_unit": "day",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Delete a subscription

We now have a feature for deleting a subscription.

Scopes:
write\_subscriptions


##### Body Parameters

- send\_email







boolean














When your store setting indicates that cancellation emails should be sent, this value determines if the email should be sent for the specified subscription cancellation.







If set to `true`, cancellation emails will be sent for the specified subscription cancellations. If set to `false`, cancellation emails will not be sent.


##### More Parameters

##### Responses

- 204




















successful response










Show response object



DELETE

/subscriptions/{id}


cURLPythonPHPRuby

```hljs js
curl -X DELETE 'https://api.rechargeapps.com/subscriptions/27363808' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

204


```hljs json
{}
```

# List subscriptions

Returns a list of all your subscriptions.

## HTTP request examples

`GET /subscriptions`

`GET /subscriptions?created_at_min=2018-10-10&created_at_max=2019-10-16`

`GET /subscriptions?customer_id=<customer_id>`

Scopes:
read\_subscriptions


##### Query Parameters

- address\_id







string














Return the subscriptions linked to the given `address_id`.







Not compatible with `address_ids`.

- address\_ids







string














Return the subscriptions linked to the given `address_ids`.







Accepts a comma separated list of address\_ids as value.

Not compatible with `address_id`

- created\_at\_max







string














Return the subscriptions created before the given date.

- created\_at\_min







string














Return the subscriptions created after the given date.

- cursor







string














Return either the next or previous page of subscriptions using `next_cursor` or `previous_cursor` attributes in the response.

- customer\_id







string














Return the subscriptions linked to the given Recharge customer id.

- external\_variant\_id







string














Return the subscriptions linked to the given external\_variant\_id

- ids







string














Comma-separated list of `subscription_ids` to filter

- limit







string













Default: 50





Max: 250










The number of results.

- page







string





\*Deprecated













Default: 1










The page to show.







Page-based pagination has been deprecated but still available to use for pages up to a 100. If you need data past this point, use [cursor pagination.](https://developer.rechargepayments.com/2021-01/cursor_pagination)

- status







string













Possible values:

active,

cancelled,

expired










Return the subscriptions with specified status.

- updated\_at\_max







string














Return the subscriptions updated before the given date.

- updated\_at\_min







string














Return the subscriptions updated after the given date.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/subscriptions


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "next_cursor": "next_cursor",
  "previous_cursor": "previous_cursor",
  "subscriptions": [\
    {\
      "id": 63898947,\
      "address_id": 42171447,\
      "customer_id": 37657002,\
      "analytics_data": {\
        "utm_params": {\
          "utm_source": "facebook",\
          "utm_medium": "cpc"\
        }\
      },\
      "cancellation_reason": null,\
      "cancellation_reason_comments": null,\
      "cancelled_at": null,\
      "charge_interval_frequency": 1,\
      "created_at": "2020-02-19T17:40:09+00:00",\
      "expire_after_specific_number_of_charges": 5,\
      "external_product_id": {\
        "ecommerce": "4381728735283"\
      },\
      "external_variant_id": {\
        "ecommerce": "32165284380775"\
      },\
      "has_queued_charges": false,\
      "is_prepaid": false,\
      "is_skippable": true,\
      "is_swappable": false,\
      "max_retries_reached": false,\
      "next_charge_scheduled_at": "2021-12-17",\
      "order_day_of_month": null,\
      "order_day_of_week": null,\
      "order_interval_frequency": 1,\
      "order_interval_unit": "month",\
      "presentment_currency": "USD",\
      "price": "10.00",\
      "product_title": "ABC Shirt",\
      "properties": [\
        {\
          "name": "Color",\
          "value": "Blue"\
        },\
        {\
          "name": "Size",\
          "value": "Large"\
        }\
      ],\
      "quantity": 1,\
      "sku": "TOM0001",\
      "sku_override": false,\
      "status": "active",\
      "updated_at": "2020-02-19T17:40:10+00:00",\
      "variant_title": "Blue star"\
    }\
  ]
}
```

# Change a subscription next charge date

Update an existing subscription’s next charge date.

If there are two active subscriptions with the same `address_id`, and you update their `next_charge_date` parameters to match, their charges will get merged into a new charge with a new `id`

Scopes:
write\_subscriptions


##### Body Parameters

- date







string





\\* Required














The next charge date desired.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/set\_next\_charge\_date


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/set_next_charge_date' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"date": "2021-08-05"}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Change a subscription address

New

Update an existing subscription’s address.

Scopes:
write\_subscriptions


##### Body Parameters

- address\_id







integer





\\* Required














Unique id of the address that need to be associated with subscription.

- next\_charge\_scheduled\_at







string














The next charge date desired.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/change\_address


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/change_address' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -d '{"address_id": 23397943}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Cancel a subscription

Cancel an active subscription.

An involuntary subscription cancelled due to max retries reached will trigger the charge/max\_retries\_reached webhook.

Scopes:
write\_subscriptions


##### Body Parameters

- cancellation\_reason







string





\\* Required














Reason for subscription cancellation.

- cancellation\_reason\_comments







string














Cancellation reason comment. Maximum length is 1024 characters.

- send\_email







boolean














If set to `false`, subscription cancelled email will not be sent to customer and store owner. Note: even if set to True, there are some conditions where an email will not be sent. They are: inactive subscription\_cancellation email template, customer or subscription was created on the same day, subscription is for a membership, email already sent for this subscription in the last 24 hours, customer has other active subscriptions or onetimes


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/cancel


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/cancel' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"cancellation_reason": "other reason"}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Activate a subscription

Activate a cancelled subscription.

When activating subscription, following attributes will be set to null: `cancelled_at`, `cancellation_reason` and `cancellation_reason_comments`.

Scopes:
write\_subscriptions


##### Responses

- 200




















successful response










Show response object



POST

/subscriptions/{id}/activate


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/27363808/activate' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

200


```hljs json
{
  "subscription": {
    "id": 27363808,
    "address_id": 42171447,
    "customer_id": 37657002,
    "analytics_data": {
      "utm_params": {
        "utm_source": "facebook",
        "utm_medium": "cpc"
      }
    },
    "cancellation_reason": null,
    "cancellation_reason_comments": null,
    "cancelled_at": null,
    "charge_interval_frequency": 1,
    "created_at": "2020-02-19T17:40:09+00:00",
    "expire_after_specific_number_of_charges": null,
    "external_product_id": {
      "ecommerce": "4381728735283"
    },
    "external_variant_id": {
      "ecommerce": "32309455192167"
    },
    "has_queued_charges": true,
    "is_prepaid": false,
    "is_skippable": true,
    "is_swappable": false,
    "max_retries_reached": false,
    "next_charge_scheduled_at": "2021-08-05",
    "order_day_of_month": null,
    "order_day_of_week": null,
    "order_interval_frequency": 1,
    "order_interval_unit": "month",
    "presentment_currency": "USD",
    "price": "10.00",
    "product_title": "ABC Shirt",
    "properties": [\
      {\
        "name": "Color",\
        "value": "Blue"\
      },\
      {\
        "name": "Size",\
        "value": "Large"\
      }\
    ],
    "quantity": 1,
    "sku": "TOM0001",
    "sku_override": false,
    "status": "active",
    "updated_at": "2020-02-19T17:40:10+00:00",
    "variant_title": "Blue star"
  }
}
```

# Gift a skipped subscription

Gift a skipped `Subscription` to a recipient.

Scopes:
write\_subscriptions


##### Body Parameters

- purchase\_item\_ids







array





\\* Required














A list containing the `Subscription` IDs to be skipped.

- recipient\_address







object





\\* Required














An object that contains information associated with the giftee’s Address










Show object attributes



##### More Parameters

##### Responses

- 200




















successful response










Show response object


- 422




















invalid data passed to the endpoint










Show response object



POST

/subscriptions/skip\_gift


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/subscriptions/skip_gift' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{"recipient_address": {
  "address1": "1776 Washington Street",
  "address2": "",
  "city": "Los Angeles",
  "company": "Recharge",
  "country_code": "US",
  "first_name": "John",
  "last_name": "Doe",
 "phone": "5551234567",
 "province": "California",
  "zip": "90404", "email": "fake@example.com"
 },
"purchase_item_ids": [27363808, 27363809]}'
```

Response

200

422


```hljs json
{
  "onetimes": [\
    {\
      "id": 16909886,\
      "address_id": 45154492,\
      "created_at": "2021-05-24T19:14:25+00:00",\
      "customer_id": 40565990,\
      "external_product_id": {\
        "ecommerce": "4950280863846"\
      },\
      "external_variant_id": {\
        "ecommerce": "32139793137766"\
      },\
      "is_cancelled": false,\
      "next_charge_scheduled_at": "2021-12-17T05:00:00+00:00",\
      "price": "6.00",\
      "product_title": "ABC Shirt",\
      "properties": [\
        {\
          "name": "Color",\
          "value": "Blue"\
        }\
      ],\
      "quantity": 1,\
      "sku": "TOM0001",\
      "sku_override": false,\
      "updated_at": "2021-05-24T19:30:14+00:00",\
      "variant_title": "Blue star"\
    }\
  ]
}
```

# Webhook endpoints

Webhooks are a mechanism for reacting to specific events that are triggered in the Recharge system.

For example, a checkout completion, a customer activation or subscription cancellation. Webhooks will deliver you the data of the specific event in real-time. This data can be used to custom code logic behind automated subscription management, dashboards creation, discounts applying…

When a webhook is triggered, the payload will be identical to the payload you would receive from another API endpoint.

For example, a webhook on subscription/created will be identical to the payload for retrieving a subscription by ID from the Recharge API.

There are a lot of things that can be done via Webhooks: It can be used to collect all kinds of data from our API and then create a custom Dashboard to show how much and when your customers are buying in real time, or use all this data to do Analytics of some kind in order to create a better customer experience. Webhooks can be used as a “Trigger” on your backend to update subscription products.

If you have some kind of a Subscription where you want to change the Product that the customer gets every month, you can do it by waiting for an order/created webhook on your backend, and when it fires you can make an API call to change the Product of that subscription or the next shipping date, etc.

## Retries / Idempotency

Due to webhook retries, it’s possible that your application receives the same webhook more than once. Ensure idempotency of the webhook call by detecting such duplicates within your application.

## Respond to a webhook

Your webhook acknowledges that it received data by sending a `200` OK response. Any response outside of the `200` range will let Recharge know that you didn’t receive your webhook. Recharge has implemented a 5 second time-out period. We wait 5 seconds, if our system doesn’t get a response in that period we consider that request as failed. Our system will try 20 times to send the same webhook over the next 2 days, if the request fails every time our system will delete this webhook. At this moment our system is logging those deleted webhooks.

Endpoints

POST

/webhooks


GET

/webhooks/{id}


PUT

/webhooks/{id}


DELETE

/webhooks/{id}


GET

/webhooks


POST

/webhooks/{id}/test


Expand

# The Webhook object

Please note that the store domain header has changed to X-Recharge-External-Platform-Domain

Related guides:
[Extending webhook responses](https://developer.rechargepayments.com/2021-11/extending_responses)

These topics are deprecated, however they will not be removed from this API version: `checkout/completed`.

##### Attributes

- id







integer














Unique numeric identifier for the webhook.

- address







string














The URI where the webhook should send the `POST` request when the event occurs.

- included\_objects







array













Possible values:

addresses,

collections,

customer,

metafields










List of objects set to enrich the webhook payload. cf. [extending responses](https://developer.rechargepayments.com/2021-11/extending_responses)

- topic







string














The event that will trigger the webhook.

- version







string














The version of the API used to populate the body of the webhook. If not set, this will default to the store’s default API version.


##### Error related attributes

##### More Attributes

The Webhook object

```hljs json
{
  "webhook": {
    "id": 19451,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-11"
  }
}
```

# Available webhooks

The list of all available webhooks.

Related guides: [Webhook payload examples](https://docs.rechargepayments.com/docs/webhook-payload-examples)

| Object | Topics | Scope Required |
| --- | --- | --- |
| `Address` | `address/created` `address/updated` | read\_customers |
| `Async_batch` | `async_batch/processed` | read\_batches |
| `BundleSelection` | `bundle_selection/created` `bundle_selection/updated` `bundle_selection/deleted` | read\_subscriptions |
| `Customer` | `customer/activated` `customer/created` `customer/deactivated` `customer/payment_method_updated` `customer/updated` `customer/deleted` | read\_customers |
| `Charge` | `charge/created` `charge/failed` `charge/max_retries_reached` `charge/paid` `charge/refunded` `charge/uncaptured` `charge/upcoming` `charge/updated` `charge/deleted` | read\_orders |
| `Checkout` | `checkout/created` `checkout/completed` `checkout/processed` `checkout/updated`<br> Note: Deprecated and not available for the Shopify integration with Shopify hosted Checkout (aka SCI) | read\_orders |
| `Onetime` | `onetime/created` `onetime/deleted` `onetime/updated` | read\_subscriptions |
| `Order` | `order/cancelled` `order/created` `order/deleted` `order/processed` `order/payment_captured` `order/upcoming` `order/updated` `order/success` | read\_orders |
| `Plan` | `plan/created` `plan/deleted` `plan/updated` | read\_products |
| `Subscription` | `subscription/activated` `subscription/cancelled` `subscription/created` `subscription/deleted` `subscription/skipped` `subscription/updated` `subscription/unskipped` `subscription/swapped` `subscription/paused` | read\_subscriptions |
| `Store` | `store/updated` | read\_store |
| `Recharge` | `recharge/uninstalled` | store\_info |

# Create a webhook

Create a webhook. Currently, only the API can be used to create a webhook.

To register a webhook endpoint for a specific object, you will need to have read permissions for that object on your Recharge API token. For example, if you want to register a webhook for subscription/created, you will need the `read_subscriptions` permissions.

Each API token can register a maximum of 10 webhooks of the same topic.

Related guides: [Webhook payload examples](https://docs.rechargepayments.com/docs/webhook-payload-examples)

Related guides:
[Extending webhook responses](https://developer.rechargepayments.com/2021-11/extending_responses)

##### Body Parameters

- address







integer





\\* Required














The URI where the webhook should send the `POST` request when the event occurs.

- included\_objects







array













Possible values:

addresses,

collections,

customer,

metafields










List of objects set to enrich the webhook payload. cf. [extending responses](https://developer.rechargepayments.com/2021-11/extending_responses)

- topic







integer





\\* Required














The event that will trigger the webhook.

- version







string














The version of the API used to populate the body of the webhook. If not set, this will default to the store’s default API version.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/webhooks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X POST 'https://api.rechargeapps.com/webhooks' \
 --data '{"address": "https://request.in/foo", "topic": "subscription/created"}'
```

Response

200


```hljs json
{
  "webhook": {
    "id": 6,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-01"
  }
}
```

# Retrieve a webhook

Retrieve a webhook using the Recharge webhook id.

##### Responses

- 200




















successful response










Show response object



GET

/webhooks/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X GET https://api.rechargeapps.com/webhooks/19451
```

Response

200


```hljs json
{
  "webhook": {
    "id": 6,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-01"
  }
}
```

# Update a webhook

Modifies an existing `Webhook` to match the specified parameters.

Related guides:
[Extending webhook responses](https://developer.rechargepayments.com/2021-11/extending_responses)

##### Body Parameters

- address







string














The URI where the webhook should send the POST request when the event occurs.

- included\_objects







array













Possible values:

addresses,

collections,

customer,

metafields










List of objects set to enrich the webhook payload. cf. [extending responses](https://developer.rechargepayments.com/2021-11/extending_responses)

- topic







string














The event that will trigger the webhook.

- version







string














The version of the API used to populate the body of the webhook.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



PUT

/webhooks/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X PUT 'https://api.rechargeapps.com/webhooks/958' \
 --data '{"address": "https://request.in/foo"}'
```

Response

200


```hljs json
{
  "webhook": {
    "id": 6,
    "address": "https://request.in/foo",
    "topic": "subscription/created",
    "version": "2021-01"
  }
}
```

# Delete a webhook

Delete a `Webhook`

##### Responses

- 204




















Content Deleted: The server has successfully fulfilled the request and deleted the desired object and there is no content to send in the response body.










Show response object



DELETE

/webhooks/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X DELETE 'https://api.rechargeapps.com/webhooks/958'
```

Response

204


```hljs json
{}
```

# List webhooks

Returns all the webhooks of the given store that are owned by the current requesting client (note that a a private token shows all of the store’s webhooks, an integration token only shows that integration’s webhooks).

##### Responses

- 200




















successful response










Show response object



GET

/webhooks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 -X GET 'https://api.rechargeapps.com/webhooks'
```

Response

200


```hljs json
{
  "webhooks": [\
    {\
      "id": 19451,\
      "address": "https://request.in/foo",\
      "topic": "subscription/created",\
      "version": "2021-11"\
    },\
    {\
      "id": 19453,\
      "address": "https://request.in/foo",\
      "topic": "subscription/cancelled",\
      "version": "2021-11"\
    }\
  ]
}
```

# Test webhooks

In order to test webhook connectivity, you can trigger the dispatch of a test webhook with our webhook test endpoint. Sending a POST request to the webhook endpoint containing a webhook id will dispatch an empty webhook body to the specified webhook’s destination url.

##### Responses

- 200




















successful response










Show response object



POST

/webhooks/{id}/test


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'Content-Type: application/json' \
 -H 'Accept: application/json' \
 --data '{}'
 -X POST https://api.rechargeapps.com/webhooks/<webhook_id>/test
```

Response

200


```hljs json
{}
```

# Webhooks explained

Here you will find what specific action triggers a given webhook.

## Address webhooks

To use these webhooks your API Token must have read permissions for `Customers` enabled ( `read_customer` ).

| Topic | Explanation |
| --- | --- |
| `address/created` | This will trigger when you create an address via API, or when you go through the checkout with a particular address for the first time with the same customer. |
| `address/updated` | This will trigger when you update an address via API, or when you update the address via UI. It will also trigger whenever a subscription has been activated or cancelled. |

## Bundle webhooks

To use these webhooks your API Token must have read permissions for `Subscriptions` enabled ( `read_subscriptions` ).

| Topic | Explanation |
| --- | --- |
| `bundle_selection/created` | This will trigger when a new selection is created for a Bundle subscription. |
| `bundle_selection/updated` | This will trigger when a Bundle Selection is succesfully updated. |
| `bundle_selection/deleted` | This will trigger when a Bundle Selection is deleted. |

## Charge webhooks

To use these webhooks your API Token must have read permissions for `Orders` enabled ( `read_orders` ).

| Topic | Explanation |
| --- | --- |
| `charge/created` | This will trigger when a charge is created. |
| `charge/failed` | This will trigger every time we try to process a charge and it fails due to various reasons (insufficient funds, invalid CC info, expired CC, etc.) on both API and UI. |
| `charge/max_retries_reached` | This will trigger after we attempt to process a charge 8 times, and it failed every time due to various CC issues. This can be triggered on both UI (manually retry a charge 8 times and fail) and API. |
| `charge/paid` | This will trigger when a charge is successfully processed, both manually via UI and automatic recurring charge. This will not trigger on the checkout itself. |
| `charge/refunded` | This will trigger when a charge is successfully refunded, either partially or in full. It will fire if a charge has been refunded both manually via UI and through an API request. |
| `charge/upcoming` | This will trigger X days before the upcoming charge is scheduled. The default is 3 days but your store specific setting can be verified on the Notification Settings page in the description of the Upcoming charge customer notification. |
| `charge/updated` | This will trigger when applying a discount, a change to charge that recalculates shipping rates as well as if next\_charge\_date is updated on charge endpoint charges/<charge\_id>/change\_next\_charge\_date. |
| `charge/deleted` | This will trigger when a subscription is cancelled and upcoming charges are deleted. |

## Checkout webhooks

To use these webhooks your API Token must have read permissions for `Orders` enabled ( `read-orders` ).

| Topic | Explanation |
| --- | --- |
| `checkout/created` | This will trigger when a checkout is successfully created. |
| `checkout/completed` | Will be deprecated. |
| `checkout/processed` | This will trigger when a checkout is successfully processed. |
| `checkout/updated` | This will trigger when a checkout is successfully updated. |

## Customer webhooks

To use these webhooks your API Token must have read permissions for `Customers` enabled ( `read_customers` ).

| Topic | Explanation |
| --- | --- |
| `customer/activated` | This will trigger when you activate\* a customer <br> \\* activating means that you have added a subscription to a customer who didn’t have an active subscription previously. |
| `customer/created` | This will trigger when you create a customer via API or go through the checkout with a particular email address for a first time customer. |
| `customer/deactivated` | This will trigger when the last subscription a customer had expires, so he no longer has ANY active subscriptions (which means there are no QUEUED charges/orders for this customer). |
| `customer/payment_method_updated` | This will trigger only\* when you update the payment\_token from the UI <br> \\* We are working on triggering this when you do the update from the API as well. |
| `customer/updated` | This will trigger when you update a customer via both API and UI. |
| `customer/deleted` | This will trigger when you delete a customer via both API and UI. |

## Onetime webhooks

To use these webhooks your API Token must have read permissions for `Subscriptions` enabled ( `read_subscriptions` ).

| Topic | Explanation |
| --- | --- |
| `onetime/created` | This will trigger when you create a one time product via API. |
| `onetime/deleted` | This will trigger when you delete a one time product via API. |
| `onetime/updated` | This will trigger when you update a one time product via API. |

## Order webhooks

To use these webhooks your API Token must have read permissions for `Orders` enabled ( `read_orders` ).

| Topic | Explanation |
| --- | --- |
| `order/created` | This will trigger when an order is created (when a charge is successfully processed) <br> \\* In case of prepaid Orders the order/created webhooks will be fired for each prepaid order that is created. This occurs on the date the order is scheduled at. |
| `order/deleted` | This will trigger when an order is deleted. |
| `order/processed` | This will trigger when the order is processed (when an order goes from status `queued` to status `success`). This will not trigger on checkout. |
| `order/upcoming` | This will trigger X days before a QUEUED (prepaid) order is scheduled to be processed. The default is 3 days. |
| `order/updated` | This will trigger when an order is updated. |

## Plan webhooks

To use these webhooks your API Token must have read permissions for `Products` enabled ( `read_products` ).

| Topic | Explanation |
| --- | --- |
| `plan/created` | This will trigger when a plan is created by one of the following methods: via API, via Merchant portal or when using the `2021-01` `Products` endpoint. |
| `plan/deleted` | This will trigger when a plan is deleted by one of the following methods: via API, via Merchant portal or when using the `2021-01` `Products` endpoint. |
| `plan/updated` | This will trigger when a plan is updated by one of the following methods: via API, via Merchant portal or when using the `2021-01` `Products` endpoint… |

## Subscription webhooks

To use these webhooks your API Token must have read permissions for `Subscriptions` enabled ( `read_subscriptions` ).

| Topic | Explanation |
| --- | --- |
| `subscription/activated` | This will trigger when you activate a subscription via API or UI. |
| `subscription/cancelled` | This will trigger when you cancel a subscription via API or UI. An involuntary subscription cancelled due to max retries reached will only trigger the charge/max\_retries\_reached webhook and not the subscription/cancelled webhook. |
| `subscription/created` | This will trigger when you create a subscription via API or when you go through the checkout on UI. |
| `subscription/deleted` | This will trigger when you delete a subscription via API or UI. |
| `subscription/skipped` | This will trigger when you skip a subscription within a charge, meaning that you only skip a particular subscription (the subscription\_id you send in the body) in that charge if there are multiple subscriptions related to that charge. |
| `subscription/unskipped` | This will trigger when you unskip a subscription within a charge, meaning you only unskip a particular subscription (the subscription\_id you send in the body) in that charge if there are multiple subscriptions related to that charge. |
| `subscription/updated` | This will trigger when you update a subscription via API (PUT method) or when you update the subscription via UI. This will also trigger when you update next charge date on Customer Portal, or when you change it using subscription endpoint `subscriptions/ <subscription_id>set_next_charge_date`. |
| `subscription/swapped` | This will trigger when you swap a subscription product for a given address to a different product or product variation API or UI. |
| `subscription/paused` | This will trigger when a customer pauses a subscription from within the customer portal. |

## Other webhooks

To use these webhooks your API Token must have read permissions for `Store` enabled ( `read_store` ).

| Topic | Explanation |
| --- | --- |
| `app/uninstalled` | This will trigger when you uninstall OAuth app on your store. |
| `recharge/uninstalled` | This will trigger when Recharge is uninstalled. |
| `store/updated` | This will trigger when and update has been made to the store. |

# Webhook validation

Webhooks created through the API can be verified by calculating a digital signature. Each Webhook request includes an X-Recharge-Hmac-Sha256 header which is generated using the API Client Secret, along with the data sent in the request.

API Client Secret is not the same as your API token and it can be found at:

Recharge Dashboard—>Integrations—>API Tokens—>Click on your token

Edit API Token page will appear and there you will find API Client Secret

The request\_body must be in JSON string format. Validation will fail even if one space is lost in process of JSON string generation.

Then use code similar to the example by adapting it to the programming language that you are using for your project.

Related guides: [Example code for validating webhooks](https://docs.rechargepayments.com/docs/webhooks-overview#validating-webhooks)

Example Request:

cURLPythonPHPRuby

```hljs bash

```

# Async batch Endpoints

The Async batches API can be used for processing large volumes of operations asynchronously, in order to reduce aggregate processing time and network traffic when interacting with many unique objects. For example, a user can leverage async\_batches to create 1000 discounts with only 3 API requests.

**As shown in the diagram below, the necessary steps to create and process a batch are:**

1\. Create an async\_batch with the desired batch\_type

2\. Add tasks (individual operations) to your batch. You can add up to 1,000 tasks with each request, up to 10,000 tasks per batch.

3\. Submit the batch for processing. Until a batch is submitted for processing, no tasks are attempted.

4\. You may retrieve the batch to view progress details while it processes, or register for the `async_batch/processed` webhook to receive immediate notification of batch completion.

5\. Page through the tasks in the batch to view results of each completed or failed task.

Related guides: [Examples of Async batches](https://docs.rechargepayments.com/docs/async-batches)![](https://developer.getrecharge.com/images/async_batch.png)

Endpoints

POST

/async\_batches


GET

/async\_batches/{id}


GET

/async\_batches


POST

/async\_batches/{batch\_id}/process


Expand

# The async batch object

`Async batch` contains all the setups information and status update of a batch of operation to be performed collectively.

Batches will only leverage resources from the same version they are created in. e.g. a batch created with `2021-11` will only process tasks from the `2021-11` version.

##### Attributes

- id







string














Unique identifier of the batch, used for adding tasks to a batch and to initiate batch processing

- batch\_type







string













Possible values:

discount\_create,

discount\_update,

discount\_delete,

bulk\_plans\_create,

bulk\_plans\_update,

bulk\_plans\_delete,

onetime\_create,

onetime\_delete










Indicates the object type and operation required for all tasks in a batch

- closed\_at







string














Indicates the date and time that processing was completed for a batch

- created\_at







string














Indicates the date and time a batch was created

- fail\_task\_count







string














Indicates the number of failed tasks in a batch, during or after processing

- status







string














Indicates the status of the batch. Available statuses are not\_started, processing, completed, failed

- submitted\_at







string














Indicates the date and time that a batch was triggered to process

- success\_task\_count







string














Indicates the number of successful tasks in a batch, during or after processing.

- total\_task\_count







string














Indicates the total number of tasks in a batch

- updated\_at







string














Indicates the date and time at which a batch was last updated

- version







string














Indicates the API version of the batch.







read-only field


##### Error related attributes

##### More Attributes

The async batch object

```hljs json
{
  "async_batch": {
    "id": 19,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-02-17T08:52:10+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "not_started",
    "submitted_at": null,
    "success_task_count": 0,
    "total_task_count": 0,
    "updated_at": "2022-02-17T08:52:10+00:00",
    "version": "2021-11"
  }
}
```

# Create a batch

In order to create, retrieve, or process batches, the API token requires the write\_batches permission. Additional permissions are required, dependent upon the indicated batch\_type. For example, for a batch type of discount\_create, the API token requires the write\_discounts permission.

Create a new batch, and indicate the desired outcome of the batch using batch\_type.

CAUTION

Async batches and their tasks will only be retained in Recharge for one month after batch creation.

Available batch types

The async\_batches API supports many functions, each identified as a batch\_type. Typically, the task body for a batch\_type will be representative of a single request to our standard endpoints, however, some variations may be present.

Related guides: [Examples of Async Batches](https://docs.rechargepayments.com/docs/async-batches)

Batches will only leverage resources from the same version they are created in. e.g. a batch created with `2021-11` will only process tasks from the `2021-11` version.

Scopes:
write\_batches


##### Body Parameters

- batch\_type







string













Possible values:

discount\_create,

discount\_update,

discount\_delete,

bulk\_plans\_create,

bulk\_plans\_update,

bulk\_plans\_delete,

onetime\_create,

onetime\_delete










Desired batch type


##### More Parameters

##### Responses

- 201




















successful response










Show response object



POST

/async\_batches


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -X POST 'https://api.rechargeapps.com/async_batches' \
 --data '{ "batch_type": "desired_batch_type"}'
```

Response

201


```hljs json
{
  "async_batch": {
    "id": 19,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-10-12T20:16:09+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "not_started",
    "submitted_at": null,
    "success_task_count": 0,
    "total_task_count": 0,
    "updated_at": "2022-10-12T20:16:09+00:00",
    "version": "2021-11"
  }
}
```

# Retrieve a batch

Retrieve a batch using the Recharge batch id. A batch can be retrieved during processing to evaluate batch progress.

## HTTP request examples

`GET /async_batches/<batch_id>`

##### Responses

- 200




















successful response










Show response object



GET

/async\_batches/{id}


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -X GET 'https://api.rechargeapps.com/async_batches/16'
```

Response

200


```hljs json
{
  "async_batch": {
    "id": 19,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-10-12T20:16:09+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "not_started",
    "submitted_at": null,
    "success_task_count": 0,
    "total_task_count": 0,
    "updated_at": "2022-10-12T20:16:09+00:00",
    "version": "2021-11"
  }
}
```

# List batches

Returns a list of all your async\_batches.

##### Responses

- 200




















successful response










Show response object



GET

/async\_batches


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
 -H "Accept: application/json" \
 -H "Content-Type: application/json" \
 -X GET 'https://api.rechargeapps.com/async_batches'
```

Response

200


```hljs json
{
  "async_batches": [\
    {\
      "id": 20,\
      "batch_type": "discount_delete",\
      "closed_at": null,\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "deleted_at": null,\
      "fail_task_count": 0,\
      "status": "not_started",\
      "submitted_at": null,\
      "success_task_count": 0,\
      "total_task_count": 40,\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "version": "2021-11"\
    },\
    {\
      "id": 19,\
      "batch_type": "discount_update",\
      "closed_at": null,\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "deleted_at": null,\
      "fail_task_count": 0,\
      "status": "not_started",\
      "submitted_at": null,\
      "success_task_count": 0,\
      "total_task_count": 0,\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "version": "2021-11"\
    },\
    {\
      "id": 16,\
      "batch_type": "discount_create",\
      "closed_at": "2022-10-12T20:16:09+00:00",\
      "created_at": "2022-10-12T20:16:09+00:00",\
      "deleted_at": null,\
      "fail_task_count": 0,\
      "status": "completed",\
      "submitted_at": "2022-10-12T20:16:09+00:00",\
      "success_task_count": 2000,\
      "total_task_count": 2000,\
      "updated_at": "2022-10-12T20:16:09+00:00",\
      "version": "2021-11"\
    }\
  ]
}
```

# Process a batch

Until a batch is submitted for processing, no tasks are attempted. Once you have ensured the tasks in a batch are ready for processing, you can submit for processing using this endpoint and the associated batch id.

Webhooks - Batches process quickly, and may result in Recharge dispatching many webhooks at a high rate. Ensure any systems subscribed to resulting webhooks are capable of handling such load.

##### Responses

- 201




















successful response










Show response object



POST

/async\_batches/{batch\_id}/process


cURLPythonPHPRuby

```hljs js
curl -X POST 'https://api.rechargeapps.com/async_batches/21/process' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'Content-Type: application/json' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d '{}'
```

Response

201


```hljs json
{
  "async_batch": {
    "id": 21,
    "batch_type": "discount_create",
    "closed_at": null,
    "created_at": "2022-06-05T10:53:36+00:00",
    "deleted_at": null,
    "fail_task_count": 0,
    "status": "processing",
    "submitted_at": "2022-06-05T10:54:54+00:00",
    "success_task_count": 0,
    "total_task_count": 10,
    "updated_at": "2022-06-05T10:54:54+00:00",
    "version": "2021-11"
  }
}
```

# Async batch Tasks

Most commonly, the response from listing tasks on an async\_batch id will be identical to the body of a singular request to standard Recharge API endpoints. However, in some instances there are variations from the standard list task response body. See below for examples corresponding to each batch\_type.

Related guides: [Examples of async batches](https://docs.rechargepayments.com/docs/async-batches)

Endpoints

POST

/async\_batches/{batch\_id}/tasks


GET

/async\_batches/{batch\_id}/tasks


Expand

# The async batch Tasks object

##### Attributes

- batch\_id







integer














Indicates the batch that the task is contained by

- body







object














This object contains the body of a standard API request. For example, when creating discounts with a discount\_create batch, this parameter contains a standard body for POST /discounts

- completed\_at







datetime














Indicates the date and time a task was completed

- created\_at







datetime














Indicates the date and time that a task was created and added to the batch

- deleted\_at







datetime














Indicates the date and time that a task was deleted from the batch

- id







integer














Unique identifier for the task within a batch

- queued\_at







datetime














Indicates the date and time a task was queued for processing within batch processing

- result







string














Contains the individual response body for the task

- started\_at







datetime














Indicates the date and time a task was processed

- status







string













Possible values:

pending,

processing,

failed,

success










Indicates the status of the task within a batch.

- updated\_at







datetime














Indicates the date and time a task was most recently updated


##### Error related attributes

##### More Attributes

The async batch Tasks object

```hljs json

```

# Create a batch task

A batch contains operations of similar type (indicated by batch\_type), called tasks. A task is typically representative of a single API request, with a body parameter containing the standard request body for the associated batch\_type. A single request to add tasks may contain up to 1,000 tasks, and a batch may contain up to 10,000 tasks.

##HTTP examples

`POST /async_batches/<batch_id>/tasks`

Batches will only leverage resources from the same version they are created in. e.g. a batch created with `2021-11` will only process tasks from the `2021-11` version.

##### Body Parameters

- batch\_id







integer














Indicates the batch that the task is contained by

- body







object














This object contains the body of a standard API request. For example, when creating discounts with a discount\_create batch, this parameter contains a standard body for POST /discounts

- completed\_at







datetime














Indicates the date and time a task was completed

- created\_at







datetime














Indicates the date and time that a task was created and added to the batch

- deleted\_at







datetime














Indicates the date and time that a task was deleted from the batch

- id







integer














Unique identifier for the task within a batch

- queued\_at







datetime














Indicates the date and time a task was queued for processing within batch processing

- result







string














Contains the individual response body for the task

- started\_at







datetime














Indicates the date and time a task was processed

- status







string













Possible values:

pending,

processing,

failed,

success










Indicates the status of the task within a batch.

- updated\_at







datetime














Indicates the date and time a task was most recently updated


##### More Parameters

##### Responses

- 200




















successful response










Show response object



POST

/async\_batches/{batch\_id}/tasks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-X POST https://api.rechargeapps.com/async_batches/21/tasks \
--data '{
  "tasks": [\
    {\
      "body": {\
        "code": "indexing",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "maroon",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "web services",\
        "value": 100,\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled"\
      }\
    },\
    {\
      "body": {\
        "code": "PCI",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "Cheese",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "overriding",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "bandwidth-monitored",\
        "value": 100,\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled"\
      }\
    },\
    {\
      "body": {\
        "code": "Falkland Islands (Malvinas)",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "Computer",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    },\
    {\
      "body": {\
        "code": "digital",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      }\
    }\
  ]
}'
```

Response

200


```hljs json
{
  "count": 10
}
```

# List batch tasks

Returns a list of all tasks in the indicated batch, using batch id. For batches with many tasks, pagination is supported when listing tasks. Use this function to evaluate the task-level results of a batch during, or after processing. Task results will be contained in the `results` object of each task.

##### Query Parameters

- ids







string














Filter tasks by id. If passing multiple values, must be comma separated. Non-integer values will result in a 422 error


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/async\_batches/{batch\_id}/tasks


cURLPythonPHPRuby

```hljs js
curl -i -H 'X-Recharge-Access-Token: your_api_token' \
 -H 'X-Recharge-Version: 2021-11' \
-H "Accept: application/json" \
-H "Content-Type: application/json" \
-X GET https://api.rechargeapps.com/async_batches/16/tasks
```

Response

200


```hljs json
{
  "next_cursor": null,
  "previous_cursor": null,
  "async_batch_tasks": [\
    {\
      "id": 1490831511,\
      "batch_id": 765278,\
      "body": {\
        "code": "Computer",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831510,\
      "batch_id": 765278,\
      "body": {\
        "code": "Falkland Islands (Malvinas)",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831509,\
      "batch_id": 765278,\
      "body": {\
        "code": "bandwidth-monitored",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831508,\
      "batch_id": 765278,\
      "body": {\
        "code": "overriding",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831507,\
      "batch_id": 765278,\
      "body": {\
        "code": "Cheese",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831506,\
      "batch_id": 765278,\
      "body": {\
        "code": "PCI",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831505,\
      "batch_id": 765278,\
      "body": {\
        "code": "web services",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831504,\
      "batch_id": 765278,\
      "body": {\
        "code": "maroon",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    },\
    {\
      "id": 1490831503,\
      "batch_id": 765278,\
      "body": {\
        "code": "indexing",\
        "discount_type": "shipping",\
        "duration": "forever",\
        "status": "enabled",\
        "value": 100\
      },\
      "completed_at": null,\
      "created_at": "2022-02-17T06:40:53+00:00",\
      "deleted_at": null,\
      "queued_at": null,\
      "result": null,\
      "started_at": null,\
      "status": "pending",\
      "updated_at": "2022-02-17T06:40:53+00:00"\
    }\
  ]
}
```

# Token information

This resource allows a caller to inspect basic information regarding the `token` in use. It will only return a single object related to the calling `token` ( ie - a call with `api_token.id=1` will only return information regarding `api_token.id=1`.

Endpoints

GET

/token\_information


Expand

# The token information object

Details of the client which generated the token.

If the API token was generated by an OAuth app, the object will contain associated client information.

If the API token was generated by the merchant, the object will reflect the `name` prefaced by ‘\[Private App\]’ and `contact_email` of the token.

##### Attributes

- client







object














If the API Token was generated by an Oauth app, an object containing associated client information.










Show object attributes


- contact\_email







string














The email associated with the API Token record.







For tokens created via OAuth App the contact can be `null`

- name







string














The name of the API Token as created by merchant.

- scopes







array














A list of scopes on the API Token.


##### Error related attributes

##### More Attributes

The token information object

```hljs json
{
  "client": {
    "name": "PARTNER",
    "contact_email": "ed@partner.com"
  },
  "contact_email": "jbluhm@example.com",
  "name": "token name",
  "scopes": [\
    "read_shop",\
    "write_payments"\
  ]
}
```

# Retrieve token information

Retrieve token details.

##### Responses

- 200




















successful response










Show response object



GET

/token\_information


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/token_information' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "token_information": {
    "client": {
      "name": "PARTNER",
      "contact_email": "ed@partner.com"
    },
    "contact_email": "jbluhm@example.com",
    "name": "token name",
    "scopes": [\
      "read_store",\
      "write_payment_methods"\
    ]
  }
}
```

# Accounts

This resource allows a caller to inspect basic information regarding the staff accounts in the store. ![](https://developer.getrecharge.com/images/accounts.png)

Endpoints

GET

/accounts/{id}


GET

/accounts


Expand

# The account object

An `Account` record represents a staff account details for the `Store`. One `Store` can have many staff’s account.

##### Attributes

- id







integer














Unique numeric identifier for the `Account`.

- user\_id







integer














The unique numeric identifier of the user associated to the `Account`.







There can only be one `Account` per user per `Store`.

- created\_at







datetime














The date and time when the `Account` was created.

- invited\_at







datetime














The date and time the user was last invited to open their `Account`







`null` for the store creator.

If an invite to open an `Account` is re-issued for a user, `invited_at` will hold the timestamp of the most recent invite sent.

- is\_owner







boolean














Flags whether this user is the store owner.







A `Store` can have multiple owners.


##### Error related attributes

##### More Attributes

The account object

```hljs json
{
  "account": {
    "id": 3315125,
    "user_id": 2057785,
    "created_at": "2021-07-20T09:10:19+00:00",
    "invited_at": "2021-07-18T09:10:19+00:00",
    "is_owner": false
  }
}
```

# Retrieve an account

Retrieves an account for the store.

Scopes:
read\_accounts


##### Responses

- 200




















successful response










Show response object



GET

/accounts/{id}


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/accounts/331512' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token'
```

Response

200


```hljs json
{
  "account": {
    "id": 3315125,
    "user_id": 2057785,
    "created_at": "2021-07-20T09:10:19+00:00",
    "invited_at": "2021-07-18T09:10:19+00:00",
    "is_owner": false
  }
}
```

# List accounts

Returns all accounts associated to the store.

Scopes:
read\_accounts


##### Responses

- 200




















successful response










Show response object



GET

/accounts


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/accounts' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "accounts": [\
    {\
      "id": 3315125,\
      "user_id": 2057785,\
      "created_at": "2021-07-20T09:10:19+00:00",\
      "invited_at": "2021-07-18T09:10:19+00:00",\
      "is_owner": false\
    },\
    {\
      "id": 3316125,\
      "user_id": 2056785,\
      "created_at": "2021-05-20T09:10:19+00:00",\
      "invited_at": null,\
      "is_owner": true\
    }\
  ]
}
```

# Events

This resource allows a caller to inspect recent events in the store.

Endpoints

GET

/events


Expand

# The event object

Pro plan

An `Event` record represents an action that took place at a point in time.

##### Attributes

- id







integer














Unique numeric identifier for the `Event`.

- object\_id







integer














The unique numeric identifier of the object associated with the `Event`.

- customer\_id







integer














The unique numeric identifier of the customer associated with the `Event`.







This value can be `null` for events not directly associated with a customer.

- created\_at







datetime














The date and time when the `Event` was created.

- object\_type







string














The resource type of the object associated with the `Event`, e.g. ‘customer’ or ‘subscription’

- verb







string














The action describing the `Event`, e.g. ‘created’ or ‘updated’

- description







string














The short description that summarizes the `Event`.

- updated\_attributes







object














A list of objects describing attributes that were changed during the `Event`.










Show object attributes


- source







object














An object containing details about the origin of the `Event`.










Show object attributes


- custom\_attributes







object














A list of objects passed explicitly to a Recharge API call that created the `Event`.







This field will only be populated on events created using the Recharge API.










Show object attributes



##### Error related attributes

##### More Attributes

The event object

```hljs json
{
  "event": {
    "id": 7160141294,
    "object_id": 362310818,
    "customer_id": 36885098,
    "created_at": "2023-05-31T14:16:07",
    "object_type": "subscription",
    "verb": "updated",
    "description": "Updated subscription #362310818",
    "updated_attributes": [\
      {\
        "attribute": "price",\
        "previous_value": "12.00",\
        "value": "15.00"\
      },\
      {\
        "attribute": "quantity",\
        "previous_value": "3",\
        "value": "5"\
      }\
    ],
    "source": {
      "account_id": null,
      "api_token_id": 987654321,
      "api_token_name": "Subscription API token",
      "account_email": null,
      "origin": "api",
      "user_type": null
    },
    "custom_attributes": [\
      {\
        "key": "ab_testing_flag",\
        "value": "a"\
      }\
    ]
  }
}
```

# List events

Returns all events associated with the store. The Events API is limited to events that occurred in the last 7 days

Granting the `read_events` scope to a token will expose some details about other Recharge API resources via the Events API.

Scopes:
read\_events


##### Query Parameters

- created\_at\_min







string














Show events that occurred after a certain date

- created\_at\_max







string














Show events that occurred before a certain date

- object\_type







string














Show events that occurred for a certain `object_type`, such as `customers`, `addresses`, `charges`, etc.

- object\_id







integer














Show events with a specific `object_id`. This filter should be used with the `object_type` filter.

- verbs







string














Show events with a specific `verb` or comma-separated list of `verbs`

- customer\_id







integer














Show events related to a specific `customer` using the customer’s primary identifier

- origin







string














Show events with a specific source.origin, such as `api`, `customer_portal`, `merchant_portal`, or `recharge_process`.


##### More Parameters

##### Responses

- 200




















successful response










Show response object



GET

/events


cURLPythonPHPRuby

```hljs js
curl 'https://api.rechargeapps.com/events' \
 -H 'X-Recharge-Version: 2021-11' \
 -H 'X-Recharge-Access-Token: your_api_token' \
 -d limit=3 -G
```

Response

200


```hljs json
{
  "events": [\
    {\
      "id": 7160141294,\
      "object_id": 362310818,\
      "customer_id": 36885098,\
      "created_at": "2023-05-31T14:16:07",\
      "object_type": "subscription",\
      "verb": "updated",\
      "description": "Updated subscription #362310818",\
      "updated_attributes": [\
        {\
          "attribute": "price",\
          "previous_value": "12.00",\
          "value": "15.00"\
        },\
        {\
          "attribute": "quantity",\
          "previous_value": "3",\
          "value": "5"\
        }\
      ],\
      "source": {\
        "account_id": null,\
        "api_token_id": 987654321,\
        "api_token_name": "Subscription API token",\
        "account_email": null,\
        "origin": "api",\
        "user_type": null\
      },\
      "custom_attributes": [\
        {\
          "key": "ab_testing_flag",\
          "value": "a"\
        }\
      ]\
    }\
  ]
}
```

